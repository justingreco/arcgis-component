import { s as s$1, a as s$2, r as r$2, m as m$3, e, d as d$3, n as n$6, b as b$2, c as a$3, f as r$3, y as y$3, g as r$4, h as e$2, E as E$1, L as L$2, t as t$2, i as i$3, o as o$4 } from './cast-3d5be210.js';
import { s as s$3 } from './intl-54ccdc89.js';
import { u as u$1 } from './Handles-54afc0a7.js';
import { l as l$3, h as h$3, j as j$4, a as a$6 } from './reactiveUtils-bd6fe823.js';
import { o as o$5 } from './aliasOf-bdfe6662.js';
import { O, n as n$a, e as e$4, t as t$3, v as v$4, A, k as k$2 } from './jsxFactory-4cd653a4.js';
import { a as a$5 } from './assets-99f5c3ee.js';
import { g as g$2 } from './Graphic-93f45ded.js';
import { B as B$1 } from './PopupTemplate-b459951f.js';
import { n as n$9, m as m$5, S as S$2, a as m$7 } from './symbols-ab3e849a.js';
import { j as j$3, n as n$8 } from './Collection-a38e0489.js';
import { j as j$2, R as R$1, k as k$1 } from './Point-edff2a11.js';
import { s as s$5 } from './Promise-d2759b2e.js';
import { h as h$2 } from './messages-5e9a4a9e.js';
import { B } from './Portal-5df9f5a7.js';
import { e as e$1, a as e$3 } from './GoTo-929e809f.js';
import { a as a$2, p as p$4, i as i$2, c as c$3, m as m$6, s as s$6, S as S$3, w as w$3, v as v$3, x as x$1 } from './LocatorSearchSource-660fdf8a.js';
import { z as z$1 } from './unitUtils-a0a11e54.js';
import { v as v$1, m as m$4 } from './Polyline-dcdb3782.js';
import { L as L$1 } from './number-c5a37d3e.js';
import { s as s$4 } from './request-ac4d8bfb.js';
import { v as v$2, d as d$4 } from './geometry-2f332a26.js';
import './Extent-f27111e1.js';
import { l as l$2 } from './JSONSupport-dce2c67b.js';
import { a as a$4, n as n$7 } from './project-248cf8a5.js';
import { t as t$4 } from './vmEvent-c5708c9c.js';
import './uuid-ac104993.js';
import './index-f980186a.js';
import './Clonable-533c7a05.js';
import './fieldUtils-240a3b99.js';
import './enumeration-6695a859.js';
import './ActionToggle-a5849e6f.js';
import './Identifiable-d9658370.js';
import './CIMSymbol-15bdb580.js';
import './Symbol-573a64f6.js';
import './Color-25ce730a.js';
import './colorUtils-5009883d.js';
import './mathUtils-559a53d9.js';
import './screenUtils-31d073db.js';
import './opacityUtils-dcd94f00.js';
import './aaBoundingBox-b312516d.js';
import './aaBoundingRect-5e1a4e52.js';
import './persistableUrlUtils-5dcd6081.js';
import './collectionUtils-302901c0.js';
import './suggestLocations-94082560.js';
import './utils-d801fb7f.js';
import './commonProperties-056be17d.js';
import './scaleUtils-c3d4b164.js';

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
const c$2=/https?:\/\/services.*\.arcgis\.com/i,d$2=/(?:\{([^}]+)\})/g,f$1=s$1.getLogger("esri.widgets.Search.support.layerSearchUtils");function m$2(t,r){const{exactMatch:i=!1,location:o,maxResults:s,spatialReference:l,source:u,sourceIndex:a,suggestResult:c,view:d}=t,{layer:m,filter:g,zoomScale:v}=u,b=d&&d.scale,j=p$3(u,d),T=r&&r.signal;return h$1(m).then((()=>{const e=m.popupTemplate;return e?e.getRequiredFields(m.fieldsIndex):null})).then((t=>{const{objectIdField:r,returnZ:p}=m,h=x(u);if(!$$1(m,h))throw f$1.error("invalid-field: displayField is invalid."),new s$2("getResults():invalid-field","displayField is invalid.");const R=t&&t.length?t:[h],S=u.outFields||R,D=y$2(S);S.includes(r)||D||S.push(r),m.floorInfo?.floorField&&S.push(m.floorInfo.floorField);if(!(D||w$2(m,S)))throw f$1.error("invalid-field: outField is invalid."),new s$2("getResults():invalid-field","outField is invalid.");const E=m.createQuery(),{orderByFields:M}=u;if(M&&(E.orderByFields=M),l){E.outSpatialReference=l;const e=1/z$1(l);e&&(E.maxAllowableOffset=e);}const C="mesh"===m.geometryType||"multipatch"===m.geometryType,N=m.capabilities?.data?.supportsZ&&!C;if(E.returnZ=N&&!1!==p,E.returnGeometry=!0,E.multipatchOption=C?"xyFootprint":null,S&&(E.outFields=S),o)E.geometry=o;else if(c.key)E.objectIds=[c.key];else {const t=u.searchFields||[h];if(!w$2(m,t))throw f$1.error("invalid-field: search field is invalid."),new s$2("getResults():invalid-field","search field is invalid.");F(m)&&(E.num=s),j&&(E.geometry=j);if(!c.text.trim())return [];const{prefix:r="",suffix:n=""}=u,o=L({searchTerm:I(`${r}${c.text}${n}`),layer:m,searchFields:t,filter:g,exactMatch:i,type:"search"});if(!o)return [];E.where=o;}return m.queryFeatures(E,{signal:T}).then((e=>U(e,d,u,a,h,b,v)))}))}function g$1(t,r){const{source:i,spatialReference:n,view:o,suggestTerm:s,maxSuggestions:l,sourceIndex:u,exactMatch:a}=t,{layer:c,filter:m}=i,g=r&&r.signal,v=p$3(i,o);return h$1(c).then((()=>{if(!F(c))return [];const t=x(i),r=i.searchFields||[t],o=[];i.suggestionTemplate?i.suggestionTemplate.replace(d$2,((e,t)=>(o.push(t),e))):o.push(t);const p=y$2(o);o.includes(c.objectIdField)||p||o.push(c.objectIdField);const h=$$1(c,t),b=p||w$2(c,o),j=w$2(c,r);if(!h)throw f$1.error("invalid-field: displayField is invalid."),new s$2("getSuggestions():invalid-field","displayField is invalid.");if(!b)throw f$1.error("invalid-field: outField is invalid."),new s$2("getSuggestions():invalid-field","outField is invalid.");if(!j)throw f$1.error("invalid-field: search field is invalid."),new s$2("getSuggestions():invalid-field","search field is invalid.");const T=c.createQuery(),{orderByFields:R}=i;R&&(T.orderByFields=R),T.outSpatialReference=n,T.returnGeometry=!1,T.num=l,T.outFields=o,v&&(T.geometry=v);if(!s.trim())return [];const{prefix:S="",suffix:D=""}=i,E=L({searchTerm:I(`${S}${s}${D}`),layer:c,searchFields:r,filter:m,exactMatch:a,type:"suggest"});return E?(T.where=E,c.queryFeatures(T,{signal:g}).then((e=>N$1(e,i,u,t)))):[]}))}function p$3(e,t){const{filter:r,withinViewEnabled:i}=e,n=t&&t.extent;return r&&r.geometry||(i&&n?n:void 0)}function y$2(e){return e&&e.includes("*")}async function h$1(e){e&&await e.load();}function F(e){return e?.capabilities?.query?.supportsPagination??!1}function v(e){return e?.fieldsIndex?.fields?.find((e=>"string"===e.type))?.name??""}function x(e){return e.displayField||e.layer.displayField||v(e.layer)}function w$2(e,t){return !(!e||!t)&&t.every((t=>$$1(e,t)))}function $$1(e,t){return !!e.getField(t)}function b$1(e){for(let t=0;t<e.length;t++)if(e.charCodeAt(t)>255)return !0;return !1}function j$1(e,t,r){let i=null;const{codedValues:n}=e;return n&&n.some((e=>{const n=e.name,o=r?n:n.toLowerCase();return (r?t:t.toLowerCase())===o&&(i=e.code.toString(),!0)})),i}function I(e){return e.replace(/\'/g,"''")}function T(e,t){const r=t&&t.where;return r?`(${e}) AND (${r})`:e}function R({currentTerm:e,field:t,filter:r,exactMatch:i,url:n,type:o}){const s=t.type,l=t.name;if("string"===s||"date"===s||"global-id"===s){const t=c$2.test(n),s=t&&b$1(e)?"N":"";if(i&&"search"===o)return T(`${l} = ${s}'${e}'`,r);const u=t?l:`UPPER(${l})`,a=t?e:e.toUpperCase();return T(`${u} LIKE ${s}${i?`'${a}%'`:`'%${a}%'`}`,r)}if("oid"===s||"small-integer"===s||"integer"===s||"single"===s||"double"===s){const t=Number(e);return isNaN(t)?null:T(`${l} = ${t}`,r)}return T(`${l} = ${e}`,r)}function S$1(e,t){return e?` OR (${t})`:`(${t})`}function L({searchTerm:e,layer:t,searchFields:r,filter:i,exactMatch:n,type:o}){const{definitionExpression:s,url:l}=t;let u="";return e&&r&&r.forEach((r=>{const s=t.getField(r),a="function"==typeof t.getFieldDomain&&t.getFieldDomain(r),c=(a&&"coded-value"===a.type?j$1(a,e,n):null)||e||null;if(null!==c){const e=R({currentTerm:c,field:s,filter:i,exactMatch:n,url:l,type:o});e&&(u+=S$1(u,e));}})),s?`(${s}) AND (${u})`:u}function D(e,t){let r=null;const{codedValues:i}=e;return i&&i.length&&i.some((e=>e.code===t&&(r=e.name,!0))),r}function E(e,t){return e[Object.keys(e).find((e=>e.toLowerCase()===t.toLowerCase()))]}function M(e,t,r){const i=e.sourceLayer,{attributes:n}=e,o="function"==typeof i.getFieldDomain&&i.getFieldDomain(r);if(t)return s$3(t,n);if(r&&n){const e=i.getField(r),t=E(n,r);return null==t?"":o&&"coded-value"===o.type?D(o,t):"date"===e?.type?L$1(new Date(t)):"number"==typeof t?t.toString():"string"!=typeof t?"":t.trim()}return ""}function C(e,t,r,i){const n=e.sourceLayer,{attributes:o}=e,{objectIdField:s}=n,l=o[s];return {text:M(e,t.suggestionTemplate,i),key:l,sourceIndex:r}}function N$1(e,t,r,i){return e.features.map((e=>C(e,t,r,i)))}function k(e,r,n,u,a,c,d){const f=e.clone(),m=e.sourceLayer,g=m&&m.objectIdField,p=g&&e.attributes[g],y=M(e,n.searchTemplate,a),h=a$2(f.geometry,r,c),F="number"==typeof d?p$4(m$3(h),r,d):h,v=e.clone();return r$2(F)&&(v.geometry=v$1.fromExtent(F)),{extent:F,target:v,feature:f,key:p,name:y,sourceIndex:u}}function U(e,t,r,i,n,o,s){return e.features.map((e=>k(e,t,r,i,n,o,s)))}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
var o$3;let h=o$3=class extends i$2{constructor(e){super(e),this.displayField=null,this.exactMatch=null,this.orderByFields=null,this.searchFields=null,this.searchTemplate=null,this.suggestionTemplate=null,this.getResults=(e,t)=>m$2({source:this,...e},t),this.getSuggestions=(e,t)=>g$1({source:this,...e},t);}set layer(e){this._set("layer",e),e&&e.load().catch((()=>{}));}get name(){return this._getLayerTitle()||""}set name(e){void 0!==e?this._override("name",e):this._clearOverride("name");}clone(){return new o$3({autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?m$3(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,displayField:this.displayField,exactMatch:this.exactMatch,layer:this.layer,searchFields:this.searchFields?m$3(this.searchFields):null,suggestionTemplate:this.suggestionTemplate,zoomScale:this.zoomScale})}_getFirstStringField(){return this.layer.fieldsIndex.fields.find((e=>"string"===e.type))?.name??""}_getDisplayField(){return this.displayField||this.layer.displayField||this._getFirstStringField()}_getSearchFieldsString(){const{layer:e,searchFields:t}=this;if(!e.loaded)return "";return `: ${(t||[this._getDisplayField()]).map((t=>{const s=e.getField(t);return s&&s.alias||t})).join(", ")}`}_getLayerTitle(){const{layer:e}=this;if(!e)return;const{title:t}=e;return t?`${t}${this._getSearchFieldsString()}`:void 0}};e([d$3({json:{read:{source:"field.name"},write:{target:"field.name"}}})],h.prototype,"displayField",void 0),e([d$3({json:{read:{source:"field.exactMatch"},write:{target:"field.exactMatch"}}})],h.prototype,"exactMatch",void 0),e([d$3({value:null})],h.prototype,"layer",null),e([d$3()],h.prototype,"name",null),e([d$3({type:[String],json:{write:!0}})],h.prototype,"orderByFields",void 0),e([d$3()],h.prototype,"searchFields",void 0),e([d$3()],h.prototype,"searchTemplate",void 0),e([d$3()],h.prototype,"suggestionTemplate",void 0),h=o$3=e([n$6("esri.widgets.Search.LayerSearchSource")],h);const n$5=h;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
const _=new s$4({MGRS:"mgrs",USNG:"usng",UTM:"utm",GeoRef:"geo-ref",GARS:"gars",DMS:"dms",DDM:"ddm",DD:"dd"}),N={UNIT_METER:9001,UNIT_GERMAN_METER:9031,UNIT_FOOT:9002,UNIT_SURVEY_FOOT:9003,UNIT_CLARKE_FOOT:9005,UNIT_FATHOM:9014,UNIT_NAUTICAL_MILE:9030,UNIT_SURVEY_CHAIN:9033,UNIT_SURVEY_LINK:9034,UNIT_SURVEY_MILE:9035,UNIT_KILOMETER:9036,UNIT_CLARKE_YARD:9037,UNIT_CLARKE_CHAIN:9038,UNIT_CLARKE_LINK:9039,UNIT_SEARS_YARD:9040,UNIT_SEARS_FOOT:9041,UNIT_SEARS_CHAIN:9042,UNIT_SEARS_LINK:9043,UNIT_BENOIT_1895A_YARD:9050,UNIT_BENOIT_1895A_FOOT:9051,UNIT_BENOIT_1895A_CHAIN:9052,UNIT_BENOIT_1895A_LINK:9053,UNIT_BENOIT_1895B_YARD:9060,UNIT_BENOIT_1895B_FOOT:9061,UNIT_BENOIT_1895B_CHAIN:9062,UNIT_BENOIT_1895B_LINK:9063,UNIT_INDIAN_FOOT:9080,UNIT_INDIAN_1937_FOOT:9081,UNIT_INDIAN_1962_FOOT:9082,UNIT_INDIAN_1975_FOOT:9083,UNIT_INDIAN_YARD:9084,UNIT_INDIAN_1937_YARD:9085,UNIT_INDIAN_1962_YARD:9086,UNIT_INDIAN_1975_YARD:9087,UNIT_FOOT_1865:9070,UNIT_RADIAN:9101,UNIT_DEGREE:9102,UNIT_ARCMINUTE:9103,UNIT_ARCSECOND:9104,UNIT_GRAD:9105,UNIT_GON:9106,UNIT_MICRORADIAN:9109,UNIT_ARCMINUTE_CENTESIMAL:9112,UNIT_ARCSECOND_CENTESIMAL:9113,UNIT_MIL6400:9114,UNIT_BRITISH_1936_FOOT:9095,UNIT_GOLDCOAST_FOOT:9094,UNIT_INTERNATIONAL_CHAIN:109003,UNIT_INTERNATIONAL_LINK:109004,UNIT_INTERNATIONAL_YARD:109001,UNIT_STATUTE_MILE:9093,UNIT_SURVEY_YARD:109002,UNIT_50KILOMETER_LENGTH:109030,UNIT_150KILOMETER_LENGTH:109031,UNIT_DECIMETER:109005,UNIT_CENTIMETER:109006,UNIT_MILLIMETER:109007,UNIT_INTERNATIONAL_INCH:109008,UNIT_US_SURVEY_INCH:109009,UNIT_INTERNATIONAL_ROD:109010,UNIT_US_SURVEY_ROD:109011,UNIT_US_NAUTICAL_MILE:109012,UNIT_UK_NAUTICAL_MILE:109013,UNIT_SQUARE_INCHES:"esriSquareInches",UNIT_SQUARE_FEET:"esriSquareFeet",UNIT_SQUARE_YARDS:"esriSquareYards",UNIT_ACRES:"esriAcres",UNIT_SQUARE_MILES:"esriSquareMiles",UNIT_SQUARE_MILLIMETERS:"esriSquareMillimeters",UNIT_SQUARE_CENTIMETERS:"esriSquareCentimeters",UNIT_SQUARE_DECIMETERS:"esriSquareDecimeters",UNIT_SQUARE_METERS:"esriSquareMeters",UNIT_ARES:"esriAres",UNIT_HECTARES:"esriHectares",UNIT_SQUARE_KILOMETERS:"esriSquareKilometers"};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
const i$1=new s$4({109006:"centimeters",9102:"decimal-degrees",109005:"decimeters",9002:"feet",109009:"inches",9036:"kilometers",9001:"meters",9035:"miles",109007:"millimeters",109012:"nautical-miles",9096:"yards"});function r$1(e){const{geometries:r,deviationUnit:s,maxDeviation:o}=e.toJSON(),n={maxDeviation:o};return r&&r.length&&(n.geometries=JSON.stringify({geometryType:v$2(r[0]),geometries:r}),n.sr=JSON.stringify(r[0].spatialReference)),i$1.write(s,n,"deviationUnit"),n}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
let p$2=class extends l$2{constructor(r){super(r),this.deviationUnit=null,this.geometries=null,this.maxDeviation=null;}};e([d$3({type:String,json:{write:!0}})],p$2.prototype,"deviationUnit",void 0),e([d$3({json:{read:{reader:r=>r?r.map((r=>d$4(r))):null},write:{writer:(r,o)=>{o.geometries=r.map((r=>r.toJSON()));}}}})],p$2.prototype,"geometries",void 0),e([d$3({type:Number,json:{write:!0}})],p$2.prototype,"maxDeviation",void 0),p$2=e([n$6("esri.rest.support.GeneralizeParameters")],p$2),p$2.from=b$2(p$2);const a$1=p$2;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
const n$4=new s$4({preserveShape:"preserve-shape"});function o$2(e){const{polylines:o,lengthUnit:t,geodesic:i,calculationType:s}=e.toJSON(),r={};r.polylines=JSON.stringify(o);const l=e.polylines[0].spatialReference;return r.sr=l.wkid?l.wkid:JSON.stringify(l.toJSON()),t&&(r.lengthUnit=t),i&&(r.geodesic=i),s&&(r.calculationType=n$4.toJSON(s)),r}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
let l$1=class extends l$2{constructor(o){super(o),this.calculationType=null,this.geodesic=null,this.lengthUnit=null,this.polylines=null;}};e([d$3({type:String,json:{write:!0}})],l$1.prototype,"calculationType",void 0),e([d$3({type:Boolean,json:{write:!0}})],l$1.prototype,"geodesic",void 0),e([d$3({json:{write:!0}})],l$1.prototype,"lengthUnit",void 0),e([d$3({type:[m$4],json:{read:{reader:o=>o?o.map((o=>d$4(o))):null},write:{writer:(o,r)=>{r.polylines=o.map((o=>o.toJSON()));}}}})],l$1.prototype,"polylines",void 0),l$1=e([n$6("esri.rest.support.LengthsParameters")],l$1),l$1.from=b$2(l$1);const n$3=l$1;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
const o$1=new s$4({esriGeometryOffsetBevelled:"bevelled",esriGeometryOffsetMitered:"mitered",esriGeometryOffsetRounded:"rounded"}),s=new s$4({9001:"meters",9002:"feet",9036:"kilometers",9093:"miles",109012:"nautical-miles",109001:"yards"});function r(e){const{geometries:r,bevelRatio:i,offsetDistance:f,offsetHow:n,offsetUnit:m}=e.toJSON(),l={bevelRatio:i,offsetDistance:f};return r&&r.length&&(l.geometries=JSON.stringify({geometryType:v$2(r[0]),geometries:r}),l.sr=JSON.stringify(r[0].spatialReference)),n&&(l.offsetHow=o$1.toJSON(n)),m&&(l.offsetUnit=s.toJSON(m)),l}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
let i=class extends l$2{constructor(o){super(o),this.bevelRatio=null,this.geometries=null,this.offsetDistance=null,this.offsetHow=null,this.offsetUnit=null;}};e([d$3({type:Number,json:{write:!0}})],i.prototype,"bevelRatio",void 0),e([d$3({json:{read:{reader:o=>o?o.map((o=>d$4(o))):null},write:{writer:(o,t)=>{t.geometries=o.map((o=>o.toJSON()));}}}})],i.prototype,"geometries",void 0),e([d$3({type:Number,json:{write:!0}})],i.prototype,"offsetDistance",void 0),e([d$3({type:String,json:{write:!0}})],i.prototype,"offsetHow",void 0),e([d$3({type:String,json:{write:!0}})],i.prototype,"offsetUnit",void 0),i=e([n$6("esri.rest.support.OffsetParameters")],i),i.from=b$2(i);const m$1=i;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
const t$1=new s$4({esriGeometryRelationCross:"cross",esriGeometryRelationDisjoint:"disjoint",esriGeometryRelationIn:"in",esriGeometryRelationInteriorIntersection:"interior-intersection",esriGeometryRelationIntersection:"intersection",esriGeometryRelationLineCoincidence:"line-coincidence",esriGeometryRelationLineTouch:"line-touch",esriGeometryRelationOverlap:"overlap",esriGeometryRelationPointTouch:"point-touch",esriGeometryRelationTouch:"touch",esriGeometryRelationWithin:"within",esriGeometryRelationRelation:"relation"});function o(e){const{geometries1:o,geometries2:r,relation:n,relationParameter:s}=e.toJSON(),a={};if(o&&o.length){a.geometries1=JSON.stringify({geometryType:v$2(o[0]),geometries:o});const e=o[0].spatialReference;a.sr=e.wkid?e.wkid:JSON.stringify(e);}return r&&r.length>0&&(a.geometries2=JSON.stringify({geometryType:v$2(r[0]),geometries:r})),n&&(a.relation=t$1.toJSON(n)),s&&(a.relationParam=s),a}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
let p$1=class extends l$2{constructor(r){super(r),this.geometries1=null,this.geometries2=null,this.relation=null,this.relationParameter=null;}};e([d$3({json:{read:{reader:r=>r?r.map((r=>d$4(r))):null},write:{writer:(r,e)=>{e.geometries1=r.map((r=>r.toJSON()));}}}})],p$1.prototype,"geometries1",void 0),e([d$3({json:{read:{reader:r=>r?r.map((r=>d$4(r))):null},write:{writer:(r,e)=>{e.geometries2=r.map((r=>r.toJSON()));}}}})],p$1.prototype,"geometries2",void 0),e([d$3({type:String,json:{write:!0}})],p$1.prototype,"relation",void 0),e([d$3({type:String,json:{write:!0}})],p$1.prototype,"relationParameter",void 0),p$1=e([n$6("esri.rest.support.RelationParameters")],p$1),p$1.from=b$2(p$1);const a=p$1;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
const t=new s$4({0:"default-curve-extension",1:"relocate-ends",2:"keep-end-attributes",4:"no-end-attributes",8:"no-extend-at-from",16:"no-extend-at-to"});function n$2(e){const{extendHow:n,polylines:o,trimExtendTo:r}=e.toJSON(),i={};return i.extendHow=t.toJSON(n),o&&o.length&&(i.polylines=JSON.stringify(o),i.sr=JSON.stringify(o[0].spatialReference)),r&&(i.trimExtendTo=JSON.stringify(r)),i}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
let m=class extends l$2{constructor(r){super(r),this.extendHow="default-curve-extension",this.polylines=null,this.trimExtendTo=null;}};e([d$3({type:String,json:{write:!0}})],m.prototype,"extendHow",void 0),e([d$3({type:[m$4],json:{read:{reader:r=>r?r.map((r=>d$4(r))):null},write:{writer:(r,o)=>{o.polylines=r.map((r=>r.toJSON()));}}}})],m.prototype,"polylines",void 0),e([d$3({json:{read:{reader:r=>r?d$4(r):null},write:{writer:(r,o)=>{o.trimExtendTo=r.toJSON();}}}})],m.prototype,"trimExtendTo",void 0),m=e([n$6("esri.rest.support.TrimExtendParameters")],m),m.from=b$2(m);const n$1=m;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
const c$1=s$1.getLogger("esri.widgets.support.geolocationUtils"),u={maximumAge:0,timeout:15e3,enableHighAccuracy:!0};function p(){const e=a$3("esri-geolocation");return e||c$1.warn("geolocation-unsupported","Geolocation unsupported."),e}function l(){const e=window.isSecureContext;return e||c$1.warn("insecure-context","Geolocation requires a secure origin."),e}function g(){return p()&&l()}function j(e){const r=15e3;return e||(e=u),new Promise(((o,i)=>{setTimeout((()=>i(new s$2("geolocation:timeout","getting the current geolocation position timed out"))),r),navigator.geolocation.getCurrentPosition(o,i,e);}))}function f(e,t){const{position:r,view:o}=e;return P(y$1(d$1(r)),o,t)}function d$1(e){const t=e&&e.coords||{},r={accuracy:t.accuracy,altitude:t.altitude,altitudeAccuracy:t.altitudeAccuracy,heading:t.heading,latitude:t.latitude,longitude:t.longitude,speed:t.speed};return e?{coords:r,timestamp:e.timestamp}:e}function y$1(e){const t=e&&e.coords;return t?new j$2({longitude:t.longitude,latitude:t.latitude,z:t.altitude||null,spatialReference:{wkid:4326}}):null}function P(e,r,o){if(!r)return Promise.resolve(e);const i=r.spatialReference;return i.isWGS84?Promise.resolve(e):i.isWebMercator?Promise.resolve(R$1(e)):w$1(o).then((r=>{if(!r)throw new s$2("geometry-service:missing-url","Geometry service URL is missing");const s=new a$4({geometries:[e],outSpatialReference:i});return n$7(r,s,o).then((e=>e[0]))}))}function w$1(t){if(r$3.geometryServiceUrl)return Promise.resolve(r$3.geometryServiceUrl);const r=B.getDefault();return r.load(t).catch((()=>{})).then((()=>r.get("helperServices.geometry.url")))}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
function Q(e,t){return e.hasOwnProperty(t)&&null!=e[t]&&""!==e[t]}const Z=()=>h$2("esri/widgets/Search/t9n/Search"),q="esri.widgets.Search.SearchViewModel",z=s$1.getLogger(q),K="highlight",W=j$3.ofType({key:e=>e.layer?"layer":"locator",base:i$2,typeMap:{layer:n$5,locator:c$3}}),X=k$1.WGS84,Y="esri/images/search/search-symbol-32.png",$=/<(?:.|\s)*?>/g,ee=-1;let te=class extends(e$1(n$8.EventedMixin(y$3))){constructor(e){super(e),this._handles=new u$1,this._gotoController=null,this._searching=null,this._createdFeatureLayers=[],this.autoNavigate=!0,this.autoSelect=!0,this.defaultPopupTemplate=null,this.defaultSources=new W,this.defaultSymbols={point:new n$9({url:a$5(Y),size:24,width:24,height:24}),polyline:new m$5({color:[130,130,130,1],width:2}),polygon:new S$2({color:[235,235,235,.4],outline:{color:[130,130,130,1],width:2}})},this.includeDefaultSources=!0,this.maxInputLength=128,this.maxResults=6,this.maxSuggestions=6,this.messages=null,this.minSuggestCharacters=3,this.popupEnabled=!0,this.popupTemplate=null,this.portal=B.getDefault(),this.resultCount=null,this.resultGraphicEnabled=!0,this.resultGraphic=null,this.results=null,this.selectedSuggestion=null,this.searchAllEnabled=!0,this.selectedResult=null,this.sources=new W,this.suggestionDelay=350,this.suggestionCount=null,this.suggestions=null,this.suggestionsEnabled=!0,this.view=null;}initialize(){const e=async()=>{const e=await Z();this.messages=e,this.defaultPopupTemplate=new B$1({title:e.searchResult,content:"{Match_addr}"});};e(),this._handles.add([l$3((()=>[this.includeDefaultSources,this.view,this.portal]),(()=>this._update()),h$3),s$5(e)]);}destroy(){this._destroyFeatureLayers(),this._abortGoTo(),this.clearGraphics(),this._handles.destroy(),this._handles=null;}get activeSource(){return this.allSources.getItemAt(this.activeSourceIndex)||null}get activeSourceIndex(){return 1===this.allSources.length||!this.searchAllEnabled?0:ee}set activeSourceIndex(e){void 0!==e?this._override("activeSourceIndex",e):this._clearOverride("activeSourceIndex");}get allPlaceholder(){return this.messages?.allPlaceholder}set allPlaceholder(e){e?this._override("allPlaceholder",e):this._clearOverride("allPlaceholder");}get allSources(){const{sources:e,defaultSources:t,includeDefaultSources:r}=this,s="function"==typeof r?r.call(null,{sources:e,defaultSources:t}):r?t.concat(e):e,o=this._get("allSources")||new W;return o.removeAll(),o.addMany(s.filter(Boolean)),o}get defaultSymbol(){return r$4(z,"defaultSymbol",{replacement:"defaultSymbols",version:"4.22"}),this._get("defaultSymbol")}set defaultSymbol(e){r$4(z,"defaultSymbol",{replacement:"defaultSymbols",version:"4.22"}),this._set("defaultSymbol",e);}get locationEnabled(){return this._get("locationEnabled")||g()}set locationEnabled(e){if(void 0===e)return void this._clearOverride("locationEnabled");const t=g();if(e&&!t){const e=new s$2("locationEnabled:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});z.error(e);}this._override("locationEnabled",e&&t);}get placeholder(){const{allSources:e,activeSourceIndex:t,allPlaceholder:r}=this;if(t===ee)return r;const s=e.getItemAt(t);return s?s.placeholder:""}set searchTerm(e){this._set("searchTerm",e||""),this.clearGraphics(),this.selectedSuggestion&&this.selectedSuggestion.text!==e&&this._set("selectedSuggestion",null),""===e&&this._clear();}get searchTerm(){return this._get("searchTerm")||""}get state(){return this._searching?"searching":this.updating?"loading":0===this.allSources.length?"disabled":"ready"}get updating(){return null!=this._updatingPromise}clear(){this.searchTerm="";}clearGraphics(){this._removeHighlight(),this._closePopup(),this.view&&this.view.graphics.remove(this.resultGraphic),this._set("resultGraphic",null);}search(e,t){this.emit("search-start"),this.clearGraphics();const r=this._createSuggestionForSearch(e),s=this.when().then((()=>this._getResultsFromSources(r,t).then((e=>{if(e$2(t?.signal)?.aborted)return null;const s={activeSourceIndex:this.activeSourceIndex,searchTerm:r.text,numResults:0,numErrors:0,errors:[],results:[]};this._formatResponse(s,e,r);const o=this._getFirstResult(s.results),i=(r.location&&o?o.name:r.text).replace($,"");return this._set("searchTerm",i),(r.key&&"number"==typeof r.sourceIndex||r.location)&&this._set("selectedSuggestion",r),this._set("results",s.results),this._set("resultCount",s.results.reduce(((e,t)=>e+t.results.length),0)),this.emit("search-complete",s),this._selectFirstResult(o).then((()=>s))})))).then((e=>(this._clearSearching(),e)),(e=>{throw this._clearSearching(),e}));return this._searching=s,s}searchNearby(e){if(!this.locationEnabled){const e=new s$2("searchNearby:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});return z.error(e),Promise.reject(e)}const t=j().then((t=>f({position:t,view:this.view},e))).then((t=>this.search(t,e)));return this._searching=t,t.catch((()=>{})).then((()=>this._clearSearching())),t}select(e){if(this.clearGraphics(),!e){const t=new s$2("select:missing-parameter","Cannot select without a searchResult.",{searchResult:e});return z.error(t),Promise.reject(t)}const{view:t}=this,r=Q(e,"sourceIndex")?e.sourceIndex:this._getSourceIndexOfResult(e),o=this.allSources.getItemAt(r);if(!o){const e=new s$2("select:missing-source","Cannot select without a source.",{source:o});return z.error(e),Promise.reject(e)}const i=o instanceof n$5?this._getLayerSourcePopupTemplate(o):o.popupTemplate,l=o.resultSymbol||this._getDefaultSymbol(e),a=Q(o,"resultGraphicEnabled")?o.resultGraphicEnabled:this.resultGraphicEnabled,u=Q(o,"autoNavigate")?o.autoNavigate:this.autoNavigate,c=Q(o,"popupEnabled")?o.popupEnabled:this.popupEnabled,h=c?i||this.popupTemplate||this.defaultPopupTemplate:null,{feature:p}=e;if(!p){const e=new s$2("select:missing-feature","Cannot select without a feature.",{feature:p});return z.error(e),Promise.reject(e)}const{attributes:g,geometry:y,layer:f,sourceLayer:S}=p,_=m$6(y),v={layerViewQuery:this._getLayerView(p),elevationQuery:t&&r$2(_)?s$6(_,t).catch((()=>_)):Promise.resolve(_)};return E$1(v).then((i=>{const n=i.layerViewQuery.value,m=i.elevationQuery.value;l instanceof m$7&&(l.text=e.name);const _=t&&u?e.target||e.extent:null;return (r$2(_)?this._goToSearchResult(_):Promise.resolve()).then((()=>{const i=n?p:new g$2({geometry:y,symbol:l,attributes:g,layer:f,sourceLayer:S,popupTemplate:h}),u=c&&this.view?.popup,d=u&&i.getEffectivePopupTemplate(u.defaultPopupTemplateEnabled);return d&&t.popup.open({features:[i],location:m}),n&&e$3(n)&&!d&&this._highlightFeature({graphic:i,layerView:n}),!n&&a&&t&&t.graphics.push(i),this._setResultFloor(e),this._set("selectedResult",e),this._set("resultGraphic",i),this.emit("select-result",{result:e,source:o,sourceIndex:r}),e}))}))}suggest(e,t,r){const s=e||this.searchTerm;return this.emit("suggest-start",{searchTerm:s}),this._suggestTimer(t,r).then((()=>this._suggestImmediate(s,r).then((e=>(this._set("suggestions",e.results),this._set("suggestionCount",e.results.reduce(((e,t)=>e+t.results.length),0)),this.emit("suggest-complete",e),e)))))}async when(){await j$4((()=>!this.updating));}async _update(){const{portal:e,view:t}=this;if(this.includeDefaultSources){const r=this._updatingPromise=E$1([e?.load(),t?.when()]);if(this.destroyed)return;if(await r,r!==this._updatingPromise)return}await j$4((()=>this.messages)),this.destroyed||this._updateDefaultSources(),this._updatingPromise=null;}_clearSearching(){this._searching=null;}_convertHelperServices(){const e=this.portal?.helperServices?.geocode;if(!e)return [];return e.map((e=>{if(!1===e.placefinding)return;const t=r$3.apiKey&&S$3(e.url)?{url:w$3}:null,s=c$3.fromJSON({...e,...t}),o=s.url;if(S$3(o)||v$3(o)||x$1(o)){const e=s.outFields||["Addr_type","Match_addr","StAddr","City"],t=s.placeholder||this.messages.placeholder,r="number"==typeof s.defaultZoomScale?s.defaultZoomScale:2500;s.set({singleLineFieldName:"SingleLine",outFields:e,placeholder:t,defaultZoomScale:r});}return s.singleLineFieldName?s:void 0})).filter(Boolean)}_destroyFeatureLayers(){this._createdFeatureLayers.forEach((e=>e?.destroy())),this._createdFeatureLayers=[];}_getLayerSources(e,t){const r=this.view?.map;return e.map((e=>{const s=r.findLayerById(e.id);if(!s)return;const o=this._getLayerJSON(e),i=n$5.fromJSON(o);return i.placeholder=t,this._getLayer(s,o).then((e=>{i.layer=e;})),i})).filter(Boolean).toArray()}_getTableSources(e,t){const r=this.view?.map;return e.map((e=>{const s=r.findTableById(e.id);if(!s)return;const o=this._getLayerJSON(e),i=n$5.fromJSON(o);return i.placeholder=t,this._getLayer(s,o).then((e=>{i.layer=e;})),i})).filter(Boolean).toArray()}_convertApplicationProperties(){const e=this.view?.map,t=e?.applicationProperties?.viewing?.search;if(!t)return [];const{enabled:r,hintText:s,layers:o,tables:i}=t;if(!r)return [];return [...this._getLayerSources(o,s),...this._getTableSources(i,s)]}async _getSubLayer(e,t){if(await e.load(),!e.allSublayers)throw new Error;const r=e.allSublayers.find((e=>e.id===t.subLayer));if(!r)throw new Error;const s=await r.createFeatureLayer();return this._createdFeatureLayers.push(s),s}async _getBuildingSubLayer(e,t){await e.load();const r=e.allSublayers.find((e=>e.id===t.subLayer));if("building-component"!==r?.type)throw new Error;if(await r.load(),null==r.associatedLayer)throw new Error;return await r.associatedLayer.load(),r}_getLayer(e,t){return "feature"===e.type||"scene"===e.type||"csv"===e.type||"geojson"===e.type||"ogc-feature"===e.type?Promise.resolve(e):"map-image"===e.type?this._getSubLayer(e,t).catch((()=>{const t=new s$2("search:create-featurelayer","Could not create a FeatureLayer from the MapImageLayer",{layer:e});return z.error(t),null})):"building-scene"===e.type?this._getBuildingSubLayer(e,t):Promise.resolve(null)}_getLayerJSON(e){return "function"==typeof e.toJSON?e.toJSON():e}_updateDefaultSources(){const{defaultSources:e,includeDefaultSources:t}=this;this._destroyFeatureLayers(),e.removeAll(),t&&e.addMany([...this._convertApplicationProperties(),...this._convertHelperServices()]);}_abortGoTo(){this._gotoController&&this._gotoController.abort(),this._gotoController=null;}_clear(){this._abortGoTo(),this._set("resultCount",null),this._set("results",null),this._set("suggestions",null),this._set("suggestionCount",null),this._set("selectedResult",null),this._set("selectedSuggestion",null),this.emit("search-clear");}_closePopup(){const e=this.view?.popup,{resultGraphic:t}=this;if(!e||!t)return;const{selectedFeature:r}=e;r&&r===t&&e.close();}_suggestTimer(e,t){const r=null!=e?e:this.suggestionDelay;return L$2(r,null,t&&t.signal)}_createLocationForSearch(e){return e instanceof g$2?m$6(e.geometry):e instanceof j$2?e:Array.isArray(e)&&2===e.length?new j$2({longitude:e[0],latitude:e[1]}):null}_createSuggestionForSearch(e){if(e&&Q(e,"key")&&Q(e,"text")&&Q(e,"sourceIndex"))return e;const t=this._createLocationForSearch(e),r="string"==typeof e?e:this.searchTerm,{selectedSuggestion:s,selectedResult:o}=this,i=!e&&s&&o,l=i&&s.key===o.key&&s.sourceIndex===o.sourceIndex,a=i&&s.location;return l||a?s:{location:e$2(t),text:t?"":r,sourceIndex:null,key:null}}_getFirstResult(e){let t=null;return e&&e.some((e=>{const{results:r}=e,s=r[0],o=!!s;return o&&(t=s),o})),t}_selectFirstResult(e){return this.autoSelect&&e?this.select(e):Promise.resolve(null)}_suggestImmediate(e,t){return this.when().then((()=>this._getSuggestionsFromSources(e,t))).then((r=>{if(e$2(t?.signal)?.aborted)return null;const s={activeSourceIndex:this.activeSourceIndex,searchTerm:e,numResults:0,numErrors:0,errors:[],results:[]};return this._formatResponse(s,r),s}))}_formatSourceResponse(e,t,r){const s=t&&t.value||[],o=t&&t.error,i=this.allSources.getItemAt(r);if(o){const t={sourceIndex:r,source:i,error:o};e.errors.push(t),z.error(o),e.numErrors++;}else {const t={sourceIndex:r,source:i,results:s};e.results.push(t),e.numResults+=s.length;}}_formatResponse(e,t,r){if(t)if(e.activeSourceIndex===ee){const s=r&&Q(r,"sourceIndex")&&-1!==r.sourceIndex?r.sourceIndex:void 0;t.forEach(((t,r)=>{const o=void 0!==s?s:r;this._formatSourceResponse(e,t,o);}));}else this._formatSourceResponse(e,t[0],e.activeSourceIndex);}_getResultsFromSources(e,t){const{allSources:r}=this,s=!e.location&&Q(e,"sourceIndex")?e.sourceIndex:this.activeSourceIndex,o=[];if(!r.length){const e=new s$2("search:no-sources-defined","At least one source is required.",{allSources:r});return z.error(e),Promise.reject(e)}return s===ee?r.forEach(((r,s)=>{o.push(this._getResultsFromSource(e,s,t));})):o.push(this._getResultsFromSource(e,s,t)),E$1(o)}_getSuggestionsFromSources(e,t){const{allSources:r,activeSourceIndex:s}=this,o=[];if(!r.length){const e=new s$2("suggest:no-sources-defined","At least one source is required.",{allSources:r});return z.error(e),Promise.reject(e)}return s===ee?r.forEach(((r,s)=>{o.push(this._getSuggestionsFromSource(e,s,t));})):o.push(this._getSuggestionsFromSource(e,s,t)),E$1(o)}_getResultsFromSource(e,t,r){const s=this.allSources.getItemAt(t),{location:o=null}=e,i=this.view?.spatialReference||X,l=Q(s,"maxResults")?s.maxResults:this.maxResults,a=!!(s instanceof n$5&&Q(s,"exactMatch"))&&s.exactMatch,{view:n}=this;return s.getResults({view:n,sourceIndex:t,location:o,suggestResult:e,spatialReference:i,exactMatch:a,maxResults:l},r)}_getSuggestionsFromSource(e,t,r){const s=this.allSources.getItemAt(t),o=Q(s,"suggestionsEnabled")?s.suggestionsEnabled:this.suggestionsEnabled,i=e.length,l=Q(s,"minSuggestCharacters")?s.minSuggestCharacters:this.minSuggestCharacters;if(o&&e.trim()&&i>=l){const o=this.view?.spatialReference||X,i=Q(s,"maxSuggestions")?s.maxSuggestions:this.maxSuggestions,{view:l}=this,a=!!(s instanceof n$5&&Q(s,"exactMatch"))&&s.exactMatch;return s.getSuggestions({view:l,sourceIndex:t,suggestTerm:e,spatialReference:o,maxSuggestions:i,exactMatch:a},r)}return Promise.resolve(null)}_getLayerSourcePopupTemplate(e){const{layer:t}=e;if(t)return Q(e,"popupTemplate")?e.popupTemplate:t.popupTemplate}_getSourceIndexOfResult(e){const t=this.results;let r=null;return t.some((t=>t.results.some((s=>s===e&&(r=t.sourceIndex,!0))))),r}async _goToSearchResult(e){const t=!!e;this._abortGoTo();const r=new AbortController;this._gotoController=r;const s={target:{target:e},options:{animate:t,signal:r.signal}};await this.callGoTo(s),this._gotoController=null;}_getDefaultSymbol(e){const{defaultSymbols:t}=this,r=e.feature?.geometry;if(t$2(r))return null;const s=this._get("defaultSymbol");if(s&&("point"===r.type||"multipoint"===r.type))return s;switch(r.type){case"point":case"multipoint":return t.point;case"polyline":return t.polyline;case"extent":case"polygon":return t.polygon;default:return null}}_removeHighlight(){this._handles.remove(K);}async _getLayerView(e){const{view:t}=this;if(!e||!t||"building-component"===e.layer.type||"subtype-sublayer"===e.layer.type)return null;const{layer:r}=e;return await t.when(),t.whenLayerView(r)}_highlightFeature(e){const{graphic:t,layerView:r}=e,{attributes:s,layer:o}=t,{objectIdField:i}=o,l=s&&s[i],a=r.highlight(l||t);this._handles.add(a,K);}_setResultFloor(e){const{view:t}=this,r=e.feature?.attributes,s=e.feature?.sourceLayer;if(s&&"floorInfo"in s&&s?.floorInfo?.floorField&&r){const e=r[s.floorInfo.floorField];t.emit("select-result-floor",e);}}};te.ALL_INDEX=ee,e([d$3()],te.prototype,"_searching",void 0),e([d$3()],te.prototype,"_updatingPromise",void 0),e([d$3({readOnly:!0,value:null})],te.prototype,"activeSource",null),e([d$3()],te.prototype,"activeSourceIndex",null),e([d$3()],te.prototype,"allPlaceholder",null),e([d$3({readOnly:!0})],te.prototype,"allSources",null),e([d$3()],te.prototype,"autoNavigate",void 0),e([d$3()],te.prototype,"autoSelect",void 0),e([d$3()],te.prototype,"defaultPopupTemplate",void 0),e([d$3({readOnly:!0})],te.prototype,"defaultSources",void 0),e([d$3()],te.prototype,"defaultSymbol",null),e([d$3()],te.prototype,"defaultSymbols",void 0),e([d$3()],te.prototype,"includeDefaultSources",void 0),e([d$3()],te.prototype,"locationEnabled",null),e([d$3()],te.prototype,"maxInputLength",void 0),e([d$3()],te.prototype,"maxResults",void 0),e([d$3()],te.prototype,"maxSuggestions",void 0),e([d$3()],te.prototype,"messages",void 0),e([d$3()],te.prototype,"minSuggestCharacters",void 0),e([d$3({readOnly:!0})],te.prototype,"placeholder",null),e([d$3()],te.prototype,"popupEnabled",void 0),e([d$3({type:B$1})],te.prototype,"popupTemplate",void 0),e([d$3({type:B})],te.prototype,"portal",void 0),e([d$3()],te.prototype,"resultCount",void 0),e([d$3()],te.prototype,"resultGraphicEnabled",void 0),e([d$3({readOnly:!0})],te.prototype,"resultGraphic",void 0),e([d$3({readOnly:!0})],te.prototype,"results",void 0),e([d$3({readOnly:!0})],te.prototype,"selectedSuggestion",void 0),e([d$3()],te.prototype,"searchAllEnabled",void 0),e([d$3({readOnly:!0})],te.prototype,"selectedResult",void 0),e([d$3()],te.prototype,"searchTerm",null),e([d$3({type:W})],te.prototype,"sources",void 0),e([d$3({readOnly:!0})],te.prototype,"state",null),e([d$3()],te.prototype,"suggestionDelay",void 0),e([d$3()],te.prototype,"suggestionCount",void 0),e([d$3({readOnly:!0})],te.prototype,"suggestions",void 0),e([d$3()],te.prototype,"suggestionsEnabled",void 0),e([d$3({readOnly:!0})],te.prototype,"updating",null),e([d$3()],te.prototype,"view",void 0),e([d$3()],te.prototype,"clear",null),te=e([n$6(q)],te);const re=te;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
const n={base:"esri-search-result-renderer esri-widget",anchor:"esri-widget__anchor",showMoreResults:"esri-search-result-renderer__more-results--show-more-results",moreResults:"esri-search-result-renderer__more-results",moreResultsList:"esri-search-result-renderer__more-results-list",moreResultsHeader:"esri-search-result-renderer__more-results-header",moreResultsItem:"esri-search-result-renderer__more-results-item",moreResultsListHeader:"esri-search-result-renderer__more-results-list-header"};let c=class extends O{constructor(e,s){super(e,s),this.messages=null,this.showMoreResultsOpen=!1,this.viewModel=null;}render(){const e={[n.showMoreResults]:this.showMoreResultsOpen};return n$a("div",{class:n.base},n$a("div",{key:"esri-search-renderer__container",class:this.classes(n.moreResults,e)},this.renderSearchResultName(),this.renderMoreResults()))}renderMoreResults(){return n$a("div",{key:"esri-search-renderer__more-results"},this.renderMoreResultsButton(),this.renderMoreResultsLists())}renderSearchResultName(){const e=this.viewModel?.selectedResult,s=e&&e.name||"";return n$a("div",{key:"esri-search-renderer__result-name",class:n.moreResultsItem},s)}renderMoreResultsLists(){const e=this.viewModel?.results,{resultCount:s}=this.viewModel;if(s<2)return null;const r=e.map((e=>this.renderMoreResultsList(e)));return n$a("div",{key:"esri-search-renderer__more-results-container",class:n.moreResultsList},r)}renderMoreResultsButton(){const{messages:e}=this,{resultCount:s}=this.viewModel;return s<2?null:n$a("div",{key:"esri-search-renderer__more-results-button",class:n.moreResultsItem},n$a("a",{class:n.anchor,href:"#",bind:this,onclick:this._showMoreResultsClick,onkeydown:this._showMoreResultsClick},this.showMoreResultsOpen?e.hideMoreResults:e.showMoreResults))}renderMoreResultsHeader(e,s){return n$a("div",{key:`esri-search-result-renderer__header-${s}`,class:n.moreResultsListHeader},e)}renderMoreResultsList(e){const{results:s}=e,r=s.length,t=!!r,o=this.viewModel?.selectedResult,l=1===r&&s[0]===o,i=this._getSourceName(e.source,e.sourceIndex),n=this.viewModel?.results.length>1&&!l?this.renderMoreResultsHeader(i,e.sourceIndex):null,c=t&&s.map(((e,s)=>this.renderMoreResultsListItem(e,s))),d=t&&!l?n$a("ul",{key:`esri-search-result-renderer__list-${e.sourceIndex}`},c):null;return t?n$a("div",{key:`esri-search-result-renderer__results-${e.sourceIndex}`},n,d):null}renderMoreResultsListItem(e,s){return e!==this.get("viewModel.selectedResult")?n$a("li",{key:`esri-search-result-renderer__list-item-${s}`},n$a("a",{class:n.anchor,href:"#",tabindex:"0",bind:this,"data-result":e,onclick:this._selectResultClick,onkeydown:this._selectResultClick},e.name)):null}_showMoreResultsClick(e){e.preventDefault(),this.showMoreResultsOpen=!this.showMoreResultsOpen;const s=this.get("viewModel.view.popup");s&&s.reposition();}_selectResultClick(e){e.preventDefault();const s=e.currentTarget["data-result"];this.viewModel&&this.viewModel.select(s);}_getSourceName(e,s){return s===re.ALL_INDEX?this.messages.all:e.name}};e([d$3(),e$4("esri/widgets/Search/t9n/Search")],c.prototype,"messages",void 0),e([d$3()],c.prototype,"showMoreResultsOpen",void 0),e([d$3()],c.prototype,"viewModel",void 0),e([t$3()],c.prototype,"_showMoreResultsClick",null),e([t$3()],c.prototype,"_selectResultClick",null),c=e([n$6("esri.widgets.Search.SearchResultRenderer")],c);const d=c;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
const S={base:"esri-search esri-widget",loader:"esri-widget__loader",loaderText:"esri-widget__loader-text",loaderAnimation:"esri-widget__loader-animation",esriInput:"esri-input",hasMultipleSources:"esri-search--multiple-sources",isLoading:"esri-search--loading",isSearching:"esri-search--searching",showSuggestions:"esri-search--show-suggestions",showSources:"esri-search--sources",showWarning:"esri-search--warning",container:"esri-search__container",input:"esri-search__input",inputContainer:"esri-search__input-container",form:"esri-search__form",submitButton:"esri-search__submit-button",sourcesButton:"esri-search__sources-button",clearButton:"esri-search__clear-button",sourceName:"esri-search__source-name",suggestionsMenu:"esri-search__suggestions-menu",suggestionList:"esri-search__suggestions-list",suggestionListCurrentLocation:"esri-search__suggestions-list--current-location",sourcesMenu:"esri-search__sources-menu",source:"esri-search__source",warningMenu:"esri-search__warning-menu",warningMenuBody:"esri-search__warning-body",warningMenuHeader:"esri-search__warning-header",warningMenuText:"esri-search__warning-text",noValueText:"esri-search__no-value-text",esriWidgetDisabled:"esri-widget--disabled",button:"esri-widget--button",fallbackText:"esri-icon-font-fallback-text",header:"esri-widget__heading",locate:"esri-icon-locate-circled",menu:"esri-menu",menuList:"esri-menu__list",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuHeader:"esri-menu__header",loadingIcon:"esri-icon-loading-indicator esri-rotating",searchIcon:"esri-icon-search",dropdownIcon:"esri-icon-down-arrow esri-search__sources-button--down",dropupIcon:"esri-icon-up-arrow esri-search__sources-button--up",clearIcon:"esri-icon-close",noticeIcon:"esri-icon-notice-triangle",widgetIcon:"esri-icon-search",disabled:"esri-disabled"},w=/<[a-z/][\s\S]*>/i;let b=class extends O{constructor(e,t){super(e,t),this._activeMenuItemIndex=-1,this._handles=new u$1,this._inputNode=null,this._menuItemCount=0,this._sourceMenuButtonNode=null,this._sourceListNode=null,this._suggestionListNode=null,this._searchResultRenderer=new d,this._locateFailed=null,this._container=null,this.activeMenu="none",this.activeSource=null,this.activeSourceIndex=null,this.allPlaceholder=null,this.allSources=null,this.autoNavigate=null,this.autoSelect=null,this.defaultSources=null,this.disabled=!1,this.goToOverride=null,this.iconClass=S.widgetIcon,this.includeDefaultSources=null,this.label=void 0,this.locationEnabled=null,this.maxResults=null,this.maxSuggestions=null,this.messages=null,this.messagesCommon=null,this.minSuggestCharacters=null,this.popupEnabled=null,this.popupTemplate=null,this.portal=null,this.resultGraphic=null,this.resultGraphicEnabled=null,this.results=null,this.searchAllEnabled=null,this.searchTerm=null,this.selectedResult=null,this.sources=null,this.suggestions=null,this.suggestionsEnabled=null,this.view=null,this.viewModel=new re,this._clearActiveMenu=()=>{this.activeMenu="none";},this._removeActiveMenu=e=>{const t=e.relatedTarget;t&&this._container?.contains(t)||this._clearActiveMenu();},this.own([l$3((()=>this.searchTerm),(e=>{(e&&"warning"===this.activeMenu||!e&&!this.get("viewModel.selectedSuggestion.location"))&&this._clearActiveMenu();})),a$6((()=>this.viewModel?.allSources),"change",(()=>this._watchSourceChanges())),l$3((()=>this.activeMenu),(()=>this._resetActiveMenuItemIndex()),h$3),l$3((()=>this.viewModel?.defaultPopupTemplate),(e=>{e&&(e.content=this._renderSearchResultsContent.bind(this));}),h$3)]);}destroy(){this._handles.destroy(),this._handles=null,this._cancelSuggest(),this._cancelSearch(),this._searchResultRenderer&&(this._searchResultRenderer.viewModel=null,this._searchResultRenderer.destroy(),this._searchResultRenderer=null);}get displayedSearchTerm(){return `${this.viewModel.searchTerm}`.trim()}get inputId(){return this._buildId("input")}get suggestionsMenuId(){return this._buildId("suggest-menu")}get sourceMenuId(){return this._buildId("source-menu")}get sourceMenuButtonId(){return this._buildId("source-menu-button")}clear(){}focus(){this._inputNode?.focus(),this.emit("search-focus");}blur(){this._inputNode?.blur(),this.emit("search-blur");}search(e){this._clearActiveMenu(),this._cancelSuggest(),this._cancelSearch();const t=new AbortController,{signal:s}=t;return this._searchController=t,this.viewModel.search(e,{signal:s}).catch((e=>{if(this._searchController===t)return this._clearActiveMenu(),this._searchController=null,e})).then((e=>{if(this._searchController===t)return this.activeMenu=e.numResults?"none":"warning",this._searchController=null,e}))}suggest(e){this._cancelSuggest();const t=new AbortController,{signal:s}=t;return this._suggestController=t,this.viewModel.suggest(e,null,{signal:s}).then((e=>{if(this._suggestController===t)return this._suggestController=null,e.numResults&&this._openSuggestionMenu(),this._scrollToTopSuggestion(),e})).catch((()=>{if(this._suggestController===t)return this._suggestController=null,null}))}render(){const{state:e}=this.viewModel,t={[S.disabled]:"disabled"===e,[S.esriWidgetDisabled]:this.disabled};return n$a("div",{class:this.classes(S.base,t)},"loading"===e?this.renderLoader():this.renderContainer())}renderSubmitButton(){const{messages:e,disabled:t}=this;return n$a("button",{"aria-label":e.searchButtonTitle,bind:this,disabled:t,class:this.classes(S.submitButton,S.button),key:"esri-search__submit-button",onclick:this._handleSearchButtonClick,title:e.searchButtonTitle,type:"button"},n$a("span",{"aria-hidden":"true",class:S.searchIcon}))}renderWarningMenu(){return n$a("div",{key:"esri-search__error-menu",class:this.classes(S.menu,S.warningMenu)},n$a("div",{class:S.warningMenuBody},this.renderWarning()))}renderSourceMenuButton(){const{messages:e,activeMenu:t,sourceMenuId:s,sourceMenuButtonId:i,disabled:r}=this,{activeSourceIndex:n,allSources:o}=this.viewModel;return o.length>1?n$a("button",{id:i,key:"esri-search__source-menu-button",bind:this,disabled:r,"aria-label":e.searchIn,title:e.searchIn,"aria-haspopup":"true","aria-expanded":("source"===t).toString(),"aria-controls":s,class:this.classes(S.sourcesButton,S.button),onclick:this._handleSourcesMenuToggleClick,onfocus:this._handleSourcesMenuToggleFocus,afterCreate:v$4,"data-node-ref":"_sourceMenuButtonNode",type:"button"},n$a("span",{"aria-hidden":"true",class:S.dropdownIcon}),n$a("span",{"aria-hidden":"true",class:S.dropupIcon}),n$a("span",{class:S.sourceName},this._getSourceName(n))):null}renderSourcesList(){const{allSources:e,searchAllEnabled:t}=this.viewModel,{_activeMenuItemIndex:s,activeMenu:i,sourceMenuId:r,sourceMenuButtonId:n}=this,o="source"===i&&s>-1?this._buildId("source-item",s):null;return e.length>1?n$a("ul",{"aria-activedescendant":o,"aria-labelledby":n,id:r,role:"menu",bind:this,afterCreate:v$4,onkeydown:this._handleSourceMenuKeydown,onkeyup:this._handleSourceMenuKeyup,"data-node-ref":"_sourceListNode",class:S.menuList,tabIndex:-1},t?this.renderSource(re.ALL_INDEX):null,e.map(((e,t)=>this.renderSource(t))).toArray()):null}renderSourcesMenu(){const{allSources:e}=this.viewModel;return e.length>1?n$a("div",{key:"esri-search__source-menu",class:this.classes(S.menu,S.sourcesMenu)},this.renderSourcesList()):null}renderLoader(){const{messages:e,messagesCommon:t,disabled:s}=this;return n$a("div",{class:S.loader,key:"base-loader",tabIndex:s?-1:null},n$a("span",{"aria-hidden":"true",class:S.loaderAnimation}),n$a("span",{class:S.fallbackText},e.searchButtonTitle),n$a("span",{class:S.loaderText},t.loading))}renderContainer(){const{allSources:e,state:t}=this.viewModel,{activeMenu:s}=this,i={[S.hasMultipleSources]:e.length>1,[S.isLoading]:"loading"===t,[S.isSearching]:"searching"===t,[S.showWarning]:"warning"===s,[S.showSources]:"source"===s,[S.showSuggestions]:"suggestion"===s};return n$a("div",{tabIndex:-1,afterCreate:e=>{this._container=e,e.addEventListener("focusout",this._removeActiveMenu);},afterRemoved:e=>{e.removeEventListener("focusout",this._removeActiveMenu);},class:this.classes(i,S.container),key:"base-container"},this.renderSourceMenuButton(),this.renderSourcesMenu(),this.renderInputContainer(),this.renderSubmitButton(),this.renderWarningMenu())}renderClearButton(){return this.searchTerm?n$a("button",{bind:this,disabled:this.disabled,class:this.classes(S.clearButton,S.button),key:"esri-search__clear-button",onclick:this._handleClearButtonClick,onfocus:this._clearActiveMenu,title:this.messages.clearButtonTitle,type:"button"},n$a("span",{"aria-hidden":"true",class:S.clearIcon})):null}renderLocationGroup(){const{messages:e,locationEnabled:t,displayedSearchTerm:s}=this,i=t&&!s,r="suggestion"===this.activeMenu&&0===this._activeMenuItemIndex;return i?n$a("ul",{role:"group",key:"esri-search__suggestion-list-current-location",class:this.classes(S.menuList,S.suggestionList,S.suggestionListCurrentLocation)},n$a("li",{bind:this,"data-current-location-item":!0,onclick:this._handleUseCurrentLocationClick,id:this._buildId("suggestion-item",0),"aria-selected":("suggestion"===this.activeMenu&&0===this._activeMenuItemIndex).toString(),role:"option",class:this.classes(S.menuItem,r?S.menuItemFocus:null)},n$a("span",{"aria-hidden":"true",class:S.locate})," ",e.useCurrentLocation)):null}renderInput(){const{activeMenu:e,locationEnabled:t,displayedSearchTerm:s,messages:i,suggestionsMenuId:r,inputId:n,_activeMenuItemIndex:o,disabled:a}=this,{maxInputLength:u,placeholder:l,searchTerm:c,suggestionCount:d}=this.viewModel,h=!(!(t&&!s)&&!d),p="suggestion"===e&&o>-1?this._buildId("suggestion-item",o):null;return n$a("input",{"aria-activedescendant":p,"aria-autocomplete":"list","aria-expanded":(h&&"suggestion"===e).toString(),"aria-controls":h?r:null,"aria-haspopup":"listbox","aria-label":i.searchButtonTitle,bind:this,disabled:a,placeholder:l,maxlength:u,autocomplete:"off",type:"text",class:this.classes(S.esriInput,S.input),value:c,id:n,role:"combobox",onkeyup:this._handleInputKeyup,onclick:this._openSuggestionMenu,oninput:this._handleInputPaste,onpaste:this._handleInputPaste,afterCreate:v$4,"data-node-ref":"_inputNode",onfocus:this.focus,onblur:this.blur,title:c?"":l})}renderForm(){return n$a("form",{key:"esri-search__form",bind:this,disabled:this.disabled,class:S.form,onsubmit:this._formSubmit,role:"search"},this.renderInput())}renderSuggestList(e){const{sourceIndex:t}=e,s=e.results.length,i=e.results;return s?n$a("ul",{role:"group",key:`esri-search__suggestion-list-${t}`,class:this.classes(S.menuList,S.suggestionList)},i.map((e=>this.renderSuggestion(e,this._menuItemCount++)))):null}renderSuggestionsGroup(){const{suggestions:e}=this.viewModel;return e?e.map((e=>[this.renderSuggestionHeader(e),this.renderSuggestList(e)])):null}renderSuggestionsMenu(){const{displayedSearchTerm:e,locationEnabled:t,suggestionsMenuId:s,inputId:i}=this,{suggestionCount:r}=this.viewModel,n=t&&!e||r;return this._menuItemCount=0,n?n$a("div",{id:s,key:"esri-search__suggestions-menu",class:this.classes(S.menu,S.suggestionsMenu),role:"listbox","aria-labelledby":i,bind:this,afterCreate:v$4,"data-node-ref":"_suggestionListNode"},this.renderLocationGroup(),this.renderSuggestionsGroup()):null}renderInputContainer(){return n$a("div",{key:"esri-search__input-container",class:S.inputContainer},this.renderForm(),this.renderSuggestionsMenu(),this.renderClearButton())}renderSuggestionHeader(e){const{allSources:t,activeSourceIndex:s}=this.viewModel,{sourceIndex:i}=e,r=e.results.length,n=t.length>1&&s===re.ALL_INDEX;return r&&n?n$a("div",{key:`esri-search__suggestion-header-${i}`,class:S.menuHeader},this._getSourceName(i)):null}renderSuggestion(e,t){const{_activeMenuItemIndex:s,messages:i}=this,{searchTerm:r}=this.viewModel;if(r){const{text:n}=e,o=n||i.untitledResult,a=w.test(o),u=[];if(a)u.push(n$a("div",{innerHTML:o}));else {const e=this._splitResult(o,r),t=r.toLowerCase();e.forEach(((e,s)=>{e&&e.length&&(e.toLowerCase()===t?u.push(n$a("strong",{key:s},e)):u.push(e));}));}const l="suggestion"===this.activeMenu&&s===t;return n$a("li",{bind:this,id:this._buildId("suggestion-item",t),"aria-selected":("suggestion"===this.activeMenu&&this._activeMenuItemIndex===t).toString(),onclick:this._handleSuggestionClick,key:`esri-search__suggestion_${t}`,"data-suggestion":e,role:"option",class:this.classes(S.menuItem,l?S.menuItemFocus:null)},u)}}renderSource(e){const{activeSourceIndex:t,searchAllEnabled:s}=this.viewModel,i={[S.menuItemActive]:e===t,[S.menuItemFocus]:"source"===this.activeMenu&&e===(s?this._activeMenuItemIndex-1:this._activeMenuItemIndex)},r=s?e+1:e;return n$a("li",{bind:this,key:`esri-search__source-${e}`,id:this._buildId("source-item",r),"aria-checked":(e===t).toString(),onclick:this._handleSourceClick,"data-source-index":e,role:"menuitemradio",class:this.classes(S.source,S.menuItem,i)},this._getSourceName(e))}renderNoResultsWarning(e){const{messages:t}=this,s=e?s$3(t.noResultsFoundForValue,{value:`"${e}"`}):t.noResultsFound;return n$a("div",{key:"esri-search__no_results"},n$a("div",{class:S.warningMenuHeader},t.noResults),n$a("div",{class:S.warningMenuText},s))}renderEmptySearchWarning(){const{messages:e}=this;return n$a("div",{key:"esri-search__empty-search"},n$a("span",{"aria-hidden":"true",class:S.noticeIcon}),n$a("span",{class:S.noValueText},e.emptyValue))}renderLocateWarning(){const{messages:e}=this;return n$a("div",{key:"esri-search__locate-error"},n$a("span",{"aria-hidden":"true",class:S.noticeIcon}),n$a("span",{class:S.noValueText},e.locateError))}renderWarning(){const{displayedSearchTerm:e,_locateFailed:t}=this,{viewModel:s}=this;return t?this.renderLocateWarning():s.selectedSuggestion?.location||e?this.renderNoResultsWarning(e):this.renderEmptySearchWarning()}_resetActiveMenuItemIndex(){this._activeMenuItemIndex=-1;}_buildId(e,t){return `${this.id}-${e}${void 0===t?"":`-${t}`}`}_watchSourceChanges(){const{_handles:e,viewModel:{allSources:t}}=this,s="sources";e.remove(s),t.forEach((t=>e.add(l$3((()=>t.name),(()=>this.scheduleRender())),s)));}_handleSourcesMenuToggleFocus(){"source"!==this.activeMenu&&this._clearActiveMenu();}_handleSourcesMenuToggleClick(){const e="source"===this.activeMenu;this.activeMenu=e?"none":"source",this.renderNow(),"source"===this.activeMenu&&this._sourceListNode?.focus();}_handleClearButtonClick(){this.viewModel.clear(),this._focus();}_handleSearchButtonClick(){this.search();}_handleSuggestionClick(e){const t=e.currentTarget["data-suggestion"];t&&(this._focus(),this.search(t));}_handleUseCurrentLocationClick(){this._useCurrentLocation();}_useCurrentLocation(){this._focus("none"),this._cancelSuggest(),this._cancelSearch();const e=new AbortController,{signal:t}=e;this._searchController=e,this.viewModel.searchNearby({signal:t}).then((e=>{this.activeMenu=e.numResults?"none":"warning";})).catch((()=>{this._locateFailed=!0,this.activeMenu="warning";})).then((()=>{this._searchController=null;}));}_handleSourceClick(e){this._setSourceFromMenuItem(e.currentTarget);}_setSourceFromMenuItem(e){if(!e)return;const t=e["data-source-index"];this.viewModel.activeSourceIndex=t,this._clearActiveMenu(),this._sourceMenuButtonNode?.focus();}_cancelSuggest(){this._suggestController&&(this._suggestController.abort(),this._suggestController=null);}_cancelSearch(){this._searchController&&(this._searchController.abort(),this._searchController=null),this._locateFailed=!1;}_handleInputKeyup(e){const s=i$3(e);if(e.ctrlKey||e.metaKey||"Copy"===s||"ArrowLeft"===s||"ArrowRight"===s||"Shift"===s)return;if("Tab"===s||"Escape"===s||e.shiftKey&&"Tab"===s)return this._cancelSuggest(),void("Escape"===s&&this._clearActiveMenu());const i="Home"===s||"End"===s||"ArrowUp"===s||"ArrowDown"===s;if("Enter"===s&&this._activeMenuItemIndex<0)return void this._cancelSuggest();const r=this._suggestionListNode?.getElementsByTagName("li");if(r?.length){if("suggestion"!==this.activeMenu&&this._openSuggestionMenu(),i)return e.preventDefault(),this._cancelSuggest(),void this._handleItemNavigation(s,r,this._suggestionListNode);const t=r[this._activeMenuItemIndex];if("Enter"===s&&t){const e=t["data-suggestion"];return void(e?(this._focus(),this.search(e)):t["data-current-location-item"]&&this._useCurrentLocation())}}this.viewModel.searchTerm&&this.suggest();}_handleItemNavigation(e,t,s){const i=this._activeMenuItemIndex;"Home"===e&&(this._activeMenuItemIndex=0),"End"===e&&(this._activeMenuItemIndex=t.length-1),"ArrowUp"===e&&(this._activeMenuItemIndex=this._activeMenuItemIndex<=0?t.length-1:this._activeMenuItemIndex-1),"ArrowDown"===e&&(this._activeMenuItemIndex=this._activeMenuItemIndex===t.length-1?0:this._activeMenuItemIndex+1),i!==this._activeMenuItemIndex&&A(t[this._activeMenuItemIndex],s);}_scrollToTopSuggestion(){this._suggestionListNode&&(this._suggestionListNode.scrollTop=0);}_openSuggestionMenu(){this.activeMenu="suggestion";}_handleInputPaste(e){const t=e.target;this.viewModel.searchTerm!==t.value&&(this.viewModel.searchTerm=t.value),this.viewModel.searchTerm&&this.suggest();}_handleSourceMenuKeydown(e){const s=i$3(e);if(k$2(s)){e.preventDefault();const t=this._sourceListNode.getElementsByTagName("li")[this._activeMenuItemIndex];this._setSourceFromMenuItem(t);}else "ArrowUp"!==s&&"ArrowDown"!==s&&"End"!==s&&"Home"!==s||e.preventDefault();}_handleSourceMenuKeyup(e){const s=i$3(e),i="ArrowUp"===s||"ArrowDown"===s||"End"===s||"Home"===s;if(i&&e.preventDefault(),"Escape"===s)return this._clearActiveMenu(),void this._sourceMenuButtonNode?.focus();const r=this._sourceListNode?.getElementsByTagName("li");return r&&0!==r.length&&i?("source"!==this.activeMenu&&(this.activeMenu="source"),void this._handleItemNavigation(s,r,this._sourceListNode.parentElement)):void 0}_focus(e){this.focus(),e&&(this.activeMenu=e);}_formSubmit(e){e.preventDefault(),-1===this._activeMenuItemIndex&&this.search();}_getSourceName(e){const{messages:t}=this,s=this.viewModel,{allSources:i}=s,r=i.getItemAt(e);return e===re.ALL_INDEX?t.all:r&&r.name||t.untitledSource}_splitResult(e,t){const s=o$4(t);return e.replace(new RegExp(`(^|)(${s})(|$)`,"ig"),"$1|$2|$3").split("|")}_renderSearchResultsContent(){return this._searchResultRenderer.showMoreResultsOpen=!1,this._searchResultRenderer.viewModel=this.viewModel,this._searchResultRenderer}};e([d$3()],b.prototype,"_activeMenuItemIndex",void 0),e([d$3()],b.prototype,"displayedSearchTerm",null),e([d$3({readOnly:!0})],b.prototype,"inputId",null),e([d$3({readOnly:!0})],b.prototype,"suggestionsMenuId",null),e([d$3({readOnly:!0})],b.prototype,"sourceMenuId",null),e([d$3({readOnly:!0})],b.prototype,"sourceMenuButtonId",null),e([d$3()],b.prototype,"activeMenu",void 0),e([o$5("viewModel.activeSource")],b.prototype,"activeSource",void 0),e([o$5("viewModel.activeSourceIndex")],b.prototype,"activeSourceIndex",void 0),e([o$5("viewModel.allPlaceholder")],b.prototype,"allPlaceholder",void 0),e([o$5("viewModel.allSources")],b.prototype,"allSources",void 0),e([o$5("viewModel.autoNavigate")],b.prototype,"autoNavigate",void 0),e([o$5("viewModel.autoSelect")],b.prototype,"autoSelect",void 0),e([o$5("viewModel.defaultSources")],b.prototype,"defaultSources",void 0),e([d$3()],b.prototype,"disabled",void 0),e([o$5("viewModel.goToOverride")],b.prototype,"goToOverride",void 0),e([d$3()],b.prototype,"iconClass",void 0),e([o$5("viewModel.includeDefaultSources")],b.prototype,"includeDefaultSources",void 0),e([d$3({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],b.prototype,"label",void 0),e([o$5("viewModel.locationEnabled")],b.prototype,"locationEnabled",void 0),e([o$5("viewModel.maxResults")],b.prototype,"maxResults",void 0),e([o$5("viewModel.maxSuggestions")],b.prototype,"maxSuggestions",void 0),e([d$3(),e$4("esri/widgets/Search/t9n/Search")],b.prototype,"messages",void 0),e([d$3(),e$4("esri/t9n/common")],b.prototype,"messagesCommon",void 0),e([o$5("viewModel.minSuggestCharacters")],b.prototype,"minSuggestCharacters",void 0),e([o$5("viewModel.popupEnabled")],b.prototype,"popupEnabled",void 0),e([o$5("viewModel.popupTemplate")],b.prototype,"popupTemplate",void 0),e([o$5("viewModel.portal")],b.prototype,"portal",void 0),e([o$5("viewModel.resultGraphic")],b.prototype,"resultGraphic",void 0),e([o$5("viewModel.resultGraphicEnabled")],b.prototype,"resultGraphicEnabled",void 0),e([o$5("viewModel.results")],b.prototype,"results",void 0),e([o$5("viewModel.searchAllEnabled")],b.prototype,"searchAllEnabled",void 0),e([o$5("viewModel.searchTerm")],b.prototype,"searchTerm",void 0),e([o$5("viewModel.selectedResult")],b.prototype,"selectedResult",void 0),e([o$5("viewModel.sources")],b.prototype,"sources",void 0),e([o$5("viewModel.suggestions")],b.prototype,"suggestions",void 0),e([o$5("viewModel.suggestionsEnabled")],b.prototype,"suggestionsEnabled",void 0),e([o$5("viewModel.view")],b.prototype,"view",void 0),e([t$4(["search-complete","search-clear","search-start","select-result","suggest-start","suggest-complete"]),d$3({type:re})],b.prototype,"viewModel",void 0),e([o$5("viewModel.clear")],b.prototype,"clear",null),b=e([n$6("esri.widgets.Search")],b);const y=b;

export default y;
