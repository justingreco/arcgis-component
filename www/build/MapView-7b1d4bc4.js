import { y as y$2, aD as A, e as e$4, d as d$2, n as n$4, r as r$1, a as s$5, t as t$4, s as s$6, aE as t$7, aF as n$6, h as e$7, c as a$8, X as f$1, W as t$8, aG as t$9 } from './cast-3d5be210.js';
import { g as g$3 } from './Graphic-93f45ded.js';
import { u as u$2 } from './Viewpoint-e3d4029a.js';
import { j as j$1 } from './Collection-a38e0489.js';
import { p as p$6 } from './CollectionFlattener-9ce72729.js';
import { l as l$3, U as U$1, h, f, j as j$2, w as w$3 } from './reactiveUtils-bd6fe823.js';
import { c as c$5 } from './screenUtils-31d073db.js';
import { c as c$7 } from './workers-c7a27acb.js';
import { r as r$2, c as c$4, M } from './Extent-f27111e1.js';
import { j, E } from './Point-edff2a11.js';
import { r as rn, e as en, t as tn, A as An } from './projection-fbd5d346.js';
import { p as p$4, S } from './TileInfo-3c9e9a6a.js';
import { Z, n as n$3, U, g as gt, i as i$5, t as t$5, a as t$6, b as a$6, c as i$6, s as s$7, S as St, G as Gt, d as s$8, e as e$5, u as u$4, f as n$7, o as o$6, h as a$7, j as s$9, k as c$6, l as e$6, m as g$1, _, w as w$1, p as g$2, q as p$5, r as G, x as xt, v as tt, y as wt, z as jt, Y, A as o$7, B as r$4, C as i$7, H, D as ht, E as pt } from './DefaultUI-a0db5719.js';
import './geometry-2f332a26.js';
import { r, t as t$3 } from './unitBezier-f1aeb191.js';
import { m as m$3, r as r$3, o as o$5, a as a$5 } from './vec2-4f9a494f.js';
import { o as o$4, v as v$1 } from './Polyline-dcdb3782.js';
import { n as n$5 } from './vec2f64-2956001b.js';
import './TileStrategy-fea1cb17.js';
import { l as l$5, h as h$1 } from './TileStore-909b46c6.js';
import './TileKey-97254206.js';
import { u as u$3 } from './Handles-54afc0a7.js';
import { l as l$4 } from './Color-25ce730a.js';
import { r as r$5, l as l$6, w as w$2, s as s$a } from './screenshotUtils-af7d4bfe.js';
import { m as m$4 } from './ColorBackground-f38d78ea.js';

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
class m$2{constructor(t,i,s,e){const o=t.targetGeometry,n=i.targetGeometry;e?"string"==typeof e&&(e=r(e)||t$3.ease):e=t$3.ease,this.easing=e,this.duration=s,this.sCenterX=o.x,this.sCenterY=o.y,this.sScale=t.scale,this.sRotation=t.rotation,this.tCenterX=n.x,this.tCenterY=n.y,this.tScale=i.scale,this.tRotation=i.rotation,this.dCenterX=this.tCenterX-this.sCenterX,this.dCenterY=this.tCenterY-this.sCenterY,this.dScale=this.tScale-this.sScale,this.dRotation=this.tRotation-this.sRotation,this.dRotation>180?this.dRotation-=360:this.dRotation<-180&&(this.dRotation+=360);}applyRatio(t,i){const s=this.easing(i);let e,o,n,a;i>=1?(e=this.tCenterX,o=this.tCenterY,n=this.tRotation,a=this.tScale):(e=this.sCenterX+s*this.dCenterX,o=this.sCenterY+s*this.dCenterY,n=this.sRotation+s*this.dRotation,a=this.sScale+s*this.dScale),t.targetGeometry.x=e,t.targetGeometry.y=o,t.scale=a,t.rotation=n;}}let u$1=class extends y$2{constructor(t){super(t),this.duration=200,this.transition=null,this.easing=t$3.ease,this.view=null,this.viewpoint=null,this.viewpoint=new u$2({targetGeometry:new j,scale:0,rotation:0}),this._updateTask=A({postRender:this._postRender.bind(this)}),this._updateTask.pause();}destroy(){this._updateTask.remove(),this._updateTask=null;}animate(t,i,s){this.stop();const e=this.viewpoint;Z(e,i),this.transition=new m$2(this.viewpoint,t.target,s&&s.duration||this.duration,s&&s.easing||this.easing);const o=()=>{this.animation===t&&this._updateTask&&("finished"===t.state&&(this.transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null);};return t.when(o,o),this._startTime=performance.now(),this._updateTask.resume(),this.animation=t,t}animateContinous(t,i){this.stop(),this.updateFunction=i,this.viewpoint=t;const s=new n$3({target:t.clone()}),e=()=>{this.animation===s&&this._updateTask&&(this.animation=null,this.updateFunction=null);};return s.when(e,e),this._startTime=performance.now(),this._updateTask.resume(),this.animation=s,s}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null);}_postRender(t){const i=this.animation;if(i&&i.state!==n$3.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,t.deltaTime);else {const t=(performance.now()-this._startTime)/this.transition.duration,i=t>=1;this.transition.applyRatio(this.viewpoint,t),i&&this.animation.finish();}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone());}else this._updateTask.pause();}};e$4([d$2()],u$1.prototype,"animation",void 0),e$4([d$2()],u$1.prototype,"duration",void 0),e$4([d$2()],u$1.prototype,"transition",void 0),e$4([d$2()],u$1.prototype,"easing",void 0),e$4([d$2()],u$1.prototype,"view",void 0),e$4([d$2()],u$1.prototype,"viewpoint",void 0),u$1=e$4([n$4("esri.views.2d.AnimationManager")],u$1);const d$1=u$1;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
class s$4{constructor(t){this.view=t,this._frameTaskHandle=null,this._updateRequested=!1,this.stationary=!0,this.animationInProgress=!1,this.prepare=()=>{this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions;},this.update=()=>{this._updateRequested=!1;const{basemapView:t,graphicsView:a,labelManager:s,layerViews:i,state:{id:r}}=this.view;t.baseLayerViews.forEach(this._updateLayerView,this),i.forEach(this._updateLayerView,this),t.referenceLayerViews.forEach(this._updateLayerView,this),r$1(s)&&(s.lastUpdateId!==r&&(s.viewChange(),s.lastUpdateId=r),s.updateRequested&&s.processUpdate(this._updateParameters)),r$1(a)&&(a.lastUpdateId!==r&&(a.viewChange(),a.lastUpdateId=r),a.updateRequested&&a.processUpdate(this._updateParameters)),this.view.graphicsTileStore.setViewState(this._updateParameters.state),this.animationInProgress||this._updateRequested||this._frameTaskHandle.pause();};}destroy(){this.stop();}start(){if(this._frameTaskHandle)return;const e=this.view;this.stationary=e.stationary,this._updateParameters={state:e.state,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:e.renderingOptions},this._stationaryHandle=l$3((()=>e.stationary),(e=>{this.stationary=e,this.requestFrame();})),this._frameTaskHandle=A(this),this.requestUpdate();}stop(){this._frameTaskHandle&&(this._updateRequested=!1,this._stationaryHandle.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1);}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame());}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume();}_updateLayerView(e){const t=this.view.state,a=e.lastUpdateId;null!=a&&(this.stationary||e.moving)||(e.moving=!0,e.moveStart()),a!==t.id&&e.viewChange(),this.stationary&&e.moving&&(e.moving=!1,e.moveEnd()),e.lastUpdateId=t.id,e.updateRequested&&e.processUpdate(this._updateParameters),"layerViews"in e&&e.layerViews.forEach(this._updateLayerView,this);}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
function s$3(){return Promise.all([import('./webglDeps-89a998de.js'),import('./mapViewDeps-46720e24.js')])}const a$4=()=>s$3().then((()=>import('./TileLayerView2D-b35655d3.js'))),i$4=()=>s$3().then((()=>import('./FeatureLayerView2D-3d5ee063.js'))),o$3={"base-dynamic":()=>s$3().then((()=>import('./BaseDynamicLayerView2D-73086c6c.js'))),"base-tile":a$4,"bing-maps":a$4,csv:i$4,"geo-rss":()=>s$3().then((()=>import('./GeoRSSLayerView2D-e73fa6c5.js'))),feature:i$4,geojson:i$4,graphics:()=>s$3().then((()=>import('./GraphicsLayerView2D-2ba527bd.js'))),group:()=>s$3().then((()=>import('./GroupLayerView2D-449ca250.js'))),imagery:()=>s$3().then((()=>import('./ImageryLayerView2D-6394e390.js'))),"imagery-tile":()=>s$3().then((()=>import('./ImageryTileLayerView2D-824dc9ab.js'))),kml:()=>s$3().then((()=>import('./KMLLayerView2D-7fe3b926.js'))),"map-image":()=>s$3().then((()=>import('./MapImageLayerView2D-1041a3e3.js'))),"map-notes":()=>s$3().then((()=>import('./MapNotesLayerView2D-88c4c370.js'))),media:()=>s$3().then((()=>import('./MediaLayerView2D-27d0601e.js'))),"ogc-feature":()=>s$3().then((()=>import('./OGCFeatureLayerView2D-2d0ab004.js'))),"open-street-map":a$4,route:()=>s$3().then((()=>import('./RouteLayerView2D-000e3da2.js'))),stream:()=>s$3().then((()=>import('./StreamLayerView2D-5603841c.js'))),"subtype-group":()=>s$3().then((()=>import('./SubtypeGroupLayerView2D-32ac2ae2.js'))),tile:a$4,"vector-tile":()=>s$3().then((()=>import('./VectorTileLayerView2D-e72e6cf0.js'))),wcs:()=>s$3().then((()=>import('./ImageryTileLayerView2D-824dc9ab.js'))),"web-tile":a$4,wfs:i$4,wms:()=>s$3().then((()=>import('./WMSLayerView2D-666fc97e.js'))),wmts:()=>s$3().then((()=>import('./WMTSLayerView2D-248a0e5c.js'))),"line-of-sight":null,"base-elevation":null,"building-scene":null,elevation:null,"integrated-mesh":null,"point-cloud":null,voxel:null,scene:null,unknown:null,unsupported:null};function l$2(r){const t=r.declaredClass?r.declaredClass.slice(r.declaredClass.lastIndexOf(".")+1):"Unknown",s=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new s$5(`${s}:view-not-supported`,`${t} is not supported in 2D`)}const n$2={hasLayerViewModule:e=>r$1(o$3[e.type]),importLayerView:e=>{const r=o$3[e.type];if(t$4(r))throw l$2(e);return r(e)}};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
function o$2(o,m){const{spatialReference:r}=m,i=[m.x,m.y];let s=Number.POSITIVE_INFINITY,x=0,c=0;const a=[0,0],f="extent"===o.type?[[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]]]:o.rings;for(const n of f)for(let o=0;o<n.length-1;o++){o$4(a,i,n,o);const m=m$3(i,a);m<s&&(s=m,x=a[0],c=a[1]);}return {coordinate:new j({x,y:c,spatialReference:r}),distance:s}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
var p$3;const l$1=s$6.getLogger("esri.views.MapView");let y$1=p$3=class extends y$2{constructor(e){super(e),this.geometry=null,this.spatialReference=null;}get normalizedGeometry(){if(t$4(this.geometry)||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return rn(this.geometry,this.spatialReference)}catch(e){return l$1.error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:e}),null}return this.geometry}constrain(e,r){if(t$4(this.normalizedGeometry))return e;const t=e.targetGeometry;if("extent"===this.normalizedGeometry.type?r$2(this.normalizedGeometry,t):c$4(this.normalizedGeometry,t))return e;const{coordinate:s}=o$2(this.normalizedGeometry,t);return s?(e.targetGeometry=s,e):e}clone(){return new p$3({geometry:this.geometry?.clone(),spatialReference:this.spatialReference?.clone()})}};e$4([d$2({constructOnly:!0})],y$1.prototype,"geometry",void 0),e$4([d$2({readOnly:!0})],y$1.prototype,"normalizedGeometry",null),e$4([d$2({constructOnly:!0})],y$1.prototype,"spatialReference",void 0),y$1=p$3=e$4([n$4("esri.views.2d.constraints.GeometryConstraint")],y$1);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
var s$2;let a$3=s$2=class extends y$2{constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0;}constrain(o,r){return this.enabled&&r?(this.rotationEnabled||(o.rotation=r.rotation),o):o}clone(){return new s$2({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};e$4([d$2()],a$3.prototype,"enabled",void 0),e$4([d$2()],a$3.prototype,"rotationEnabled",void 0),a$3=s$2=e$4([n$4("esri.views.2d.constraints.RotationConstraint")],a$3);const n$1=a$3;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
var i$3;let a$2=i$3=class extends y$2{constructor(e){super(e),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0;}initialize(){let e,{lods:t,minScale:o,maxScale:s,minZoom:i,maxZoom:a}=this,c=-1,r=-1,l=!1,n=!1;if(0!==o&&0!==s&&o<s&&([o,s]=[s,o]),!t||!t.length)return this._set("effectiveMinScale",o),void this._set("effectiveMaxScale",s);t=t.map((e=>e.clone())),t.sort(((e,t)=>t.scale-e.scale)),t.forEach(((e,t)=>e.level=t));for(const f of t)!l&&o>0&&o>=f.scale&&(c=f.level,l=!0),!n&&s>0&&s>=f.scale&&(r=e?e.level:-1,n=!0),e=f;-1===i&&(i=0===o?0:c),-1===a&&(a=0===s?t.length-1:r),i=Math.max(i,0),i=Math.min(i,t.length-1),a=Math.max(a,0),a=Math.min(a,t.length-1),i>a&&([i,a]=[a,i]),o=t[i].scale,s=t[a].scale,t.splice(0,i),t.splice(a-i+1,t.length),t.forEach(((e,t)=>{this._lodByScale[e.scale]=e,this._scales[t]=e.scale;})),this._set("effectiveLODs",t),this._set("effectiveMinZoom",i),this._set("effectiveMaxZoom",a),this._set("effectiveMinScale",o),this._set("effectiveMaxScale",s);}constrain(e,t){if(t&&e.scale===t.scale)return e;const o=this.effectiveMinScale,s=this.effectiveMaxScale,i=e.targetGeometry,a=t&&t.targetGeometry,c=0!==s&&e.scale<s,r=0!==o&&e.scale>o;if(c||r){const c=r?o:s;if(a){const o=(c-t.scale)/(e.scale-t.scale);i.x=a.x+(i.x-a.x)*o,i.y=a.y+(i.y-a.y)*o;}e.scale=c;}return this.snapToZoom&&this.effectiveLODs&&(e.scale=this._getClosestScale(e.scale)),e}fit(e){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(e,null);const t=this.scaleToZoom(e.scale),o=Math.abs(t-Math.floor(t));return e.scale=this.zoomToScale(o>.99?Math.round(t):Math.floor(t)),e}zoomToScale(e){if(!this.effectiveLODs)return 0;e-=this.effectiveMinZoom,e=Math.max(0,e);const t=this._scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];const o=Math.round(e-.5),s=Math.round(e);return t[s]+(s-e)*(t[o]-t[s])}scaleToZoom(e){if(!this.effectiveLODs)return -1;const t=this._scales;let o,s;if(e>=t[0])return this.effectiveMinZoom;if(e<=t[t.length-1])return this.effectiveMaxZoom;for(let i=0;i<t.length-1;i++){if(o=t[i],s=t[i+1],s===e){return i+this.effectiveMinZoom+1}if(o>e&&s<e){return i+this.effectiveMinZoom+1-(e-s)/(o-s)}}}snapToClosestScale(e){if(!this.effectiveLODs)return e;const t=this.scaleToZoom(e);return this.zoomToScale(Math.round(t))}snapToNextScale(e,t=.5){if(!this.effectiveLODs)return e*t;const o=Math.round(this.scaleToZoom(e));return this.zoomToScale(o+1)}snapToPreviousScale(e,t=2){if(!this.effectiveLODs)return e*t;const o=Math.round(this.scaleToZoom(e));return this.zoomToScale(o-1)}clone(){return new i$3({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(e){return this._lodByScale[e]||(e=this._scales.reduce(((t,o)=>Math.abs(o-e)<=Math.abs(t-e)?o:t),this._scales[0])),this._lodByScale[e].scale}};e$4([d$2({readOnly:!0})],a$2.prototype,"effectiveLODs",void 0),e$4([d$2({readOnly:!0})],a$2.prototype,"effectiveMinZoom",void 0),e$4([d$2({readOnly:!0})],a$2.prototype,"effectiveMaxZoom",void 0),e$4([d$2({readOnly:!0})],a$2.prototype,"effectiveMinScale",void 0),e$4([d$2({readOnly:!0})],a$2.prototype,"effectiveMaxScale",void 0),e$4([d$2()],a$2.prototype,"lods",void 0),e$4([d$2()],a$2.prototype,"minZoom",void 0),e$4([d$2()],a$2.prototype,"maxZoom",void 0),e$4([d$2()],a$2.prototype,"minScale",void 0),e$4([d$2()],a$2.prototype,"maxScale",void 0),e$4([d$2()],a$2.prototype,"snapToZoom",void 0),a$2=i$3=e$4([n$4("esri.views.2d.constraints.ZoomConstraint")],a$2);const c$3=a$2;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
const p$2={base:null,key:"type",typeMap:{extent:M,polygon:v$1}};let c$2=class extends y$2{constructor(o){super(o),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0;}destroy(){this.view=null,this._set("_zoom",null),this._set("_rotation",null),this._set("_geometry",null);}set geometry(o){o?this._set("geometry",o):this._set("geometry",null);}get version(){return this.commitProperty("_zoom"),this.commitProperty("_rotation"),this.commitProperty("_geometry"),(this._get("version")??0)+1}get _defaultLODs(){const o=this.view?.defaultsFromMap?.tileInfo,t=this.view?.spatialReference;return o&&t&&o.spatialReference.equals(t)?o.lods:null}get _geometry(){return new y$1({geometry:this.geometry,spatialReference:this.view?.spatialReference})}get _rotation(){return new n$1({rotationEnabled:this.rotationEnabled})}get _zoom(){const o=this._get("_zoom"),t=this.lods||this._defaultLODs,e=this.minZoom,r=this.maxZoom,s=this.minScale,i=this.maxScale,n=this.snapToZoom;return o&&o.lods===t&&o.minZoom===e&&o.maxZoom===r&&o.minScale===s&&o.maxScale===i&&o.snapToZoom===n?o:new c$3({lods:t,minZoom:e,maxZoom:r,minScale:s,maxScale:i,snapToZoom:n})}canZoomInTo(o){const t=this.effectiveMaxScale;return 0===t||o>=t}canZoomOutTo(o){const t=this.effectiveMinScale;return 0===t||o<=t}constrain(o,t){return this._zoom.constrain(o,t),this._rotation.constrain(o,t),this._geometry.constrain(o,t),o}constrainByGeometry(o){return this._geometry.constrain(o)}fit(o){return this._zoom.fit(o)}zoomToScale(o){return this._zoom.zoomToScale(o)}scaleToZoom(o){return this._zoom.scaleToZoom(o)}snapScale(o){return this._zoom.snapToClosestScale(o)}snapToNextScale(o){return this._zoom.snapToNextScale(o)}snapToPreviousScale(o){return this._zoom.snapToPreviousScale(o)}};e$4([d$2({readOnly:!0,aliasOf:"_zoom.effectiveLODs"})],c$2.prototype,"effectiveLODs",void 0),e$4([d$2({readOnly:!0,aliasOf:"_zoom.effectiveMinScale"})],c$2.prototype,"effectiveMinScale",void 0),e$4([d$2({readOnly:!0,aliasOf:"_zoom.effectiveMaxScale"})],c$2.prototype,"effectiveMaxScale",void 0),e$4([d$2({readOnly:!0,aliasOf:"_zoom.effectiveMinZoom"})],c$2.prototype,"effectiveMinZoom",void 0),e$4([d$2({readOnly:!0,aliasOf:"_zoom.effectiveMaxZoom"})],c$2.prototype,"effectiveMaxZoom",void 0),e$4([d$2({types:p$2,value:null})],c$2.prototype,"geometry",null),e$4([d$2({type:[p$4]})],c$2.prototype,"lods",void 0),e$4([d$2()],c$2.prototype,"minScale",void 0),e$4([d$2()],c$2.prototype,"maxScale",void 0),e$4([d$2()],c$2.prototype,"minZoom",void 0),e$4([d$2()],c$2.prototype,"maxZoom",void 0),e$4([d$2()],c$2.prototype,"rotationEnabled",void 0),e$4([d$2()],c$2.prototype,"snapToZoom",void 0),e$4([d$2()],c$2.prototype,"view",void 0),e$4([d$2({readOnly:!0})],c$2.prototype,"version",null),e$4([d$2()],c$2.prototype,"_defaultLODs",null),e$4([d$2({type:y$1})],c$2.prototype,"_geometry",null),e$4([d$2({type:n$1})],c$2.prototype,"_rotation",null),e$4([d$2({readOnly:!0,type:c$3})],c$2.prototype,"_zoom",null),c$2=e$4([n$4("esri.views.2d.MapViewConstraints")],c$2);const y=c$2;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
var l,m$1;let w=l=class extends y$2{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0;}clone(){return new l({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};e$4([d$2()],w.prototype,"left",void 0),e$4([d$2()],w.prototype,"top",void 0),e$4([d$2()],w.prototype,"right",void 0),e$4([d$2()],w.prototype,"bottom",void 0),w=l=e$4([n$4("esri.views.2d.PaddedViewState.Padding")],w);let u=m$1=class extends U{constructor(...t){super(...t),this.paddedViewState=new U,this._updateContent=(()=>{const t=n$5();return ()=>{const e=this._get("size"),i=this._get("padding");if(!e||!i)return;const o=this.paddedViewState;r$3(t,i.left+i.right,i.top+i.bottom),o$5(t,e,t),a$5(o.size,t);const s=o.viewpoint;s&&(this.viewpoint=s);}})(),this.own(l$3((()=>[this.size,this.padding]),(()=>this._updateContent()),U$1)),this.padding=new w,this.size=[0,0];}set padding(t){this._set("padding",t||new w);}set viewpoint(t){if(t){const e=t.clone();this.paddedViewState.viewpoint=t,gt(e,t,this._get("size"),this._get("padding"));const i=this._viewpoint2D,o=e.targetGeometry;i.center[0]=o.x,i.center[1]=o.y,i.rotation=e.rotation,i.scale=e.scale,i.spatialReference=o.spatialReference,this._update();}}clone(){return new m$1({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};e$4([d$2()],u.prototype,"paddedViewState",void 0),e$4([d$2({type:w})],u.prototype,"padding",null),e$4([d$2()],u.prototype,"viewpoint",null),u=m$1=e$4([n$4("esri.views.2d.PaddedViewState")],u);const g=u;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
class a$1 extends i$5{constructor(t,i){super(!0),this.view=t,this.registerIncoming("double-click",i,(t=>this._handleDoubleClick(t,i)));}_handleDoubleClick(t,a){t$5(t.data,"primary")&&(t.stopPropagation(),a?this.view.mapViewNavigation.zoomOut([t.data.x,t.data.y]):this.view.mapViewNavigation.zoomIn([t.data.x,t.data.y]));}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
class e$3 extends i$5{constructor(t,e,a){super(!0),this.view=t,this.pointerType=e,this.registerIncoming("double-tap-drag",a,(t=>this._handleDoubleTapDrag(t)));}_handleDoubleTapDrag(t){const{data:e}=t,{pointerType:a}=e;if(a!==this.pointerType)return;t.stopPropagation();const{action:s,delta:i}=e,{view:r}=this,{mapViewNavigation:n}=r;switch(s){case"begin":{const{scale:t}=r;this._startScale=t,this._currentScale=t,this._previousDelta=i,n.begin();break}case"update":{if(this._previousDelta.y===i.y)return;this._previousDelta=i;const t=1.015**i.y,e=this._startScale*t,a=e/this._currentScale;n.setViewpointImmediate(a),this._currentScale=e;break}case"end":{const{constraints:t}=r,{effectiveLODs:e,snapToZoom:a}=t;if(!a||!e)return void n.end();const s=t.snapScale(this._currentScale),o=(i.y>0?Math.max(s,t.snapToPreviousScale(this._startScale)):Math.min(s,t.snapToNextScale(this._startScale)))/this._currentScale;n.zoom(o);break}}}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
class n extends i$5{constructor(t,i,a){super(!0),this.view=t,this.pointerAction=i,this.registerIncoming("drag",a,(t=>this._handleDrag(t))),this.registerIncoming("pointer-down",(()=>this.stopMomentumNavigation()));}onInstall(i){super.onInstall(i),this.dragEventSeparator=new t$6({start:(t,i)=>{this.view.mapViewNavigation.pan.begin(this.view,i.data),i.stopPropagation();},update:(t,i)=>{this.view.mapViewNavigation.pan.update(this.view,i.data),i.stopPropagation();},end:(t,i)=>{this.view.mapViewNavigation.pan.end(this.view,i.data),i.stopPropagation();},condition:(t,i)=>1===t&&t$5(i.data,this.pointerAction)});}_handleDrag(t){const i=this.view.mapViewNavigation;i.pinch.zoomMomentum||i.pinch.rotateMomentum?this.stopMomentumNavigation():this.dragEventSeparator.handle(t);}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation();}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
class o$1 extends i$5{constructor(a,o,r){super(!0),this.view=a,this.pointerAction=o;const e=this.view.mapViewNavigation;this.dragEventSeparator=new t$6({start:(t,a)=>{e.rotate.begin(this.view,a.data),a.stopPropagation();},update:(t,a)=>{e.rotate.update(this.view,a.data),a.stopPropagation();},end:(t,a)=>{e.rotate.end(),a.stopPropagation();},condition:(t,a)=>1===t&&t$5(a.data,this.pointerAction)}),this.registerIncoming("drag",r,(t=>this.dragEventSeparator.handle(t)));}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
class d extends i$5{constructor(i){super(!0),this.view=i,this.frameTask=null,this.watchHandles=new u$3,this.currentDevice=null,this.transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this.handle=this.registerIncoming("gamepad",(t=>this._handleGamePadEvent(t))),this.handle.pause();}onInstall(t){super.onInstall(t),this.watchHandles.add([l$3((()=>this.view.navigation.gamepad?.enabled),(t=>{t?(this.handle.resume(),this.frameTask||(this.frameTask=A({update:t=>this._frameUpdate(t.deltaTime)}))):(this.handle.pause(),this.frameTask&&(this.frameTask.remove(),this.frameTask=null));}),h)]);}onUninstall(){this.watchHandles.removeAll(),this.frameTask&&(this.frameTask.remove(),this.frameTask=null),super.onUninstall();}_handleGamePadEvent(t){const i=this.view.navigation.gamepad.device;i&&t.data.device!==i||this.currentDevice&&this.currentDevice!==t.data.device||("end"===t.data.action?(this.currentDevice=null,a$6(this.transformation)):(this.currentDevice=t.data.device,i$6(t.data,this.view.navigation.gamepad,this.transformation)));}_frameUpdate(t){const i=this.transformation;if(s$7(i))return;const e=this.view.viewpoint.clone(),a=this.view.navigation.gamepad.velocityFactor,r=c$1*a*t;St(e,e,[i.translation[0]*r,-i.translation[1]*r]);const o=1+i.translation[2]*v*t,h=this.view.constraints.rotationEnabled?-i.heading*m*t:0,d=this.view.size,p=[d[0]/2,d[1]];Gt(e,e,o,h,p,d);const f=this.view.constraints.constrain(e,this.view.viewpoint);this.view.viewpoint=f;}}const m=.06,c$1=.7,v=6e-4;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
class i$2 extends i$5{constructor(e,i,t){super(!0),this.view=e,this.keys=i,this._pressed=!1,this._keyMap={[i.left]:"left",[i.right]:"right",[i.up]:"up",[i.down]:"down"},this.registerIncoming("key-down",t,(e=>this._handleKeyDown(e))),this.registerIncoming("key-up",t,(e=>this._handleKeyUp(e))),this.registerIncoming("blur",t,(()=>this._handleBlur()));}_handleKeyDown(e){e.data.repeat||this._handleKey(e,!0);}_handleKeyUp(e){this._handleKey(e,!1);}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop());}_handleKey(e,i){const t=this._keyMap[e.data.key];if(this._pressed=null!=t,this._pressed){if(i)switch(this.view.mapViewNavigation.begin(),t){case"left":this.view.mapViewNavigation.continousPanLeft();break;case"right":this.view.mapViewNavigation.continousPanRight();break;case"up":this.view.mapViewNavigation.continousPanUp();break;case"down":this.view.mapViewNavigation.continousPanDown();}else this._pressed=!1,this.view.mapViewNavigation.stop();e.stopPropagation();}}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
class i$1 extends i$5{constructor(e,i,t){super(!0),this.view=e,this.keys=i,this._pressed=!1,this._keyToDirection={[i.clockwiseOption1]:"clockwise",[i.clockwiseOption2]:"clockwise",[i.counterClockwiseOption1]:"counterClockwise",[i.counterClockwiseOption2]:"counterClockwise",[i.resetOption1]:"reset",[i.resetOption2]:"reset"},this.registerIncoming("key-down",t,(e=>this._handleKeyDown(e))),this.registerIncoming("key-up",t,(e=>this._handleKeyUp(e))),this.registerIncoming("blur",t,(()=>this._handleBlur()));}_handleKeyDown(e){e.data.repeat||this._handleKey(e,!0);}_handleKeyUp(e){this._handleKey(e,!1);}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop());}_handleKey(e,i){const t=e.modifiers;if(t.size>0&&!t.has("Shift")||!this.view.constraints.rotationEnabled)return;const s=this._keyToDirection[e.data.key];if(this._pressed=null!=s,this._pressed){if(i)switch(this.view.mapViewNavigation.begin(),s){case"clockwise":this.view.mapViewNavigation.continousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation();}else this._pressed=!1,this.view.mapViewNavigation.stop();e.stopPropagation();}}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
var t$2;!function(o){o[o.IN=0]="IN",o[o.OUT=1]="OUT";}(t$2||(t$2={}));class e$2 extends i$5{constructor(o,e,i){super(!0),this.view=o,this.keys=e,this._keysToZoomAction={},this.registerIncoming("key-down",i,(o=>this._handleKeyDown(o))),e.zoomIn.forEach((o=>this._keysToZoomAction[o]=t$2.IN)),e.zoomOut.forEach((o=>this._keysToZoomAction[o]=t$2.OUT));}_handleKeyDown(o){this._handleKey(o);}_handleKey(o){const e=o.modifiers;if(e.size>0&&!e.has("Shift"))return;const{key:i}=o.data;if(!(i in this._keysToZoomAction))return;const n=this._keysToZoomAction[i],{mapViewNavigation:s}=this.view;let r=null;switch(n){case t$2.IN:r=s.zoomIn();break;case t$2.OUT:r=s.zoomOut();break;default:return}s.begin(),r.then((()=>s.end())),o.stopPropagation();}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
const t$1=.6;class o extends i$5{constructor(e,t){super(!0),this.view=e,this._canZoom=!0,this.registerIncoming("mouse-wheel",t,(e=>this._handleMouseWheel(e)));}_handleMouseWheel(e){if(!this.view.navigation.mouseWheelZoomEnabled)return;if(e.preventDefault(),e.stopPropagation(),!this._canZoom)return;const o=this.view.mapViewNavigation,{x:n,y:i,deltaY:s}=e.data,a=1/t$1**(1/60*s),h=o.zoom(a,[n,i]);h&&(this._canZoom=!1,h.catch((()=>{})).then((()=>{this._canZoom=!0,o.end();})));}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
class a extends i$5{constructor(i){super(!0),this.view=i,this.registerIncoming("drag",(t=>this._handleDrag(t))),this.registerIncoming("pointer-down",(()=>this._stopMomentumNavigation()));const a=this.view.mapViewNavigation;this.dragEventSeparator=new t$6({start:(t,i)=>{a.pinch.begin(this.view,i.data),i.stopPropagation();},update:(t,i)=>{a.pinch.update(this.view,i.data),i.stopPropagation();},end:(t,i)=>{a.pinch.end(this.view),i.stopPropagation();},condition:t=>t>=2});}_handleDrag(t){this.dragEventSeparator.handle(t);}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation();}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
class s$1 extends i$5{constructor(e=s$8.maximumDoubleClickDelay,o=s$8.maximumDoubleClickDistance,n=s$8.maximumDoubleTouchDelay,s=s$8.maximumDoubleTouchDistance,u=t$7){super(!1),this.maximumDoubleClickDelay=e,this.maximumDoubleClickDistance=o,this.maximumDoubleTouchDelay=n,this.maximumDoubleTouchDistance=s,this._clock=u,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=c$5(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new t$6({start:(t,e)=>this._dragStart(t,e),update:(t,e)=>this._dragUpdate(e),end:(t,e)=>this._dragEnd(e)}),this.registerIncoming("drag",(t=>this._dragEventSeparator.handle(t))),this.registerIncoming("pointer-down",(t=>this._handlePointerDown(t))),this.registerIncoming("pointer-up",(()=>this._handlePointerUp()));}onUninstall(){this._pointerState.forEach((t=>{null!=t.doubleTapTimeout&&(t.doubleTapTimeout.remove(),t.doubleTapTimeout=null);}));}get hasPendingInputs(){return n$6(this._pointerState,(t=>null!=t.doubleTapTimeout))}_clearPointerDown(t){const e=this._pointerState.get(t);e&&(e.doubleTapTimeout.remove(),e.doubleTapTimeout=null,this._pointerState.delete(t),this.refreshHasPendingInputs());}_createDoubleTapDragData(t,e,i){const{button:a,buttons:o,pointer:r,pointers:n,pointerType:s,timestamp:u}=i;return {action:t,delta:e,button:a,buttons:o,pointer:r,pointers:n,pointerType:s,timestamp:u}}_dragStart(t,e){if(!this._doubleTapDragReady||1!==t)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:a,modifiers:o}=e,{center:r}=a;this._dragStartCenter=r;const n=this._createDoubleTapDragData("begin",c$5(0,0),a);this._doubleTapDrag.emit(n,void 0,o),e.stopPropagation();}_dragUpdate(t){if(!this._doubleTapDragActive)return;const{data:e,modifiers:a}=t,{center:o}=e,r=c$5(o.x-this._dragStartCenter.x,o.y-this._dragStartCenter.y),n=this._createDoubleTapDragData("update",r,e);this._doubleTapDrag.emit(n,void 0,a),t.stopPropagation();}_dragEnd(t){if(!this._doubleTapDragActive)return;const{data:e,modifiers:a}=t,{center:o}=e,r=c$5(o.x-this._dragStartCenter.x,o.y-this._dragStartCenter.y),n=this._createDoubleTapDragData("end",r,e);this._doubleTapDrag.emit(n,void 0,a),this._doubleTapDragActive=!1,t.stopPropagation();}_handlePointerDown(t){const{data:e}=t,i=this._pointerId(e),a=this._pointerState.get(i),{pointerType:o}=e.native;if(a){const r="touch"===o?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;this._clearPointerDown(i),e$5(a.event.data,e)>r?this._storePointerDown(t):this._doubleTapDragReady=!0;}else this._storePointerDown(t);}_handlePointerUp(){this._doubleTapDragReady=!1;}_pointerId(t){const{native:e}=t,{pointerId:i,button:a,pointerType:o}=e;return "mouse"===o?`${i}:${a}`:`${o}`}_storePointerDown(t){const{data:e}=t,{pointerType:i}=e.native,a=this._pointerId(e),o="touch"===i?this.maximumDoubleTouchDelay:this.maximumDoubleClickDelay,r=this._clock.setTimeout((()=>this._clearPointerDown(a)),o);this._pointerState.set(a,{event:t,doubleTapTimeout:r}),this.refreshHasPendingInputs();}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
const z={counter:"Ctrl",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"}};let T=class extends y$2{constructor(){super(...arguments),this._handles=new u$3;}initialize(){const e=()=>this.view?.ready;this._handles.add([f((()=>!e()),(()=>this._disconnect())),f(e,(()=>this._connect()))]);}destroy(){this._handles&&(this._handles.removeAll(),this._handles=null),this._disconnect();}get latestPointerType(){return this._inputManager?.latestPointerType}get latestPointerLocation(){return this._inputManager?.latestPointerLocation}_disconnect(){this._inputManager&&(this.view.viewEvents.disconnect(),this._inputManager.destroy(),this._inputManager=null,this._source.destroy(),this._source=null);}_connect(){const e=this.view.surface,t=new u$4(e,this.view.input),o$2=[new n$7,new o$6,new a$7,new s$9(this.view.navigation),new s$1],r=new c$6({eventSource:t,recognizers:o$2});r.installHandlers("prevent-context-menu",[new e$6],g$1.INTERNAL),r.installHandlers("navigation",[new a(this.view),new d(this.view),new o(this.view),new a$1(this.view),new a$1(this.view,[z.counter]),new n(this.view,"primary"),new i$2(this.view,z.pan),new e$2(this.view,z.zoom),new i$1(this.view,z.rotate),new o$1(this.view,"secondary"),new e$3(this.view,"touch")],g$1.INTERNAL),this.view.viewEvents.connect(r),this._source=t,this._inputManager=r,l$3((()=>this.view?.navigation?.browserTouchPanEnabled),(e=>{this._source&&(this._source.browserTouchPanningEnabled=!e);}),h);}get test(){return {inputManager:this._inputManager}}};e$4([d$2()],T.prototype,"view",void 0),e$4([d$2()],T.prototype,"latestPointerType",null),e$4([d$2()],T.prototype,"latestPointerLocation",null),T=e$4([n$4("esri.views.2d.input.MapViewInputManager")],T);const k=T;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
let p$1=0,i=class extends y$2{constructor(){super(...arguments),this.color=new l$4([0,255,255]),this.haloOpacity=1,this.fillOpacity=.25;}get version(){return p$1++}};e$4([d$2({readOnly:!0})],i.prototype,"version",null),e$4([d$2({type:l$4})],i.prototype,"color",void 0),e$4([d$2({type:l$4})],i.prototype,"haloColor",void 0),e$4([d$2()],i.prototype,"haloOpacity",void 0),e$4([d$2()],i.prototype,"fillOpacity",void 0),i=e$4([n$4("esri.views.2d.support.HighlightOptions")],i);const c=i;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
const s=s=>s.includes("Brush");class e$1{constructor(){this._names=new Map;}begin(e){this._names.has(e)||(this._names.set(e,!1),s(e)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${e}.Start`));}end(s){this._names.has(s)&&!this._names.get(s)&&(this._names.set(s,!0),performance.mark(`Esri.${s}.End`));}record(s){this._names.has(s)||(this._names.set(s,!0),performance.mark(`Esri.${s}`));}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
function t(t,h,i,e,d,l,n,o){let u;t.ignorePadding&&(e={left:0,right:0,top:0,bottom:0}),null!=t.width&&null!=t.height?u=[t.width,t.height]:null==t.width&&null!=t.height?u=[t.height,t.height]:null!=t.width&&null==t.height?u=[t.width,t.width]:null==t.width&&null==t.height&&(u=null);const r=i[0]-(e.left+e.right),a=i[1]-(e.top+e.bottom);let g,w,c=t.area||{x:0,y:0,width:r,height:a};if(u){const t=r/a,h=u[0]/u[1];if(h>t){const t=c.width/h;c={x:c.x,y:Math.round(c.y+(c.height-t)/2),width:c.width,height:Math.round(t)};}else {const t=c.height*h;c={x:Math.round(c.x+(c.width-t)/2),y:c.y,width:Math.round(t),height:c.height};}}else u=[c.width,c.height];u[0]>c.width?(g=Math.min(u[0]/c.width,h),w=u[0]/c.width/g):(g=1,w=u[0]/c.width);return {resolutionScale:g,cropArea:{x:Math.round((c.x+e.left)*g),y:Math.round((c.y+e.top)*g),width:Math.round(c.width*g),height:Math.round(c.height*g)},outputScale:w,format:d,quality:l,children:n,rotation:o}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
let e=class extends _{constructor(o){super(o),this.components=["attribution","zoom"];}};e$4([d$2()],e.prototype,"components",void 0),e=e$4([n$4("esri.views.ui.2d.DefaultUI2D")],e);const p=e;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
const he=s$6.getLogger("esri.views.MapView");let ce,de,ue,me,ge,fe;async function ye(){const[,{GraphicsView2D:e,GraphicContainer:t,LabelManager:i,MapViewNavigation:s,MagnifierView2D:r,Stage:n}]=await Promise.all([import('./webglDeps-89a998de.js'),import('./mapViewDeps-46720e24.js')]);de=e,ue=t,me=i,ge=s,fe=r,ce=n;}const we=160;function _e(e){return e&&"esri.Viewpoint"===e.declaredClass}let ve=class extends(w$1(g$2(p$5(G)))){constructor(e){super(e),this._magnifierView=null,this._stage=null,this._resolveWhenReady=[],this.rootLayerViews=new p$6({getCollections:()=>[this.basemapView?.baseLayerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.fullOpacity=1,this.graphicsView=null,this.labelManager=null,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.rendering=!1,this.supersampleScreenshotsEnabled=!1,this.supportsGround=!1,this._stationaryTimer=null,this.frameTask=new s$4(this),this._pePromise=null,this.floors=new j$1,this.highlightOptions=new c,this.inputManager=new k({view:this}),this.map=null,this.resizeAlign="center",this.spatialReferenceLocked=!1,this.timeline=new e$1,this.type="2d",this.ui=new p,this._pixelFormat={flipY:!0,premultipliedAlpha:!0},this.constraints=new y,this.padding={top:0,right:0,bottom:0,left:0},this.handles.add([l$3((()=>this.viewpoint),(()=>{this._lastStationaryEventTimestamp=performance.now(),this._flipStationary(we);}),U$1),this.on("resize",(e=>this._resizeHandler(e))),l$3((()=>this.animationManager?.animation),(e=>{this.animation=e;}))]),c$7();}destroy(){this._set("preconditionsReady",!1),this._gotoTask=this.frameTask=null,this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null);}get graphicsTileStore(){return new l$5(this.featuresTilingScheme)}get initialExtentRequired(){const{scale:e,constraints:t,center:i,viewpoint:s,extent:r}=this;let n=this.zoom;return !(this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties?.viewpoint)&&(!r&&(t?.effectiveLODs||(n=-1),(!i||0===e&&-1===n)&&(!s||!r$1(s.targetGeometry)||"extent"!==s.targetGeometry.type&&!s.scale)))}get resourceManager(){return this._stage.resourceManager}get textureManager(){return this._stage.painter.textureManager}get _defaultsFromMapSettings(){return {required:{tileInfo:!0,heightModelInfo:!1,extent:!1},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get _projectionEngineLoaded(){return !!en()||(this._pePromise||(this._pePromise=tn().finally((()=>{this._pePromise=null;}))),!1)}get typeSpecificPreconditionsReady(){const e=this._getDefaultViewpoint();if(!e)return !1;const t=this.spatialReference,i=e$7(e.targetGeometry);return !!An(i.spatialReference,t)||this._projectionEngineLoaded}set animation(e){const t=this._get("animation");if(e===t)return;if(t&&t.stop(),!e||e.isFulfilled())return void this._set("animation",null);this._set("animation",e),this.frameTask.animationInProgress=!0;const i=()=>{e===this._get("animation")&&(this._set("animation",null),this.frameTask.requestFrame()),this.frameTask.animationInProgress=!1;};e.when(i,i);}get background(){return this.get("map.initialViewProperties.background")||null}set background(e){void 0===e?this._clearOverride("background"):this._override("background",e);}get center(){if(!this.ready)return this._get("center");const{center:e,spatialReference:t}=this.state.paddedViewState;return new j({x:e[0],y:e[1],spatialReference:t})}set center(e){if(null==e)return;if(!this.ready)return this._set("center",e),void this.notifyChange("initialExtentRequired");let t;try{t=this._project(e,this.spatialReference);}catch(s){return void he.error(new s$5("mapview:invalid-center","could not project the value in the view's spatial reference",{input:e,error:s}))}const i=this.viewpoint;xt(i,i,t),this.viewpoint=i;}set constraints(e){const t=this._get("constraints");t&&(this.handles.remove("map-view-constraints"),t.destroy()),this._set("constraints",e),e&&(e.view=this,this.ready&&(this.state.viewpoint=e.fit(this.state.paddedViewState.viewpoint)),this.handles.add(l$3((()=>e.version),(()=>{this.ready&&this.state&&(this.state.viewpoint=e.fit(this.state.paddedViewState.viewpoint));}),U$1),"map-view-constraints"));}get extent(){return this.ready?this.state.paddedViewState.extent.clone():this._get("extent")}set extent(e){if(null==e)return;if(!e.width||!e.height)return void he.error(new s$5("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",e),this._set("center",null),this._set("viewpoint",null),this._set("scale",0),this._set("zoom",-1),void this.notifyChange("initialExtentRequired");let t;try{t=this._project(e,this.spatialReference);}catch(s){return void he.error(new s$5("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:s}))}const i=this.viewpoint;tt(i,i,t,this.size,{constraints:this.constraints}),this.viewpoint=i;}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(e){this.ready?(this.state.padding=e,this._set("padding",this.state.padding)):this._set("padding",e);}get resolution(){return this.state?this.state.resolution:0}get rotation(){return this.ready?this.state.rotation:this._get("rotation")}set rotation(e){if(isNaN(e))return;if(!this.ready)return void this._set("rotation",e);const t=this.viewpoint;wt(t,t,e),this.viewpoint=t;}get scale(){return this.ready?this.state.scale:this._get("scale")}set scale(e){if(!e||isNaN(e))return;if(!this.ready){this._set("scale",e),this._set("zoom",-1);const t=this._get("extent");return t&&(this._set("extent",null),this._set("center",t.center)),void this.notifyChange("initialExtentRequired")}const t=this.viewpoint;jt(t,t,e),this.viewpoint=t;}get stationary(){return !(this.animation||this.navigating||this.resizing||this._stationaryTimer)}get updating(){return !this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||!0===this.layerViewManager.updating||!0===this.labelManager.updating||!0===this.graphicsView.updating||this.allLayerViews.some((e=>!e.destroyed&&!("layerViews"in e)&&!0===e.updating)))}get viewpoint(){if(!this.ready)return this._get("viewpoint");const e=this.state.paddedViewState;return e&&e.viewpoint.clone()}set viewpoint(e){if(null==e)return;if(!this.ready)return this._set("viewpoint",e),this._set("extent",null),this._set("center",null),this._set("zoom",-1),this._set("scale",0),void this.notifyChange("initialExtentRequired");let t,s;try{t=this._project(e,this.spatialReference),!e.scale||isNaN(e.scale)?s=new s$5("mapview:invalid-viewpoint",`invalid scale value of ${e.scale}`):t$4(e.targetGeometry)&&(s=new s$5("mapview:invalid-viewpoint","geometry not defined"));}catch(a){s=new s$5("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:a});}if(s)return void he.error(s);this._scaleBeforeChangingSpatialReference=null;const r=new u$2({targetGeometry:new j,scale:0,rotation:0});Z(r,t),this.constraints.constrain(r,this.state.paddedViewState.viewpoint),this.state.viewpoint=r,this.frameTask.requestFrame(),this._set("viewpoint",r);}get zoom(){return this.ready?this.constraints.scaleToZoom(this.scale):this._get("zoom")}set zoom(e){if(null==e)return;if(!this.ready){this._set("zoom",e),this._set("scale",0);const t=this._get("extent");return t&&(this._set("extent",null),this._set("center",t.center)),void this.notifyChange("initialExtentRequired")}if(!this.constraints.effectiveLODs)return void this._set("zoom",-1);const t=this.viewpoint;jt(t,t,this.constraints.zoomToScale(e)),this.viewpoint=t,this._set("zoom",this.constraints.scaleToZoom(this.scale));}get navigating(){return !(!this.mapViewNavigation||!this.mapViewNavigation.interacting)}goTo(e,t){if(e)return this.animation&&(this.animation=null),this._createAnimation(),j$2((()=>this.ready),t).then((()=>{const i={animate:!0,...t},s=Y(e,this);return this.animation.update(s),this._gotoTask={},i.animate?this._gotoAnimated(s,i):this._gotoImmediate(s,i)}));he.error("#goTo()","target cannot be null or undefined");}async hitTest(e,t){const i=o$7(e)?r$4(this,e):e;if(!this.ready||isNaN(i.x)||isNaN(i.y))return {screenPoint:i,results:[]};let s=new Set,r=!1,n=null,a=null;t?.include?Te(t.include,je(this,(e=>s.add(e)),(e=>{n||(n=new Set),n.add(e);}),(e=>s.add(e)),(()=>r=!0))):(r=!0,s=new Set(this.allLayerViews)),t?.exclude&&Te(t.exclude,je(this,(e=>s.delete(e)),(e=>{a||(a=new Set),a.add(e);})));const o=this.allLayerViews.filter((e=>!e.suspended&&s.has(e))).reverse(),l=this.toMap(i);let h=[...r?this.graphicsView.hitTest(l).map((e=>({type:"graphic",graphic:e,layer:null,mapPoint:l}))):[],...await Promise.all(o.map((e=>e.hitTest(l,i))).toArray())].filter(r$1).flat().filter(r$1);return n&&(h=h.filter((e=>!("graphic"in e)||!e.graphic||n.has(Se(e.graphic))))),a&&(h=h.filter((e=>!("graphic"in e)||!e.graphic||a.has(Se(e.graphic))))),{screenPoint:i,results:h}}async takeScreenshot(e){const t=this._createScreenshotPlan(e),i=await this._stage.takeScreenshot(t);return r$5(i,{format:t.format,quality:t.quality,rotation:0,disableDecorations:!1},this._pixelFormat)}async _takeScreenshot(e){const t=this._createScreenshotPlan(e),i=await this._stage.takeScreenshot(t);return l$6(i,this._pixelFormat)}_createScreenshotPlan(e){e=e||{};const t$1=this.supersampleScreenshotsEnabled?Math.min(4,w$2(this.size,Math.min(4096,this._stage.context.parameters.maxTextureSize))):1;let i;e.layers?(i=[],e.layers.forEach((e=>{const t=this.allLayerViews.find((t=>t.layer.id===e.id));t&&"container"in t&&t.container&&i.push(t.container);}))):i=this._stage.children;const{format:s,quality:r}=s$a(e.format,e.quality);return t(e,t$1,this.size,this.padding,s,r,i,e.rotation)}get test(){return {takeScreenshot:e=>this._takeScreenshot(e)}}toMap(e){if(!this.ready)return null;const t=o$7(e)?r$4(this,e):e,i=[0,0],[s,r]=this.state.toMap(i,[t.x,t.y]),n=this.spatialReference;return new j({x:s,y:r,spatialReference:n})}toScreen(e){if(!this.ready)return null;const t=this._project(e,this.spatialReference),i=[t.x,t.y];return this.state.toScreen(i,i),c$5(i[0],i[1])}on(e,t,i,s){const r=this.inputManager&&this.viewEvents.on(e,t,i,s);return r||super.on(e,t)}hasEventListener(e){return super.hasEventListener(e)||this.viewEvents.hasHandler(e)}whenLayerView(e){return super.whenLayerView(e)}graphicChanged(e){if(this.graphicsView){this.graphicsView.graphicUpdateHandler(e);}}whenReady(){return new Promise((e=>{this.ready?e(this):this._resolveWhenReady.push(e);}))}forceDOMReadyCycle(){this.forceReadyCycle();}getDefaultSpatialReference(){return this.map&&"initialViewProperties"in this.map&&this.map?.initialViewProperties?.spatialReference||this.defaultsFromMap?.spatialReference||null}hasLayerViewModule(e){return n$2.hasLayerViewModule(e)}importLayerView(e){return n$2.importLayerView(e)}pixelSizeAt(){return this.ready?this.state.resolution:(he.error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}popupHitTest(e){return this.hitTest(e).then((t=>({...t,mapPoint:this.toMap(e)})))}requestUpdate(){this.ready&&this.frameTask.requestUpdate();}validate(){let e=i$7(this.type);return a$8("safari")&&a$8("safari")<9&&(e=new s$5("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:a$8("safari")})),r$1(e)?(he.warn("#validate()",e.message),Promise.reject(e)):ye()}_createAnimation(){return this.animation&&!this.animation.done||(this.animation=new n$3),this.animation}_cancellableGoTo(e,t,i){const s=()=>e===this._gotoTask,r=i.then((()=>{s()&&(this.animation=null);})).catch((e=>{throw s()&&(this.animation=null,t.done||(t.stop(),this.frameTask.animationInProgress=!1)),e})),n=new Promise((e=>e(r)));return t.when().catch((()=>{s()&&n.cancel&&n.cancel();})),n}_gotoImmediate(e,t){const i=this._gotoTask,s=this.animation,r=e.then((e=>{if(f$1(t),i!==this._gotoTask)throw new s$5("view:goto-interrupted","Goto was interrupted");this.viewpoint=s.target=e,s.finish();}));return this._cancellableGoTo(i,s,r)}_flipStationary(e){return null!==this._stationaryTimer||(this._stationaryTimer=setTimeout((()=>{this._stationaryTimer=null;const e=performance.now()-this._lastStationaryEventTimestamp;e<we&&(this._stationaryTimer=this._flipStationary(e));}),e)),this._stationaryTimer}_getDefaultViewpoint(){const{constraints:e,initialExtent:t,map:s,padding:r,size:n}=this;if(!e)return null;const a=s&&"initialViewProperties"in s&&s.initialViewProperties,o={zoom:this._get("zoom"),scale:this._get("scale"),center:this._get("center"),extent:this._get("extent"),rotation:this._get("rotation"),viewpoint:this._get("viewpoint"),spatialReference:this._userSpatialReference};e.effectiveLODs?-1!==o.zoom&&(o.scale=e.zoomToScale(o.zoom)):o.zoom=-1;let l=null,c=null,d=0;const u=o.viewpoint&&o.viewpoint.rotation,m=o.viewpoint&&o.viewpoint.targetGeometry;r$1(m)&&("extent"===m.type?l=m:"point"===m.type&&(c=m,d=o.viewpoint.scale));const g=o.extent||l||e$7(a?.viewpoint?.targetGeometry)?.extent||t,f=o.center||c||g?.center,y=o.scale||d||a?.viewpoint?.scale||g&&H(g,[n[0]-r.left-r.right,n[1]-r.top-r.bottom]),w=o.rotation||u||a?.viewpoint?.rotation||0;return f&&y?new u$2({targetGeometry:f,scale:y,rotation:w}):null}_gotoAnimated(e,t){const i=this._gotoTask,s=this.animation,r=e.then((e=>{if(f$1(t),i!==this._gotoTask)throw new s$5("view:goto-interrupted","Goto was interrupted");return s.update(e),this.animationManager.animate(s,this.viewpoint,t),s.when().then((()=>{}),(()=>{}))}));return this._cancellableGoTo(i,s,r)}_project(e,t){const i=e&&e.targetGeometry||e;if(!t)return e;if(!i)return null;if(t.imageCoordinateSystem||i.spatialReference?.imageCoordinateSystem)return e;if(E(t,i.spatialReference))return e;const s=rn(i,t);if(!s)throw new s$5("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:i,spatialReference:t});return _e(e)?(e.targetGeometry=s,e):s}_resizeHandler(e){if(!this.ready)return;const t=this.state;let i=this.state.paddedViewState.viewpoint;const s=this.state.paddedViewState.size.concat();t.size=[e.width,e.height],ht(i,i,s,this.state.paddedViewState.size,this.resizeAlign),i=this.constraints.constrain(i,null),this.state.viewpoint=i;}_startup(){this.timeline.begin("MapView Startup");const e=this._getDefaultViewpoint(),t=e.targetGeometry;try{this._project(e,this.spatialReference);}catch(o){he.warn(new t$8("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:t.toJSON(),spatialReference:this.spatialReference,error:o})),e.targetGeometry=this.defaultsFromMap.extent?.center||new j({x:0,y:0,spatialReference:this.spatialReference});}this.constraints?.fit(e),this._set("state",new g({padding:this._get("padding"),size:this.size,viewpoint:e})),this.graphics.owner=this;const i=new ce(this.surface,{canvas:this.renderCanvas,supersampleScreenshots:this.supersampleScreenshotsEnabled,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this._stage=i,this._magnifierView=new fe,this._magnifierView.magnifier=this.magnifier;const s=new me({view:this});this._set("labelManager",s);const r=new d$1({view:this});this._set("animationManager",r);const n=new ge({view:this,animationManager:r});this._set("mapViewNavigation",n),this._setupSpatialReferenceDependentProperties(),this.handles.add([this.rootLayerViews.on("change",(()=>this._updateStageChildren())),i.on("post-render",(()=>this._set("rendering",i.renderRequested))),i.on("will-render",(()=>this._set("rendering",i.renderRequested))),i.on("webgl-error",(e=>this.fatalError=e.error)),l$3((()=>this.stationary),(e=>i.stationary=e),w$3),l$3((()=>this.background),(e=>{i.background=e,this._magnifierView.background=e;}),w$3),l$3((()=>this.magnifier),(e=>this._magnifierView.magnifier=e),w$3),l$3((()=>this.renderingOptions),(e=>i.renderingOptions=e),w$3),l$3((()=>this.highlightOptions),(e=>i.highlightOptions=e),w$3),l$3((()=>this.state.id),(()=>i.state=this.state),w$3)],"map-view"),this._updateStageChildren();const a=this._resolveWhenReady;this._resolveWhenReady=[],a.forEach((e=>e(this))),this.timeline.end("MapView Startup"),this.frameTask&&this.frameTask.start(),this._set("ready",!0);}_teardown(){this._destroySpatialReferenceDependentProperties(),this.handles.remove("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._stage.destroy(),this._stage=null,this._set("graphicsView",null),this._magnifierView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask&&this.frameTask.stop(),this._stationaryTimer&&(clearTimeout(this._stationaryTimer),this._stationaryTimer=null),this._set("ready",!1);const{center:[e,t],spatialReference:i,rotation:s,scale:r}=this.state.paddedViewState,n=new j({x:e,y:t,spatialReference:i});this._set("viewpoint",null),this._set("extent",null),this._set("center",n),this._set("zoom",-1),this._set("rotation",s),this._set("scale",r),this._set("spatialReference",i),this._set("state",null),this.animation=null;}_updateStageChildren(){this._stage.removeAllChildren(),this.rootLayerViews.forEach((e=>{this._stage.addChild(e.container);}));const e=this.graphicsView;this._stage.addChild(e.container),this._stage.addChild(this._magnifierView);}_setupSpatialReferenceDependentProperties(){const e=new h$1(S.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",e);const t=new de({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new ue(e)});this.frameTask.graphicsView=t,this._set("graphicsView",t);}_destroySpatialReferenceDependentProperties(){const e=this.graphicsView;this._set("graphicsView",null),this.frameTask.graphicsView=null,e.destroy(),this._set("featuresTilingScheme",null);}_spatialReferenceChanged(e){if(!this.ready)return;this.frameTask.stop();for(const i of this.allLayerViews)i.processDetach();this._destroySpatialReferenceDependentProperties();const t=this.state.paddedViewState.clone();if(t$4(this._scaleBeforeChangingSpatialReference))this._scaleBeforeChangingSpatialReference=t.scale;else {const e=t.viewpoint.clone();e.scale=this._scaleBeforeChangingSpatialReference,t.viewpoint=e;}const s=t.clone(),[r,n]=t.center;let o=null;try{o=this._project(new j({x:r,y:n,spatialReference:t.spatialReference}),e);}catch(p){en()||he.warn(new t$8("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:o.toJSON(),spatialReference:e,error:p}));}o||(o=new j({x:0,y:0,spatialReference:e}));const l=xt(new u$2({targetGeometry:new j,scale:0,rotation:0}),t.viewpoint,o);s.viewpoint=l;try{const i=20,r=[t.size[0]/2,t.size[1]/2],n=[r[0]+i,r[1]],o=t.toMap([0,0],n),{x:p,y:h}=this._project(new j({x:o[0],y:o[1],spatialReference:t.spatialReference}),e);o[0]=p,o[1]=h,s.toScreen(o,o);const c=pt(r,o,n),d=Math.hypot(o[0]-r[0],o[1]-r[1])/i;!Number.isFinite(d)||Math.abs(d)>4?(l.rotation=0,l.targetGeometry=new j({x:0,y:0,spatialReference:e})):(l.scale*=d,l.scale>a$8("mapview-srswitch-adjust-rotation-scale-threshold")?l.rotation=0:l.rotation+=Number.isFinite(c)?c:0);}catch{}this._get("constraints").constrain(l,null),this._get("state").viewpoint=l,this._stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const i of this.allLayerViews)i.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren();}};ve.type="2d",e$4([d$2({readOnly:!0})],ve.prototype,"animationManager",void 0),e$4([d$2({constructOnly:!0})],ve.prototype,"deactivatedWebGLExtensions",void 0),e$4([d$2({constructOnly:!0})],ve.prototype,"debugWebGLExtensions",void 0),e$4([d$2({readOnly:!0})],ve.prototype,"featuresTilingScheme",void 0),e$4([d$2({readOnly:!0})],ve.prototype,"fullOpacity",void 0),e$4([d$2({readOnly:!0})],ve.prototype,"graphicsTileStore",null),e$4([d$2()],ve.prototype,"graphicsView",void 0),e$4([d$2({readOnly:!0})],ve.prototype,"state",void 0),e$4([d$2()],ve.prototype,"initialExtentRequired",null),e$4([d$2()],ve.prototype,"labelManager",void 0),e$4([d$2({readOnly:!0})],ve.prototype,"resourceManager",null),e$4([d$2({readOnly:!0})],ve.prototype,"textureManager",null),e$4([d$2({readOnly:!0})],ve.prototype,"mapViewNavigation",void 0),e$4([d$2({constructOnly:!0})],ve.prototype,"renderCanvas",void 0),e$4([d$2()],ve.prototype,"renderingOptions",void 0),e$4([d$2({readOnly:!0})],ve.prototype,"rendering",void 0),e$4([d$2({constructOnly:!0})],ve.prototype,"supersampleScreenshotsEnabled",void 0),e$4([d$2({readOnly:!0})],ve.prototype,"supportsGround",void 0),e$4([d$2()],ve.prototype,"_stationaryTimer",void 0),e$4([d$2()],ve.prototype,"_defaultsFromMapSettings",null),e$4([d$2()],ve.prototype,"_pePromise",void 0),e$4([d$2({readOnly:!0})],ve.prototype,"typeSpecificPreconditionsReady",null),e$4([d$2()],ve.prototype,"animation",null),e$4([d$2({type:m$4})],ve.prototype,"background",null),e$4([d$2({value:null,type:j,dependsOn:["state.id","ready"]})],ve.prototype,"center",null),e$4([d$2({type:y})],ve.prototype,"constraints",null),e$4([d$2({value:null,type:M,dependsOn:["state.id","ready"]})],ve.prototype,"extent",null),e$4([d$2()],ve.prototype,"floors",void 0),e$4([d$2({type:c})],ve.prototype,"highlightOptions",void 0),e$4([d$2({readOnly:!0})],ve.prototype,"inputManager",void 0),e$4([d$2()],ve.prototype,"map",void 0),e$4([d$2({value:{top:0,right:0,bottom:0,left:0},cast:e=>({top:0,right:0,bottom:0,left:0,...e})})],ve.prototype,"padding",null),e$4([d$2()],ve.prototype,"resizeAlign",void 0),e$4([d$2({readOnly:!0,dependsOn:["state.id"]})],ve.prototype,"resolution",null),e$4([d$2({value:0,type:Number,dependsOn:["state.id","ready"]})],ve.prototype,"rotation",null),e$4([d$2({value:0,type:Number,dependsOn:["state.id","ready"]})],ve.prototype,"scale",null),e$4([d$2({constructOnly:!0})],ve.prototype,"spatialReferenceLocked",void 0),e$4([d$2()],ve.prototype,"stationary",null),e$4([d$2({type:e$1,readOnly:!0})],ve.prototype,"timeline",void 0),e$4([d$2({readOnly:!0})],ve.prototype,"type",void 0),e$4([d$2({readOnly:!0})],ve.prototype,"updating",null),e$4([d$2({value:null,type:u$2,dependsOn:["state.id","ready"]})],ve.prototype,"viewpoint",null),e$4([d$2({value:-1,dependsOn:["state.id","ready"]})],ve.prototype,"zoom",null),e$4([d$2({type:Boolean})],ve.prototype,"navigating",null),e$4([d$2({type:p})],ve.prototype,"ui",void 0),ve=e$4([n$4("esri.views.MapView")],ve);const Ve=ve;function Se(e){const t=e.getObjectId();return t?`${e.layer?.uid??e.sourceLayer?.uid??"MapView"}/${t}`:`"MapView/${e.uid}`}function je(e,i,s,r,n){return a=>{if(a instanceof g$3){if(a.layer===e)n?.();else {const t=e.allLayerViews.find((e=>e.layer===a.layer));t&&r?.(t);}s(Se(a));}else {const t=e.allLayerViews.find((e=>e.layer===a));t&&i(t);}}}function Te(e,t){if(e)if(t$9(e))for(const i of e)if(t$9(i))for(const e of i)t(e);else t(i);else t(e);}

const MapView = /*#__PURE__*/Object.freeze({
	__proto__: null,
	'default': Ve
});

export { MapView as M, e$1 as e };
