import { t, r as r$1, ag as c$1 } from './cast-3d5be210.js';
import { r as r$2 } from './commonProperties-fca3036e.js';

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
function r(t$1,n){return t(n)||!n.mode?t$1?"absolute-height":"on-the-ground":n.mode}function s(e,n){return r(!!r$1(e)&&e.hasZ,n)}function i(e){const t=l(e);return s(e.geometry,t)}function u(e){const r=l(e),i=s(e.geometry,r);return {mode:i,offset:r$1(r)&&"on-the-ground"!==i?c$1(r.offset,0)*r$2(c$1(r.unit,"meters")):0}}function a(e){if("on-the-ground"===i(e))return !1;const n=l(e),o=r$1(n)&&n.featureExpressionInfo?n.featureExpressionInfo.expression:null;return !(!o||"0"===o)}function l(e){return e.layer&&"elevationInfo"in e.layer?e.layer.elevationInfo:null}function c(o,r,s){if(t(s)||!s.mode)return;const i=o.hasZ?o.z:0,u=r$1(s.offset)?s.offset:0;switch(s.mode){case"absolute-height":return i-u;case"on-the-ground":return 0;case"relative-to-ground":return i-(c$1(r.elevationProvider.getElevation(o.x,o.y,o.z,o.spatialReference,"ground"),0)+u);case"relative-to-scene":return i-(c$1(r.elevationProvider.getElevation(o.x,o.y,o.z,o.spatialReference,"scene"),0)+u)}}function f(e,t,n,o=null){return g(e,t.x,t.y,t.hasZ?t.z:0,t.spatialReference,n,o)}function v(e,t,n,o,r=null){return g(e,t[0],t[1],t.length>2?t[2]:0,n,o,r)}function g(n,o,r,s,i,u,a=null){if(t(u))return;const l=r$1(a)?a.mode:"absolute-height";if("on-the-ground"===l)return 0;const{absoluteZ:c}=d(o,r,s,i,n,u);return h(c,o,r,s,i,n,a,l)}function d(e,o,r,s,i,u){const a=r$1(u.offset)?u.offset:0;switch(u.mode){case"absolute-height":return {absoluteZ:r+a,elevation:0};case"on-the-ground":{const t=c$1(i.elevationProvider.getElevation(e,o,0,s,"ground"),0);return {absoluteZ:t,elevation:t}}case"relative-to-ground":{const t=c$1(i.elevationProvider.getElevation(e,o,r,s,"ground"),0);return {absoluteZ:r+t+a,elevation:t}}case"relative-to-scene":{const t=c$1(i.elevationProvider.getElevation(e,o,r,s,"scene"),0);return {absoluteZ:r+t+a,elevation:t}}}}function h(e,o,r,s,i,u,a,l){const c=r$1(a)&&r$1(a.offset)?a.offset:0;switch(l){case"absolute-height":return e-c;case"relative-to-ground":return e-(c$1(u.elevationProvider.getElevation(o,r,s,i,"ground"),0)+c);case"relative-to-scene":return e-(c$1(u.elevationProvider.getElevation(o,r,s,i,"scene"),0)+c)}}const m={mode:"absolute-height",offset:0};

export { c, d, f, m, s, u, v };
