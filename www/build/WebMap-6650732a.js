import { s as s$6, J as g$1, r, e as e$1, d as d$2, n as n$7, m as m$7, a0 as o$4, b as b$2, t as t$3, a as s$9, I as s$a, y as y$2, ah as x, h as e$2, E } from './cast-3d5be210.js';
import { j as j$1, U, s as s$7, c as s$b, X, n as nt, S as St } from './request-ac4d8bfb.js';
import { L, h as h$2, v as v$1, S as S$1 } from './Map-3fa127ca.js';
import { u as u$2 } from './Viewpoint-e3d4029a.js';
import { j as j$2 } from './Collection-a38e0489.js';
import { m as m$5, B } from './Portal-5df9f5a7.js';
import { n as n$8 } from './loadAll-0acccebb.js';
import { O, S } from './MultiOriginJSONSupport-281c1c62.js';
import { m as m$9 } from './Promise-d2759b2e.js';
import { j as j$3 } from './reactiveUtils-bd6fe823.js';
import { k, o as o$3, r as r$2, R, E as E$1, a as j$4 } from './Point-edff2a11.js';
import { i as i$9 } from './originUtils-184f7769.js';
import { u as u$1, l as l$2, d as d$4 } from './JSONSupport-dce2c67b.js';
import { m as m$6, j as j$5 } from './arcgisLayerUrl-a268a370.js';
import { l as l$5, a as a$9 } from './layerUtils-160a1a44.js';
import { K as Ke } from './FeatureLayer-6922c890.js';
import { t as t$2 } from './featureQueryAll-cad40ef9.js';
import { M } from './Extent-f27111e1.js';
import { b as b$1 } from './Query-1f6c7e43.js';
import b$3 from './PortalItem-fa114dd2.js';
import { f as f$1, c as c$d, i as i$8, s as s$c } from './portalItemUtils-a7a5c16f.js';
import { a as a$8, n as n$9 } from './project-248cf8a5.js';
import { i as i$7, p as p$8, a as i$a, l as l$6 } from './SlideThumbnail-551bb50e.js';
import { l as l$3 } from './Clonable-533c7a05.js';
import { r as r$1 } from './enumeration-6695a859.js';
import { i as i$6, d as d$3 } from './geometry-2f332a26.js';
import { y as y$1 } from './TimeExtent-66b53603.js';
import { l as l$4 } from './TimeInfo-0c128ef4.js';
import { y as y$3 } from './writeUtils-ab23132f.js';
import { s as s$8 } from './Identifiable-d9658370.js';
import { m as m$8 } from './ColorBackground-f38d78ea.js';
import { r as r$3 } from './Version-44ff489f.js';
import './Basemap-bccaf827.js';
import './collectionUtils-302901c0.js';
import './assets-99f5c3ee.js';
import './messages-5e9a4a9e.js';
import './Color-25ce730a.js';
import './colorUtils-5009883d.js';
import './mathUtils-559a53d9.js';
import './compilerUtils-d149ad5f.js';
import './opacityUtils-dcd94f00.js';
import './CollectionFlattener-9ce72729.js';
import './HandleOwner-fe336959.js';
import './Handles-54afc0a7.js';
import './TablesMixin-6752cfb1.js';
import './Layer-569a1fc8.js';
import './Cyclical-922b1741.js';
import './asyncUtils-96c00c9e.js';
import './multiOriginJSONSupportUtils-917e4f3f.js';
import './persistableUrlUtils-5dcd6081.js';
import './PopupTemplate-b459951f.js';
import './fieldUtils-240a3b99.js';
import './number-c5a37d3e.js';
import './ActionToggle-a5849e6f.js';
import './UniqueValueRenderer-bb66af10.js';
import './symbols-ab3e849a.js';
import './CIMSymbol-15bdb580.js';
import './Symbol-573a64f6.js';
import './screenUtils-31d073db.js';
import './aaBoundingBox-b312516d.js';
import './aaBoundingRect-5e1a4e52.js';
import './ColorStop-64c57e35.js';
import './diffUtils-6436a697.js';
import './colorRamps-e3d9340f.js';
import './sizeVariableUtils-5330814d.js';
import './Graphic-93f45ded.js';
import './commonProperties-fca3036e.js';
import './unitUtils-a0a11e54.js';
import './jsonUtils-a25e8eb8.js';
import './styleUtils-d2332fad.js';
import './jsonUtils-e7c7add9.js';
import './DictionaryLoader-d0d1b4ff.js';
import './LRUCache-5f25d277.js';
import './MemCache-04cdd0cd.js';
import './aliasOf-bdfe6662.js';
import './heatmapUtils-d302cc7f.js';
import './vec4f64-011248e0.js';
import './sql-817bbae7.js';
import './Field-2973a5cf.js';
import './fieldType-eb0b42e4.js';
import './HeightModelInfo-12951268.js';
import './workers-c7a27acb.js';
import './intl-54ccdc89.js';
import './queryZScale-127601ac.js';
import './zscale-0befeff4.js';
import './FeatureSet-1b85367a.js';
import './Polyline-dcdb3782.js';
import './APIKeyMixin-04df9c0f.js';
import './ArcGISService-848d76dd.js';
import './BlendLayer-7884099a.js';
import './jsonUtils-f3f35e7f.js';
import './mat4-d5df0e58.js';
import './_commonjsHelpers-8dd5c177.js';
import './CustomParametersMixin-f702935f.js';
import './labelingInfo-6e0c44d1.js';
import './LabelClass-936eaa93.js';
import './labelUtils-824fc88a.js';
import './defaultsJSON-5fb6161d.js';
import './OperationalLayer-e04486e0.js';
import './OrderedLayer-d02e1d58.js';
import './PortalLayer-e61e1a42.js';
import './RefreshableLayer-496830b9.js';
import './ScaleRangeLayer-f9a9951f.js';
import './TemporalLayer-6cfc496a.js';
import './FeatureType-691faa46.js';
import './fieldProperties-fa42dff4.js';
import './FieldsIndex-ea481e79.js';
import './LayerFloorInfo-b83a3647.js';
import './versionUtils-55e187fe.js';
import './styleUtils-106413c0.js';
import './TopFeaturesQuery-babc7c57.js';
import './popupUtils-883a107f.js';
import './projection-fbd5d346.js';
import './utils-d801fb7f.js';

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
const y=s$6.getLogger("esri.networks.Network");let m$4=class extends(O(m$5)){constructor(e){super(e),this.id=null,this.title=null,this.layerUrl=null,this.dataElement=null,this.fullExtent=null,this.spatialReference=null,this.type=null,this.sourceJSON=null;}initialize(){this.when().catch((e=>{g$1(e)||y.error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:e});}));}get datasetName(){return this.dataElement?.name}get owner(){return this.dataElement?.userIdentity}get schemaGeneration(){return this.dataElement?.schemaGeneration}get parsedUrl(){const e=this.layerUrl;return e?j$1(e):null}get featureServiceUrl(){const e=this.parsedUrl&&m$6(this.parsedUrl.path);return r(e)?e.url.path:null}get networkServiceUrl(){return this.featureServiceUrl?this.featureServiceUrl.replace(/\/FeatureServer/i,"/UtilityNetworkServer"):null}get layerId(){const e=this.parsedUrl&&m$6(this.parsedUrl.path);return r(e)?e.sublayer:null}async load(e){return this.addResolvingPromise(this._fetchDataElement(this.featureServiceUrl,this.layerId.toString(),e)),this.addResolvingPromise(this._fetchLayerMetaData(this.layerUrl,e)),this}getLayerIdBySourceId(e){if(this.dataElement){const r=this.dataElement.domainNetworks;for(const t of r){for(const r of t.edgeSources?t.edgeSources:[])if(r.sourceId===e)return r.layerId;for(const r of t.junctionSources?t.junctionSources:[])if(r.sourceId===e)return r.layerId}return null}return null}async _fetchLayerMetaData(e,t){const o=await U(e,{responseType:"json",query:{f:"json"},...t});this.sourceJSON=o.data,this.read(o.data,{origin:"service"});}async _fetchDataElement(e,t,o){if(this.dataElement)return;const s=await U(`${e}/queryDataElements`,{responseType:"json",query:{layers:JSON.stringify([t]),f:"json"},...o}).then((e=>e.data.layerDataElements?.[0]));s&&this.read(s,{origin:"service"});}};e$1([d$2({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}}},read:!1}})],m$4.prototype,"id",void 0),e$1([d$2({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}}},read:!1}})],m$4.prototype,"title",void 0),e$1([d$2({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"url"},write:{target:"url",isRequired:!0}}},read:!1}})],m$4.prototype,"layerUrl",void 0),e$1([d$2({type:Object,json:{origins:{service:{read:!0}},read:!1}})],m$4.prototype,"dataElement",void 0),e$1([d$2({type:M,json:{origins:{service:{read:{source:"extent"}}},read:!1}})],m$4.prototype,"fullExtent",void 0),e$1([d$2({type:k,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:!1}})],m$4.prototype,"spatialReference",void 0),e$1([d$2({type:["utility","trace"],readOnly:!0,json:{read:!1,write:!1}})],m$4.prototype,"type",void 0),e$1([d$2({readOnly:!0})],m$4.prototype,"datasetName",null),e$1([d$2({readOnly:!0})],m$4.prototype,"owner",null),e$1([d$2({readOnly:!0})],m$4.prototype,"schemaGeneration",null),e$1([d$2({readOnly:!0})],m$4.prototype,"parsedUrl",null),e$1([d$2({readOnly:!0})],m$4.prototype,"featureServiceUrl",null),e$1([d$2({readOnly:!0})],m$4.prototype,"networkServiceUrl",null),e$1([d$2({readOnly:!0})],m$4.prototype,"layerId",null),e$1([d$2()],m$4.prototype,"sourceJSON",void 0),m$4=e$1([n$7("esri.networks.Network")],m$4);const h$1=m$4;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
var t$1;!function(n){n[n.RTJunctionJunctionConnectivity=1]="RTJunctionJunctionConnectivity",n[n.RTContainment=2]="RTContainment",n[n.RTAttachment=3]="RTAttachment",n[n.RTJunctionEdgeConnectivity=4]="RTJunctionEdgeConnectivity",n[n.RTEdgeJunctionEdgeConnectivity=5]="RTEdgeJunctionEdgeConnectivity";}(t$1||(t$1={}));const o$2=new s$7({connected:"connected",upstream:"upstream",downstream:"downstream",shortestPath:"shortest-path",subnetwork:"subnetwork",subnetworkController:"subnetwork-controller",loops:"loops",isolation:"isolation"}),e=new s$7({connectivity:"connectivity",attachment:"attachment",containment:"containment",junctionEdgeFromConnectivity:"junction-edge-from-connectivity",junctionMidspanConnectivity:"junction-midspan-connectivity",junctionEdgeToConnectivity:"junction-edge-to-connectivity"});

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
let a$7=class extends(u$1(m$5)){constructor(e){super(e),this.request=U;}initialize(){}async load(e){const t=this.layer.load(e).then((()=>this._initializeRulesTable()));return this.addResolvingPromise(t),this}getFeatureSQL(e,t){const s=e.layerId.toString(),o=e.fieldsIndex.normalizeFieldName("assetGroup"),r=e.fieldsIndex.normalizeFieldName("assetType"),n=t.attributes[o],i=t.attributes[r],a=this.rulesHash[s];if(a){const e=a.assetGroupHash[n];if(e){const t=e.assetTypeHash[i];return t||null}}return null}async _initializeRulesTable(){const e={};let t;!function(e){e[e.from=0]="from",e[e.to=1]="to",e[e.via=2]="via";}(t||(t={}));const s=[{networkSourceId:"fromNetworkSource",assetGroupId:"fromAssetGroup",assetTypeId:"fromAssetType"},{networkSourceId:"toNetworkSource",assetGroupId:"toAssetGroup",assetTypeId:"toAssetType"},{networkSourceId:"viaNetworkSource",assetGroupId:"viaAssetGroup",assetTypeId:"viaAssetType"}];for(const o of this.rules){if(o.ruleType!==t$1.RTJunctionJunctionConnectivity&&o.ruleType!==t$1.RTJunctionEdgeConnectivity&&o.ruleType!==t$1.RTEdgeJunctionEdgeConnectivity)continue;let r=[[t.from,t.to],[t.to,t.from]];o.ruleType===t$1.RTEdgeJunctionEdgeConnectivity&&(r=[[t.from,t.via],[t.via,t.from],[t.to,t.via],[t.via,t.to]]);for(const n of r){const r=n.shift(),a=n.shift();let c=!1;switch(o.ruleType){case t$1.RTEdgeJunctionEdgeConnectivity:c=r===t.from||r===t.to;break;case t$1.RTJunctionEdgeConnectivity:c=r===t.to;}const p=s[r],u=o[p.networkSourceId].layerId.toString(),d=o[p.assetGroupId]?.assetGroupCode?.toString(),y=o[p.assetTypeId]?.assetTypeCode?.toString(),l=s[a],f=o[l.networkSourceId].layerId.toString(),m=o[l.assetGroupId]?.assetGroupCode?.toString(),T=o[l.assetTypeId],h=T?.assetTypeCode?.toString(),v=e[u]?e[u]:{assetGroupHash:{}};if(!(d&&y&&m&&h))continue;const S=v.assetGroupHash[d]?v.assetGroupHash[d]:{assetTypeHash:{}},I=S.assetTypeHash[y]?S.assetTypeHash[y]:{};if(I[f]=I[f]?I[f]:{},c){I[u]=I[u]?I[u]:{};const e=`(assetgroup = ${d} AND assettype = ${y})`;I[u].anyVertex=I[u].anyVertex?`${I[u].anyVertex}`:`${e}`,"esriNECPEndVertex"===T.connectivityPolicy&&(I[u].endVertex=I[u]?.endVertex?`${I[u].endVertex}`:`${e}`);}const g=`(assetgroup = ${m} AND assettype = ${h})`;I[f].anyVertex=I[f]?.anyVertex?`${I[f].anyVertex} OR ${g}`:`${g}`,"esriNECPEndVertex"===T.connectivityPolicy&&(I[f].endVertex=I[f]?.endVertex?`${I[f].endVertex} OR ${g}`:`${g}`),S.assetTypeHash[y]=I,v.assetGroupHash[d]=S,e[u]=v;}}this.rulesHash=e;}};e$1([d$2({constructOnly:!0})],a$7.prototype,"layer",void 0),e$1([d$2({constructOnly:!0})],a$7.prototype,"rules",void 0),e$1([d$2()],a$7.prototype,"rulesHash",void 0),e$1([d$2({constructOnly:!0})],a$7.prototype,"request",void 0),a$7=e$1([n$7("esri.networks.RulesTable")],a$7);const c$c=a$7;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
let s$5=class extends l$2{constructor(t){super(t),this.conditionBarriers=[],this.outputConditions=[],this.functions=[],this.functionBarriers=[],this.traversabilityScope=null,this.shortestPathNetworkAttributeName=null,this.includeBarriers=null,this.validateConsistency=null,this.ignoreBarriersAtStartingPoints=null;}};e$1([d$2({type:[Object],json:{write:!0}})],s$5.prototype,"conditionBarriers",void 0),e$1([d$2({type:[Object],json:{write:!0}})],s$5.prototype,"outputConditions",void 0),e$1([d$2({type:[Object],json:{write:!0}})],s$5.prototype,"functions",void 0),e$1([d$2({type:[Object],json:{write:!0}})],s$5.prototype,"functionBarriers",void 0),e$1([d$2({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],s$5.prototype,"traversabilityScope",void 0),e$1([d$2({type:String,json:{write:!0}})],s$5.prototype,"shortestPathNetworkAttributeName",void 0),e$1([d$2({type:Boolean,json:{write:!0}})],s$5.prototype,"includeBarriers",void 0),e$1([d$2({type:Boolean,json:{write:!0}})],s$5.prototype,"validateConsistency",void 0),e$1([d$2({type:Boolean,json:{write:!0}})],s$5.prototype,"ignoreBarriersAtStartingPoints",void 0),s$5=e$1([n$7("esri.networks.support.TraceConfiguration")],s$5);const i$5=s$5;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
let i$4=class extends i$5{constructor(t){super(t),this.filterBarriers=[],this.domainNetworkName=null,this.filterBitsetNetworkAttributeName=null,this.filterFunctionBarriers=[],this.filterScope=null,this.includeContainers=null,this.includeContent=null,this.includeIsolated=null,this.includeStructures=null,this.includeUpToFirstSpatialContainer=null,this.nearestNeighbor=null,this.outputFilterCategories=[],this.outputFilters=[],this.propagators=[],this.subnetworkName=null,this.targetTierName=null,this.tierName=null,this.validateLocatability=null;}};e$1([d$2({type:[Object],json:{write:!0}})],i$4.prototype,"filterBarriers",void 0),e$1([d$2({type:String,json:{write:!0}})],i$4.prototype,"domainNetworkName",void 0),e$1([d$2({type:String,json:{write:!0}})],i$4.prototype,"filterBitsetNetworkAttributeName",void 0),e$1([d$2({type:[Object],json:{write:!0}})],i$4.prototype,"filterFunctionBarriers",void 0),e$1([d$2({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],i$4.prototype,"filterScope",void 0),e$1([d$2({type:Boolean,json:{write:!0}})],i$4.prototype,"includeContainers",void 0),e$1([d$2({type:Boolean,json:{write:!0}})],i$4.prototype,"includeContent",void 0),e$1([d$2({type:Boolean,json:{write:!0}})],i$4.prototype,"includeIsolated",void 0),e$1([d$2({type:Boolean,json:{write:!0}})],i$4.prototype,"includeStructures",void 0),e$1([d$2({type:Boolean,json:{write:!0}})],i$4.prototype,"includeUpToFirstSpatialContainer",void 0),e$1([d$2({type:Object,json:{write:!0}})],i$4.prototype,"nearestNeighbor",void 0),e$1([d$2({type:[Object],json:{write:!0}})],i$4.prototype,"outputFilterCategories",void 0),e$1([d$2({type:[Object],json:{write:!0}})],i$4.prototype,"outputFilters",void 0),e$1([d$2({type:[Object],json:{write:!0}})],i$4.prototype,"propagators",void 0),e$1([d$2({type:String,json:{write:!0}})],i$4.prototype,"subnetworkName",void 0),e$1([d$2({type:String,json:{write:!0}})],i$4.prototype,"targetTierName",void 0),e$1([d$2({type:String,json:{write:!0}})],i$4.prototype,"tierName",void 0),e$1([d$2({type:Boolean,json:{write:!0}})],i$4.prototype,"validateLocatability",void 0),i$4=e$1([n$7("esri.networks.support.UNTraceConfiguration")],i$4);const s$4=i$4;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
let p$7=class extends S{constructor(r){super(r),this.globalId=null,this.title=null,this.traceConfiguration=null,this.creationDate=null,this.creator=null,this.description=null,this.minStartingPoints=null,this.resultTypes=[],this.tags=[],this.traceType=null;}readTraceConfiguration(r,e){return void 0!==r.tierName?s$4.fromJSON(r):i$5.fromJSON(r)}};e$1([d$2({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"id"},write:{target:"id",isRequired:!0}},service:{read:{source:"globalId"}}},read:!1}})],p$7.prototype,"globalId",void 0),e$1([d$2({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"title"},write:{target:"title",isRequired:!0}},service:{read:{source:"name"}}},read:!1}})],p$7.prototype,"title",void 0),e$1([d$2({type:i$5,json:{origins:{service:{read:!0}},read:!1}})],p$7.prototype,"traceConfiguration",void 0),e$1([o$3("service","traceConfiguration")],p$7.prototype,"readTraceConfiguration",null),e$1([d$2({type:Date,json:{origins:{service:{read:!0}},read:!1}})],p$7.prototype,"creationDate",void 0),e$1([d$2({type:String,json:{origins:{service:{read:!0}},read:!1}})],p$7.prototype,"creator",void 0),e$1([d$2({type:String,json:{origins:{service:{read:!0}},read:!1}})],p$7.prototype,"description",void 0),e$1([d$2({type:["none","one","many"],json:{origins:{service:{read:{source:"minNumStartingPoints"}}},read:!1}})],p$7.prototype,"minStartingPoints",void 0),e$1([d$2({type:[Object],json:{origins:{service:{read:!0}},read:!1}})],p$7.prototype,"resultTypes",void 0),e$1([d$2({type:[String],json:{origins:{service:{read:!0}},read:!1}})],p$7.prototype,"tags",void 0),e$1([d$2({type:o$2.apiValues,json:{type:o$2.jsonValues,origins:{service:{read:o$2.read}},read:!1}})],p$7.prototype,"traceType",void 0),p$7=e$1([n$7("esri.networks.support.NamedTraceConfiguration")],p$7);const c$b=p$7;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
let s$3=class extends l$2{constructor(r){super(r),this.id=null,this.name=null;}};e$1([d$2({type:Number,json:{read:{source:"terminalId"},write:{target:"terminalId"}}})],s$3.prototype,"id",void 0),e$1([d$2({type:String,json:{read:{source:"terminalName"},write:{target:"terminalName"}}})],s$3.prototype,"name",void 0),e$1([d$2({type:Boolean,json:{write:!0}})],s$3.prototype,"isUpstreamTerminal",void 0),s$3=e$1([n$7("esri.networks.support.Terminal")],s$3);const p$6=s$3;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
const a$6=new s$7({esriUNTMBidirectional:"bidirectional",esriUNTMDirectional:"directional"});let n$6=class extends l$2{constructor(r){super(r),this.defaultConfiguration=null,this.id=null,this.name=null,this.terminals=[],this.traversabilityModel=null;}};e$1([d$2({type:String,json:{write:!0}})],n$6.prototype,"defaultConfiguration",void 0),e$1([d$2({type:Number,json:{read:{source:"terminalConfigurationId"},write:{target:"terminalConfigurationId"}}})],n$6.prototype,"id",void 0),e$1([d$2({type:String,json:{read:{source:"terminalConfigurationName"},write:{target:"terminalConfigurationName"}}})],n$6.prototype,"name",void 0),e$1([d$2({type:[p$6],json:{write:!0}})],n$6.prototype,"terminals",void 0),e$1([d$2({type:a$6.apiValues,json:{type:a$6.jsonValues,read:a$6.read,write:a$6.write}})],n$6.prototype,"traversabilityModel",void 0),n$6=e$1([n$7("esri.networks.support.TerminalConfiguration")],n$6);const p$5=n$6;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
let c$a=class extends h$1{constructor(e){super(e),this.sharedNamedTraceConfigurations=[],this.type="utility";}get serviceTerritoryFeatureLayerId(){return this.dataElement?.serviceTerritoryFeatureLayerId}get systemLayers(){return {rulesTableId:this.sourceJSON?.systemLayers.rulesTableId,rulesTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.rulesTableId}`:null,subnetworksTableId:this.sourceJSON?.systemLayers.subnetworksTableId,subnetworksTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.subnetworksTableId}`:null}}get rulesTableId(){return this.sourceJSON?.systemLayers.rulesTableId}get rulesTableUrl(){return this.sourceJSON?`${this.featureServiceUrl}/${this.rulesTableId}`:null}get subnetworksTableId(){return this.sourceJSON?.systemLayers.subnetworksTableId}get subnetworksTableUrl(){return this.sourceJSON?`${this.featureServiceUrl}/${this.subnetworksTableId}`:null}get terminalConfigurations(){return this.dataElement?.terminalConfigurations.map((e=>p$5.fromJSON(e)))||[]}get domainNetworkNames(){return this.dataElement?.domainNetworks.map((e=>e.domainNetworkName))||[]}get _utilityLayerList(){const e=new Set;return this.dataElement.domainNetworks.map((t=>{t.edgeSources.map((t=>{e.add(t.layerId);})),t.junctionSources.map((t=>{e.add(t.layerId);}));})),e}async load(e){return this.addResolvingPromise(super.load(e)),this.addResolvingPromise(this._loadNamedTraceConfigurationsFromNetwork(e)),this}getTerminalConfiguration(e){let t=null,r=null;const s=e.layer;let a=null;if("feature"!==s?.type)return null;if(a=s.layerId,null===a)return null;const n=e.attributes;if(null==n)return null;for(const l of Object.keys(n))"ASSETGROUP"===l.toUpperCase()&&(t=e.getAttribute(l)),"ASSETTYPE"===l.toUpperCase()&&(r=e.getAttribute(l));if(!this.dataElement)return null;let o=null;const i=this.dataElement.domainNetworks;for(const l of i){const e=l.junctionSources?.find((e=>e.layerId===a));if(e){const s=e.assetGroups?.find((e=>e.assetGroupCode===t));if(s){const e=s.assetTypes?.find((e=>e.assetTypeCode===r));if(e){o=e.terminalConfigurationId;break}}}}if(null!=o){const e=this.dataElement.terminalConfigurations?.find((e=>e.terminalConfigurationId===o));return e?p$5.fromJSON(e):null}return null}getTierNames(e){const t=this.dataElement?.domainNetworks.find((t=>t.domainNetworkName===e));return t?.tiers.map((e=>e.name))||[]}async getRulesTable(){return this._createRulesTable()}isUtilityLayer(e){return this._utilityLayerList.has(e.layerId)}async _loadNamedTraceConfigurationsFromNetwork(e){if(0===this.sharedNamedTraceConfigurations?.length)return;const t=this.sharedNamedTraceConfigurations.map((e=>e.globalId)),r=await this._fetchTraceConfigData(this.networkServiceUrl,t,e);for(const s of this.sharedNamedTraceConfigurations){const e=r?.find((e=>e.globalId===s.globalId));e&&s.read(e,{origin:"service"});}}async _createRulesTable(){const e=new Ke({url:this.rulesTableUrl});await e.load();const t=this.dataElement?.domainNetworks;if(!t)return null;const r=t.flatMap((e=>[...e.edgeSources,...e.junctionSources])),s=(await this._queryRulesTable(e)).map((t=>this._hydrateRuleInfo(e,r,t)));return new c$c({layer:e,rules:s})}async _queryRulesTable(e){const t=new b$1({where:"1=1",outFields:["*"]});return (await t$2(e,t)).features}_hydrateRuleInfo(e,t,r){const s=e.fieldsIndex.get("RULETYPE"),a=e.fieldsIndex.get("CREATIONDATE"),n=e.fieldsIndex.get("FROMNETWORKSOURCEID"),o=e.fieldsIndex.get("FROMASSETGROUP"),i=e.fieldsIndex.get("FROMASSETTYPE"),l=e.fieldsIndex.get("FROMTERMINALID"),u=e.fieldsIndex.get("TONETWORKSOURCEID"),m=e.fieldsIndex.get("TOASSETGROUP"),c=e.fieldsIndex.get("TOASSETTYPE"),f=e.fieldsIndex.get("TOTERMINALID"),p=e.fieldsIndex.get("VIANETWORKSOURCEID"),y=e.fieldsIndex.get("VIAASSETGROUP"),T=e.fieldsIndex.get("VIAASSETTYPE"),I=e.fieldsIndex.get("VIATERMINALID"),g=r.attributes[s.name],b=new Date(r.attributes[a.name]),h=[{networkSourceId:r.attributes[n.name],assetGroupId:r.attributes[o.name],assetTypeId:r.attributes[i.name],terminalId:r.attributes[l.name]},{networkSourceId:r.attributes[u.name],assetGroupId:r.attributes[m.name],assetTypeId:r.attributes[c.name],terminalId:r.attributes[f.name]},{networkSourceId:r.attributes[p.name],assetGroupId:r.attributes[y.name],assetTypeId:r.attributes[T.name],terminalId:r.attributes[I.name]}];let S;!function(e){e[e.from=0]="from",e[e.to=1]="to",e[e.via=2]="via";}(S||(S={}));const N={ruleType:g,creationDate:b};for(const w of [S.from,S.to,S.via]){if(g!==t$1.RTEdgeJunctionEdgeConnectivity&&w===S.via)continue;const e=h[w],r=t.find((t=>t.sourceId===e.networkSourceId)),s=r?.assetGroups.find((t=>t.assetGroupCode===e.assetGroupId)),a=s?.assetTypes.find((t=>t.assetTypeCode===e.assetTypeId));let n=this._getTerminal(g,a,e);g!==t$1.RTContainment&&g!==t$1.RTAttachment||(n=null);let o="";switch(w){case S.from:o="from";break;case S.to:o="to";break;case S.via:o="via";}N[`${o}NetworkSource`]=r,N[`${o}AssetGroup`]=s,N[`${o}AssetType`]=a,N[`${o}Terminal`]=n;}return N}_getTerminal(e,t,r){if(e===t$1.RTAttachment||e===t$1.RTContainment)return null;const s=t?.terminalConfigurationId,a=this.terminalConfigurations?.find((e=>e.id===s));return a?.terminals?.find((e=>e.id===r.terminalId))}_fetchTraceConfigData(e,r,s){return U(`${e}/traceConfigurations/query`,{responseType:"json",query:{globalIds:JSON.stringify(r),f:"json"},...s}).then((e=>e.data.traceConfigurations))}};e$1([d$2({type:[c$b],json:{origins:{"web-map":{read:{source:"traceConfigurations"},write:{target:"traceConfigurations"}},service:{read:{source:"traceConfigurations"}}},read:!1}})],c$a.prototype,"sharedNamedTraceConfigurations",void 0),e$1([d$2({type:["utility"],readOnly:!0,json:{read:!1,write:!1}})],c$a.prototype,"type",void 0),e$1([d$2({readOnly:!0})],c$a.prototype,"serviceTerritoryFeatureLayerId",null),e$1([d$2({readOnly:!0})],c$a.prototype,"systemLayers",null),e$1([d$2({readOnly:!0})],c$a.prototype,"rulesTableId",null),e$1([d$2({readOnly:!0})],c$a.prototype,"rulesTableUrl",null),e$1([d$2({readOnly:!0})],c$a.prototype,"subnetworksTableId",null),e$1([d$2({readOnly:!0})],c$a.prototype,"subnetworksTableUrl",null),e$1([d$2({readOnly:!0})],c$a.prototype,"terminalConfigurations",null),e$1([d$2({readOnly:!0})],c$a.prototype,"domainNetworkNames",null),c$a=e$1([n$7("esri.networks.UtilityNetwork")],c$a);const f=c$a;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
let p$4=class extends(l$3(l$2)){constructor(r){super(r),this.expression=null,this.returnType="string",this.title=null;}};e$1([d$2({type:String,json:{write:{isRequired:!0}}})],p$4.prototype,"expression",void 0),e$1([d$2({type:["number","string"],json:{write:!0}})],p$4.prototype,"returnType",void 0),e$1([d$2({type:String,json:{write:!0}})],p$4.prototype,"title",void 0),p$4=e$1([n$7("esri.webdoc.geotriggersInfo.ExpressionInfo")],p$4);const i$3=p$4;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
const c$9=new s$7({deviceLocation:"device-location"});let a$5=class extends(l$3(l$2)){constructor(o){super(o),this.filterExpression=null,this.type="device-location";}};e$1([d$2({type:i$3,json:{write:!0}})],a$5.prototype,"filterExpression",void 0),e$1([d$2({type:c$9.apiValues,readOnly:!0,json:{type:c$9.jsonValues,read:c$9.read,write:c$9.write}})],a$5.prototype,"type",void 0),a$5=e$1([n$7("esri.webdoc.geotriggersInfo.DeviceLocationFeed")],a$5);const n$5=a$5;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
let c$8=class extends(l$3(l$2)){constructor(r){super(r),this.geometry=null,this.where=null;}};e$1([d$2({types:i$6,json:{read:d$3,write:!0}})],c$8.prototype,"geometry",void 0),e$1([d$2({type:String,json:{write:!0}})],c$8.prototype,"where",void 0),c$8=e$1([n$7("esri.webdoc.geotriggersInfo.FeatureFilter")],c$8);const m$3=c$8;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
let p$3=class extends(l$3(l$2)){constructor(r){super(r),this.layerId=null,this.layerUrl=null,this.type="feature-layer";}};e$1([d$2({type:String,json:{write:{overridePolicy(){return {isRequired:null===this.layerUrl}}}}})],p$3.prototype,"layerId",void 0),e$1([d$2({type:String,json:{write:{overridePolicy(){return {isRequired:null===this.layerId}}}}})],p$3.prototype,"layerUrl",void 0),e$1([r$1({featureLayer:"feature-layer"},{readOnly:!0})],p$3.prototype,"type",void 0),p$3=e$1([n$7("esri.webdoc.geotriggersInfo.FeatureLayerSource")],p$3);const a$4=p$3;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
let a$3=class extends(l$3(l$2)){constructor(r){super(r),this.fenceSource=null,this.filter=null,this.bufferDistance=null,this.type="features";}};e$1([d$2({type:a$4,json:{write:{isRequired:!0}}})],a$3.prototype,"fenceSource",void 0),e$1([d$2({type:m$3,json:{write:!0}})],a$3.prototype,"filter",void 0),e$1([d$2({type:Number,json:{write:!0}})],a$3.prototype,"bufferDistance",void 0),e$1([r$1({features:"features"},{readOnly:!0})],a$3.prototype,"type",void 0),a$3=e$1([n$7("esri.webdoc.geotriggersInfo.FeatureFenceParameters")],a$3);const u=a$3;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
let c$7=class extends(l$3(l$2)){constructor(r){super(r),this.type="fence";}};e$1([r$1({fence:"fence"},{readOnly:!0})],c$7.prototype,"type",void 0),c$7=e$1([n$7("esri.webdoc.geotriggersInfo.Geotrigger")],c$7);const p$2=c$7;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
let i$2=class extends(l$3(l$2)){constructor(o){super(o),this.expressionInfo=null,this.requestedActions=null;}};e$1([d$2({type:i$3,json:{write:!0}})],i$2.prototype,"expressionInfo",void 0),e$1([d$2({type:[String],json:{write:!0}})],i$2.prototype,"requestedActions",void 0),i$2=e$1([n$7("esri.webdoc.geotriggersInfo.GeotriggerNotificationOptions")],i$2);const c$6=i$2;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
const t=new s$7({enterContainsAndExitDoesNotContain:"enter-contains-and-exit-does-not-contain",enterContainsAndExitDoesNotIntersect:"enter-contains-and-exit-does-not-intersect",enterIntersectsAndExitDoesNotIntersect:"enter-intersects-and-exit-does-not-intersect"}),n$4=new s$7({useGeometry:"use-geometry",useGeometryWithAccuracy:"use-geometry-with-accuracy"}),o$1=new s$7({enter:"enter",enterOrExit:"enter-or-exit",exit:"exit"});

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
let d$1=class extends p$2{constructor(e){super(e),this.enterExitRule="enter-contains-and-exit-does-not-intersect",this.feed=null,this.feedAccuracyMode="use-geometry",this.fenceNotificationRule=null,this.fenceParameters=null,this.name=null,this.notificationOptions=null,this.type="fence";}};e$1([r$1(t)],d$1.prototype,"enterExitRule",void 0),e$1([d$2({type:n$5,json:{write:{isRequired:!0}}})],d$1.prototype,"feed",void 0),e$1([r$1(n$4)],d$1.prototype,"feedAccuracyMode",void 0),e$1([d$2({type:o$1.apiValues,json:{type:o$1.jsonValues,read:o$1.read,write:{writer:o$1.write,isRequired:!0}}})],d$1.prototype,"fenceNotificationRule",void 0),e$1([d$2({type:u,json:{write:{isRequired:!0}}})],d$1.prototype,"fenceParameters",void 0),e$1([d$2({type:String,json:{write:!0}})],d$1.prototype,"name",void 0),e$1([d$2({type:c$6,json:{write:!0}})],d$1.prototype,"notificationOptions",void 0),e$1([r$1({fence:"fence"},{readOnly:!0})],d$1.prototype,"type",void 0),d$1=e$1([n$7("esri.webdoc.geotriggersInfo.FenceGeotrigger")],d$1);const m$2=d$1;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
const o={base:p$2,key:"type",typeMap:{fence:m$2}};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
let c$5=class extends(l$3(l$2)){constructor(r){super(r),this.geotriggers=null;}};e$1([d$2({types:[o],json:{write:{isRequired:!0}}})],c$5.prototype,"geotriggers",void 0),c$5=e$1([n$7("esri.webdoc.GeotriggersInfo")],c$5);const i$1=c$5;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
var s$2;let a$2=s$2=class extends l$2{constructor(e){super(e),this.activeRange=null,this.currentRangeExtent=null,this.fullRangeExtent=null;}clone(){return new s$2(m$7({activeRange:this.activeRange,currentRangeExtent:this.currentRangeExtent,fullRangeExtent:this.fullRangeExtent}))}};e$1([d$2({type:String,nonNullable:!0,json:{read:{source:"activeRangeName"},write:{target:"activeRangeName",isRequired:!0}}})],a$2.prototype,"activeRange",void 0),e$1([d$2({type:[Number],json:{write:!0}})],a$2.prototype,"currentRangeExtent",void 0),e$1([d$2({type:[Number],json:{write:!0}})],a$2.prototype,"fullRangeExtent",void 0),a$2=s$2=e$1([n$7("esri.webdoc.RangeInfo")],a$2);const c$4=a$2;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
var s$1;let n$3=s$1=class extends l$2{constructor(e){super(e),this.enabled=!1,this.longNames=!1,this.minimized=!1,this.pinnedLevels=!1,this.site=null,this.facility=null,this.level=null;}clone(){return new s$1(m$7({enabled:this.enabled,longNames:this.longNames,minimized:this.minimized,pinnedLevels:this.pinnedLevels,site:this.site,facility:this.facility,level:this.level}))}};e$1([d$2({type:Boolean,json:{read:{source:"enabled"},write:{target:"enabled"}}})],n$3.prototype,"enabled",void 0),e$1([d$2({type:Boolean,json:{read:{source:"longNames"},write:{target:"longNames"}}})],n$3.prototype,"longNames",void 0),e$1([d$2({type:Boolean,json:{read:{source:"minimized"},write:{target:"minimized"}}})],n$3.prototype,"minimized",void 0),e$1([d$2({type:Boolean,json:{read:{source:"pinnedLevels"},write:{target:"pinnedLevels"}}})],n$3.prototype,"pinnedLevels",void 0),e$1([d$2({type:String,json:{read:{source:"site"},write:{target:"site"}}})],n$3.prototype,"site",void 0),e$1([d$2({type:String,json:{read:{source:"facility"},write:{target:"facility"}}})],n$3.prototype,"facility",void 0),e$1([d$2({type:String,json:{read:{source:"level"},write:{target:"level"}}})],n$3.prototype,"level",void 0),n$3=s$1=e$1([n$7("esri.webdoc.widgets.FloorFilter")],n$3);const l$1=n$3;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
var i;const n$2=new s$7({slider:"slider",picker:"picker"});let p$1=i=class extends l$2{constructor(e){super(e),this.interactionMode=null,this.numStops=null,this.stopInterval=null;}clone(){return new i({interactionMode:this.interactionMode,numStops:this.numStops,stopInterval:this.stopInterval})}};e$1([d$2({type:n$2.apiValues,nonNullable:!0,json:{type:n$2.jsonValues,default:null,read:{reader:n$2.read},write:{isRequired:!0,writer:n$2.write}}})],p$1.prototype,"interactionMode",void 0),e$1([d$2({type:Number,json:{read:{source:"numberOfStops"},write:{target:"numberOfStops",overridePolicy(){const e=null!=this.stopInterval;return {enabled:!e,isRequired:!e}}}}})],p$1.prototype,"numStops",void 0),e$1([d$2({type:Number,json:{write:{overridePolicy(){return {isRequired:null==this.numStops}}}}})],p$1.prototype,"stopInterval",void 0),p$1=i=e$1([n$7("esri.webdoc.widgets.Range")],p$1);const a$1=p$1;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
var a;let c$3=a=class extends l$2{constructor(t){super(t),this.currentTimeExtent=null,this.fullTimeExtent=null,this.loop=!1,this.numStops=null,this.numThumbs=null,this.stopDelay=null,this.stopInterval=null,this.stops=null;}readCurrentTimeExtent(t){if(!t)return;const r=null!=t[0]?new Date(t[0]):null,o=null!=t[1]?new Date(t[1]):null;return new y$1({start:r,end:o})}writeCurrentTimeExtent(t,e,r$1){t&&o$4(r$1,[r(t.start)?t.start.getTime():null,r(t.end)?t.end.getTime():null],e);}readFullTimeExtent(t,r){const o=r.properties;if(!o)return;const s=null!=o.endTime?new Date(o.endTime):null,n=null!=o.startTime?new Date(o.startTime):null;return new y$1({start:n,end:s})}writeFullTimeExtent(t,e){if(!t)return;const r$1=e.properties=e.properties||{},o=t.end,s=t.start;o&&(r$1.endTime=r(o)?o.getTime():null),s&&(r$1.startTime=r(s)?s.getTime():null);}readStopInterval(t,e,o){return t?l$4.fromJSON({value:t.interval,unit:t.units},o):null}writeStopInterval(t,e,r,o){if(!t)return;const s=t.toJSON(o);o$4(r,{interval:s.value,units:s.unit},e);}readStops(t){return t&&t.length?t.map((t=>new Date(t))):null}writeStops(t,e,r){t&&t.length&&o$4(r,t.map((t=>t.getTime())),e);}clone(){return new a(m$7({currentTimeExtent:this.currentTimeExtent,fullTimeExtent:this.fullTimeExtent,loop:this.loop,numStops:this.numStops,numThumbs:this.numThumbs,stopDelay:this.stopDelay,stopInterval:this.stopInterval,stops:this.stops}))}};e$1([d$2({type:y$1,json:{read:{source:"properties.currentTimeExtent"},write:{target:"properties.currentTimeExtent"}}})],c$3.prototype,"currentTimeExtent",void 0),e$1([o$3("currentTimeExtent")],c$3.prototype,"readCurrentTimeExtent",null),e$1([r$2("currentTimeExtent")],c$3.prototype,"writeCurrentTimeExtent",null),e$1([d$2({type:y$1,json:{read:{source:["properties.endTime","properties.startTime"]},write:{target:{"properties.endTime":{type:Number},"properties.startTime":{type:Number}}}}})],c$3.prototype,"fullTimeExtent",void 0),e$1([o$3("fullTimeExtent")],c$3.prototype,"readFullTimeExtent",null),e$1([r$2("fullTimeExtent")],c$3.prototype,"writeFullTimeExtent",null),e$1([d$2({type:Boolean,nonNullable:!0,json:{default:!1,read:{source:"properties.loop"},write:{target:"properties.loop"}}})],c$3.prototype,"loop",void 0),e$1([d$2({type:Number,json:{read:{source:"properties.numberOfStops"},write:{target:"properties.numberOfStops",overridePolicy(){const t=!!this.stopInterval,e=!!this.stops?.length,r=!(t||e);return {enabled:r,isRequired:r}}}}})],c$3.prototype,"numStops",void 0),e$1([d$2({type:[1,2],nonNullable:!0,json:{read:{source:"properties.thumbCount"},write:{target:"properties.thumbCount",isRequired:!0}}})],c$3.prototype,"numThumbs",void 0),e$1([d$2({type:Number,nonNullable:!0,json:{read:{source:"properties.thumbMovingRate"},write:{target:"properties.thumbMovingRate",isRequired:!0}}})],c$3.prototype,"stopDelay",void 0),e$1([d$2({type:l$4,json:{read:{source:"properties.timeStopInterval"},write:{target:"properties.timeStopInterval",overridePolicy(){const t=null!=this.numStops,e=!!this.stops?.length;return {enabled:!e,isRequired:!(t||e)}}}}})],c$3.prototype,"stopInterval",void 0),e$1([o$3("stopInterval")],c$3.prototype,"readStopInterval",null),e$1([r$2("stopInterval")],c$3.prototype,"writeStopInterval",null),e$1([d$2({type:[Date],json:{read:{source:"properties.stops"},write:{target:"properties.stops",overridePolicy(){return {isRequired:null==this.numStops&&!this.stopInterval}}}}})],c$3.prototype,"stops",void 0),e$1([o$3("stops")],c$3.prototype,"readStops",null),e$1([r$2("stops")],c$3.prototype,"writeStops",null),c$3=a=e$1([n$7("esri.webdoc.widgets.TimeSlider")],c$3);const d=c$3;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
var m$1;let c$2=m$1=class extends l$2{constructor(r){super(r),this.range=null,this.timeSlider=null,this.floorFilter=null;}clone(){return new m$1(m$7({range:this.range,timeSlider:this.timeSlider,floorFilter:this.floorFilter}))}};e$1([d$2({type:a$1,json:{write:!0}})],c$2.prototype,"range",void 0),e$1([d$2({type:d,json:{write:!0}})],c$2.prototype,"timeSlider",void 0),e$1([d$2({type:l$1,json:{write:!0}})],c$2.prototype,"floorFilter",void 0),c$2=m$1=e$1([n$7("esri.webdoc.Widgets")],c$2);const n$1=c$2;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
var p;let n=p=class extends l$2{constructor(o){super(o),this.editing=null,this.offline=null,this.viewing=null;}clone(){return new p(m$7({editing:this.editing,offline:this.offline,viewing:this.viewing}))}};e$1([d$2({json:{write:!0}})],n.prototype,"editing",void 0),e$1([d$2({json:{write:!0}})],n.prototype,"offline",void 0),e$1([d$2({type:i$7,json:{write:!0}})],n.prototype,"viewing",void 0),n=p=e$1([n$7("esri.webmap.ApplicationProperties")],n);const c$1=n;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
var h;const j="esri.webmap.Bookmark",b=s$6.getLogger(j);let v=h=class extends(s$8(l$2)){constructor(t){super(t),this.name=null,this.thumbnail=new p$8,this.timeExtent=null;}castThumbnail(t){return "string"==typeof t?new p$8({url:t}):b$2(p$8,t)}set viewpoint(t){const{targetGeometry:e,scale:o}=t;r(e)&&"point"===e.type&&t$3(o)&&b.warn("Bookmark.viewpoint should include 'scale' when its targetGeometry is a point.",t),this._set("viewpoint",t);}readViewpoint(t,e){const{extent:r,viewpoint:i}=e;return u$2.fromJSON(i||{targetGeometry:r})}writeViewpoint(t,e,o,i){if(!t)return;const{targetGeometry:s}=t;if(r(s)&&"extent"!==s.type){const t="Bookmark.viewpoint cannot be written to JSON when the viewpoint's targetGeometry is not an extent.";i?.messages?i.messages.push(new s$9("property:unsupported",t)):b.error(t);}else r(s)&&(e.extent=s.toJSON()),e[o]=t.toJSON();}clone(){return new h(m$7({name:this.name,thumbnail:this.thumbnail,timeExtent:this.timeExtent,viewpoint:this.viewpoint}))}};e$1([d$2({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],v.prototype,"name",void 0),e$1([d$2({type:p$8,json:{write:{overridePolicy:t=>({enabled:!(!t||!t.url)})}}})],v.prototype,"thumbnail",void 0),e$1([s$a("thumbnail")],v.prototype,"castThumbnail",null),e$1([d$2({type:y$1,json:{write:!0}})],v.prototype,"timeExtent",void 0),e$1([d$2({type:u$2,nonNullable:!0,json:{write:!0}})],v.prototype,"viewpoint",null),e$1([o$3("viewpoint",["extent","viewpoint"])],v.prototype,"readViewpoint",null),e$1([r$2("viewpoint")],v.prototype,"writeViewpoint",null),v=h=e$1([n$7(j)],v);const g=v;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
var c;let l=c=class extends y$2{constructor(o){super(o),this.background=null,this.rangeInfo=null,this.spatialReference=null,this.viewpoint=null;}clone(){return new c(m$7({background:this.background,rangeInfo:this.rangeInfo,spatialReference:this.spatialReference,viewpoint:this.viewpoint}))}};e$1([d$2({type:m$8})],l.prototype,"background",void 0),e$1([d$2({type:c$4})],l.prototype,"rangeInfo",void 0),e$1([d$2({type:k})],l.prototype,"spatialReference",void 0),e$1([d$2({type:u$2})],l.prototype,"viewpoint",void 0),l=c=e$1([n$7("esri.webmap.InitialViewProperties")],l);const m=l;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
class s extends r$3{constructor(r,s){super(r,s,"webmap");}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
const ie=new s(2,25),oe="Web Map",ae=j$2.ofType(g),se=j$2.ofType(f),ne=s$6.getLogger("esri.WebMap"),le=new Map;le.set("image/jpeg","jpeg"),le.set("image/jpg","jpg"),le.set("image/png","png"),le.set("image/gif","gif");const pe="ArcGIS Pro",me=f$1.JSAPI,he="CollectorDisabled",ue="Collector",ce="Data Editing",de="OfflineDisabled",ye="Offline",we="Workforce Project",ge="Workforce Worker",fe="Workforce Dispatcher",be="Offline Map Areas",_e="FieldMapsDisabled",ve=f$1.DEVELOPER_BASEMAP,Ie=["NatGeo_World_Map","Ocean_Basemap","USA_Topo_Maps","World_Imagery","World_Street_Map","World_Terrain_Base","World_Topo_Map","World_Hillshade","Canvas/World_Light_Gray_Base","Canvas/World_Light_Gray_Reference","Canvas/World_Dark_Gray_Base","Canvas/World_Dark_Gray_Reference","Ocean/World_Ocean_Base","Ocean/World_Ocean_Reference","Reference/World_Boundaries_and_Places","Reference/World_Reference_Overlay","Reference/World_Transportation"].map((e=>e.toLowerCase()));let Ae=class extends(O(m$5.LoadableMixin(m$9(L)))){constructor(e){super(e),this.applicationProperties=null,this.bookmarks=new ae,this.floorInfo=null,this.geotriggersInfo=null,this.initialViewProperties=new m,this.portalItem=null,this.presentation=null,this.sourceVersion=null,this.widgets=null,this.utilityNetworks=null,this.authoringApp=this.authoringAppVersion=null,this._isAuthoringAppSetByUser=this._isAuthoringAppVersionSetByUser=!1;}destroy(){const e=this.portalItem;this.portalItem=null,e?.destroy();}initialize(){if(this.when().catch((e=>{ne.error("#load()","Failed to load web map",e);})),this.resourceInfo){let t;try{t=this._validateJSON(this.resourceInfo);}catch(e){return void this.addResolvingPromise(Promise.reject(e))}this.read(t);}}set authoringApp(e){this._isAuthoringAppSetByUser=!0,this._set("authoringApp",e);}writeAuthoringApp(e,t){e&&this._isAuthoringAppSetByUser?t.authoringApp=e:t.authoringApp=me;}set authoringAppVersion(e){this._isAuthoringAppVersionSetByUser=!0,this._set("authoringAppVersion",e);}writeAuthoringAppVersion(e,r){e&&this._isAuthoringAppVersionSetByUser?r.authoringAppVersion=e:r.authoringAppVersion=s$b;}readInitialViewProperties(e,t){const r=new m;t.background&&(r.background=m$8.fromJSON(t.background));const o=t.initialState?.viewpoint;if(o){if(o.rotation){s.parse(t.version||"","webmap").lessThan(2,20)&&t.authoringApp===pe&&(o.rotation*=-1);}r.viewpoint=u$2.fromJSON(o);}return t.mapRangeInfo&&(r.rangeInfo=c$4.fromJSON(t.mapRangeInfo)),t.spatialReference&&(r.spatialReference=k.fromJSON(t.spatialReference)),r}writeInitialViewProperties(e,t,r,i){if(!e)return;const o=e.background;o&&o.color&&(t.background=o.write({},i)),e.viewpoint&&(t.initialState={viewpoint:e.viewpoint.write({},i)}),e.rangeInfo&&(t.mapRangeInfo=e.rangeInfo.toJSON(i)),e.spatialReference&&(t.spatialReference=e.spatialReference.write({},i));}writeLayers(e,t,r,i){t[r]=this._writeLayers(e,i,"operational-layers");}readSourceVersion(e,t){const[r,i]=t.version.split(".");return new s(parseInt(r,10),parseInt(i,10))}writeSourceVersion(e,t,r){t[r]=`${ie.major}.${ie.minor}`;}writeTables(e,t,r,i){const o=this._writeLayers(e,i,"tables");o.length&&(t[r]=o);}get thumbnailUrl(){return this.portalItem&&this.portalItem.thumbnailUrl||null}set thumbnailUrl(e){e?(this._override("thumbnailUrl",e),this._thumbnailFilename=this._generateCustomThumbnailFilename(e)):this._clearThumbnailOverride();}load(e){return this.addResolvingPromise(this._loadFromSource()),Promise.resolve(this)}loadAll(){return n$8(this,(e=>{e(this.ground,this.basemap,this.layers,this.tables);}))}read(e,t){t={...t,origin:"web-map"};const r=this._getAuthoringPropsState();d$4(this,e,(t=>super.read(e,t)),t),this._restoreAuthoringPropsFromState(r);}write(e,t){if("loaded"!==this.loadStatus){const e=new s$9("webmap:not-loaded","Web map must be loaded before it can be serialized");throw ne.error("#toJSON()","Web map must be loaded before it can be serialized",this.loadError||this.loadStatus),e}return this._removeDanglingLayerRefs(),t={...t,origin:"web-map",restrictedWebMapWriting:!0,webmap:this},super.write(e,t)}async save(e){e=e||{},this._validateItem(),await this._updateFromPromise,await this.load(),await this._loadLayerContainers(),await this._beforeSave(),await this._validateMap();const t=this.portalItem,r={origin:"web-map",messages:[],writtenProperties:[],url:t.itemUrl&&j$1(t.itemUrl),portal:t.portal||B.getDefault()},i=this.write({},r);return this._validateJSONForWriting(r,e),await this._updateItemProperties(t),await this._updateItem(t,i,r),await this._updateItemThumbnail(),t}async saveAs(e,t){t=t||{};const r=this._getPortalItem(e);await this._updateFromPromise,await this.load(),await this._loadLayerContainers(),await this._beforeSave(),await this._validateMap();const i={origin:"web-map",messages:[],writtenProperties:[],url:null,portal:r.portal},o=this.write({},i);this._validateJSONForWriting(i,t),await this._updateItemPropertiesForSaveAs(r);const a=this._getThumbnailState();return await this._createItem(r,o,i,t),this._restoreThumbnailFromState(a),await this._updateItemThumbnail(),r}async updateFrom(e,t){const r=this._updateFromInternal(e,t);this._updateFromPromise=r,await r;r===this._updateFromPromise&&(this._updateFromPromise=null);}getLayerJSONFromResourceInfo(e){const t=this.resourceInfo;return this._collectAllLayersJSON(x([t?.baseMap?.baseMapLayers,t?.operationalLayers,this.basemap?.resourceInfo?.data?.baseMapLayers])).find((t=>t.id===e.id))}_collectAllLayersJSON(e){return e.reduce(((e,t)=>(e.push(t),"GroupLayer"===t.layerType&&(e=e.concat(this._collectAllLayersJSON(t.layers||[]))),e)),[])}_writeLayers(e,t,r){t={...t,layerContainerType:r};return e.map((e=>e$2(y$3(e,"tables"===r?null:this.getLayerJSONFromResourceInfo(e),t)))).filter(Boolean).toArray()}_loadFromSource(){return this.resourceInfo?this._loadFromJSON(this.resourceInfo,{origin:"web-map"}):this.portalItem&&this.portalItem.id?this._loadFromItem(this.portalItem):Promise.resolve(null)}_loadFromItem(e){return e.load().catch((e=>{throw new s$9("webmap:load-portal-item","Failed to load portal item",{error:e})})).then((()=>{if("Web Map"!==e.type)throw new s$9("webmap:invalid-portal-item","Invalid portal item type '${type}', expected 'Web Map'",{type:e.type})})).then((()=>e.fetchData())).then((t=>(this.resourceInfo=t,this._readAndLoadFromJSON(t,{origin:"web-map",portal:e.portal||B.getDefault()})))).then((()=>this._computeInitialViewpoint()))}_readAndLoadFromJSON(e,t){const r=this._validateJSON(e);return this.read(r,t),this._loadFromJSON(r,t)}_validateJSON(e){const t=s.parse(e.version||"","webmap");return ie.validate(t),e.version=`${t.major}.${t.minor}`,e}_loadFromJSON(e,t){const r={context:{...t,layerContainerType:"operational-layers"}};return this.portalItem&&(r.context.portal=this.portalItem.portal||B.getDefault()),import('./layersCreator-b914b652.js').then((({populateOperationalLayers:t})=>{const i=[],o=e.operationalLayers;o&&o.length&&i.push(t(this.layers,o,r));const a={...r,context:{...r.context,layerContainerType:"tables"},defaultLayerType:"ArcGISFeatureLayer"},s=e.tables;return s&&s.length&&i.push(t(this.tables,s,a)),E(i).then((()=>{}))}))}async _computeInitialViewpoint(){let e=this.initialViewProperties;const t=e?.viewpoint?.targetGeometry;if(t)return;const r=await this._getExtentFromItem();r&&(e=e?e.clone():new m,e.viewpoint=new u$2,e.viewpoint.targetGeometry=r,this.initialViewProperties=e);}async _getExtentFromItem(){const e=this.initialViewProperties?.spatialReference,t=this.portalItem?.extent;if(e&&t){if(e.isWGS84)return t.clone();if(e.isWebMercator)return R(t);return (await import('./geometryServiceUtils-b4e25893.js')).getGeometryServiceURL(this.portalItem).then((r=>{const i=new a$8;return i.geometries=[t],i.outSpatialReference=e,n$9(r,i)})).then((e=>e[0])).catch((e=>(ne.error("Error projecting item's extent:",e),null)))}return null}_removeDanglingLayerRefs(){const e=this.applicationProperties,t=e&&e.viewing&&e.viewing.search,r=e=>this.allLayers.some((t=>t.id===e));t&&t.layers&&(t.layers=t.layers.filter((e=>r(e.id)))),t&&t.tables&&(t.tables=t.tables.filter((e=>this.tables.some((t=>t.id===e.id)))));const i=e&&e.editing&&e.editing.locationTracking;i&&i.info&&!r(i.info.layerId)&&(e.editing=null);const o=this.presentation&&this.presentation.slides;o&&o.forEach((e=>{e.visibleLayers&&(e.visibleLayers=e.visibleLayers.filter((e=>r(e.id))));}));}async _validateMap(){if(!this.basemap?.baseLayers.length)throw new s$9("webmap:save","Map does not have a valid basemap with a base layer.");let e=null;if(await j$3((()=>{const t=h$2(this.initialViewProperties,this.basemap);return e=t.spatialReference,!t.updating})),!E$1(e,this.initialViewProperties.spatialReference))throw new s$9("webmap:save","The spatial reference of the basemap is not compatible with the one from the map.",{expected:this.initialViewProperties.spatialReference,actual:e})}_validateItem(){if(!this.portalItem)throw ne.error("save: requires the portalItem property to be set"),new s$9("webmap:portal-item-not-set","Portal item to save to has not been set on the WebMap");this._validateItemType(this.portalItem);}_validateItemType(e){if(e.type!==oe)throw new s$9("webmap:portal-item-wrong-type",`Portal item needs to have type "${oe}"`)}_loadLayerContainers(){const e=[];return this.basemap&&e.push(this.basemap.load()),this.ground&&e.push(this.ground.load()),E(e).then((()=>{}))}async _beforeSave(){const e=[];for(const t of this.allLayers)if("beforeSave"in t&&"function"==typeof t.beforeSave){const r=t.beforeSave();r&&e.push(r);}await E(e);}_loadAllLayers(){const e=this._getAllLayersAndTables().map((e=>e.load()));return E(e).then((()=>{}))}_getAllLayersAndTables(){return this.allLayers.concat(this.allTables)}_validateJSONForWriting(e,t){let r=e.messages.filter((e=>"error"===e.type)).map((e=>new s$9(e.name,e.message,e.details)));if(t.ignoreUnsupported&&(r=r.filter((e=>"layer:unsupported"!==e.name&&"symbol:unsupported"!==e.name&&"symbol-layer:unsupported"!==e.name&&"property:unsupported"!==e.name&&"url:unsupported"!==e.name))),r.length>0)throw new s$9("webmap:save","Failed to save webmap due to unsupported or invalid content. See 'details.errors' for more detailed information",{errors:r})}async _updateItemProperties(e){e.extent=await this._getWGS84Extent(this.initialViewProperties.viewpoint.targetGeometry),await this._updateTypeKeywords(e);}async _updateItemPropertiesForSaveAs(e){c$d(e,he),c$d(e,_e),c$d(e,f$1.METADATA),c$d(e,de),c$d(e,be),c$d(e,fe),c$d(e,we),c$d(e,ge),await this._updateItemProperties(e);}async _getWGS84Extent(e){const t=e.clone().normalize();let r;if(t.length>1)for(const i of t)r?i.width>r.width&&(r=i):r=i;else r=t[0];return this._projectToWGS84(r)}async _projectToWGS84(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return j$4(e);const r=await import('./geometryServiceUtils-b4e25893.js'),i=await r.getGeometryServiceURL(this.portalItem),o=new a$8;o.geometries=[e],o.outSpatialReference=k.WGS84;return (await n$9(i,o))[0]}async _updateTypeKeywords(e){i$8(e,me),await this._loadAllLayers(),this._evalCollectorKeyword(e),this._evalDataEditingKeyword(e),this._evalOfflineKeyword(e),this._evalDeveloperBasemapKeyword(e),e.typeKeywords&&(e.typeKeywords=e.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)));}_evalCollectorKeyword(e){s$c(e,he)||s$c(e,we)||s$c(e,ge)||s$c(e,fe)||!this._hasEditableFeatureLayer()?c$d(e,ue):i$8(e,ue);}_evalDataEditingKeyword(e){this._hasEditableFeatureLayer()?i$8(e,ce):c$d(e,ce);}_evalOfflineKeyword(e){!s$c(e,de)&&this._isOfflineCapableMap()?i$8(e,ye):c$d(e,ye);}_evalDeveloperBasemapKeyword(e){v$1(this.basemap)?i$8(e,ve):c$d(e,ve);}_hasEditableFeatureLayer(){return this._getAllLayersAndTables().some((e=>e.loaded&&l$5(e)&&e.capabilities.operations.supportsEditing&&e.editingEnabled))}_isOfflineCapableMap(){return this._getAllLayersAndTables().filter((e=>"group"!==e.type)).every((e=>e.loaded&&this._isOfflineCapableLayer(e)))}_isFeatureCollectionLike(e){return a$9(e)||"map-notes"===e.type||"route"===e.type}_isOfflineCapableLayer(e){return l$5(e)&&e.capabilities.operations.supportsSync||this._isFeatureCollectionLike(e)&&!e.portalItem||("tile"===e.type||"vector-tile"===e.type)&&(e.capabilities.operations.supportsExportTiles||this._isExportableAGOLTileLayer(e)||S$1(e))&&e.spatialReference.equals(this.initialViewProperties.spatialReference)}_isExportableAGOLTileLayer(e){return "tile"===e.type&&(j$5(e.url)&&Ie.some((t=>e.url.toLowerCase().includes("/"+t+"/"))))}async _updateItem(e,t,r){await e.update({data:t}),this._syncUpInstanceWithItem(e,t,r);}async _createItem(e,t,r,i){const o=this.portalItem,a=!!(o&&o.id&&o.portal.user),n=e.portal;if(await n._signIn(),!await this._canCopyItem(o,a,n))throw new s$9("webmap:save-as-copy-not-allowed","Owner of this map does not allow others to save a copy");await n.user.addItem({item:e,folder:i.folder,data:t}),this.portalItem=e,this._syncUpInstanceWithItem(e,t,r);}async _canCopyItem(e,t,r$1){return !(r(e)&&e.id&&e.typeKeywords&&e.typeKeywords.includes("useOnly"))||e.portal.portalHostname===r$1.portalHostname&&(t||await e.reload(),"admin"===e.itemControl||"update"===e.itemControl)}_syncUpInstanceWithItem(e,t,r){S.prototype.read.call(this,{version:t.version,authoringApp:t.authoringApp,authoringAppVersion:t.authoringAppVersion},{origin:"web-map",ignoreDefaults:!0,url:e.itemUrl&&j$1(e.itemUrl)}),i$9(r),this.resourceInfo=t;}async _updateItemThumbnail(){this.thumbnailUrl&&this._isOverridden("thumbnailUrl")&&(await this.portalItem.updateThumbnail({thumbnail:this.thumbnailUrl,filename:this._thumbnailFilename}),this._clearThumbnailOverride());}_getPortalItem(e){let t=b$3.from(e);return t.id&&(t=t.clone(),t.id=null),t.type||(t.type=oe),t.portal||(t.portal=B.getDefault()),this._validateItemType(t),t}async _updateFromInternal(e,t){if(t=t||{},await j$3((()=>e.ready)),this._updateInitialViewProperties(e,t),e.map===this)for(const r of e.allLayerViews)for(const e of ["visible","featureEffect"])e in r&&e in r.layer&&r._isOverridden(e)&&(r.layer[e]=r[e]);await this._updateThumbnailUrl(e,t);}_updateInitialViewProperties(e,t){if(t.backgroundExcluded||(this.initialViewProperties.background=e.background?.clone()),this.initialViewProperties.spatialReference=e.spatialReference.clone(),t.viewpointExcluded||(this.initialViewProperties.viewpoint=new u$2({rotation:e.rotation,scale:t.scalePreserved?e.scale:null,targetGeometry:this._getViewExtent(e)})),!t.widgetsExcluded)for(const r of e.persistableViewModels)r.updateWebDocument(this);}_getViewExtent(e){const t=e.center.clone().normalize(),r=e.extent.clone(),i=r.width/2;return r.xmin=t.x-i,r.xmax=t.x+i,r}async _updateThumbnailUrl(e,t){if(t.thumbnailExcluded)return;const r=i$a(e,t.thumbnailSize),i=await e.takeScreenshot({format:"png",width:r.width,height:r.height});this._setAutoGeneratedThumbnail(i.dataUrl);}_setAutoGeneratedThumbnail(e){this.thumbnailUrl=e,this._thumbnailFilename=null;}_clearThumbnailOverride(){this._clearOverride("thumbnailUrl"),this.clear("thumbnailUrl","user"),this._thumbnailFilename=null;}_generateCustomThumbnailFilename(e){if(X(e)){const t=nt(e),r=t&&t.mediaType,i=r&&le.get(r.toLowerCase())||null,o=`thumbnail${Date.now()}`;return i?`${o}.${i}`:o}return null}_getThumbnailState(){let e=this.thumbnailUrl;return e&&(e=this._isOverridden("thumbnailUrl")?e:St(e,"w","8192")),{thumbnailUrl:e,filename:this._thumbnailFilename}}_restoreThumbnailFromState(e){this.thumbnailUrl=e.thumbnailUrl,this._thumbnailFilename=e.filename;}_getAuthoringPropsState(){return {authoringApp:this.authoringApp,authoringAppVersion:this.authoringAppVersion,isAuthoringAppSetByUser:this._isAuthoringAppSetByUser,isAuthoringAppVersionSetByUser:this._isAuthoringAppVersionSetByUser}}_restoreAuthoringPropsFromState(e){e.isAuthoringAppSetByUser?this.authoringApp=e.authoringApp:this._isAuthoringAppSetByUser=!1,e.isAuthoringAppVersionSetByUser?this.authoringAppVersion=e.authoringAppVersion:this._isAuthoringAppVersionSetByUser=!1;}static fromJSON(e){const t=e;if(!t)throw new s$9("webmap:empty-resource","Expected a JSON resource but got nothing");return new this({resourceInfo:t})}};Ae.VERSION=ie,e$1([d$2({type:c$1,json:{write:!0}})],Ae.prototype,"applicationProperties",void 0),e$1([d$2({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],Ae.prototype,"authoringApp",null),e$1([r$2("authoringApp")],Ae.prototype,"writeAuthoringApp",null),e$1([d$2({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],Ae.prototype,"authoringAppVersion",null),e$1([r$2("authoringAppVersion")],Ae.prototype,"writeAuthoringAppVersion",null),e$1([d$2({json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],Ae.prototype,"basemap",void 0),e$1([d$2({type:ae,json:{write:{overridePolicy:e=>({enabled:!!(e&&e.length>0),ignoreOrigin:!0})}}})],Ae.prototype,"bookmarks",void 0),e$1([d$2({type:l$6,json:{read:{source:"mapFloorInfo"},write:{target:"mapFloorInfo"}}})],Ae.prototype,"floorInfo",void 0),e$1([d$2({type:i$1,json:{write:!0}})],Ae.prototype,"geotriggersInfo",void 0),e$1([d$2({type:m,nonNullable:!0,json:{read:{source:["background","initialState.viewpoint","mapRangeInfo","spatialReference"]},write:{ignoreOrigin:!0,target:{background:{type:m$8},"initialState.viewpoint":{type:u$2},mapRangeInfo:{type:c$4},spatialReference:{type:k}}}}})],Ae.prototype,"initialViewProperties",void 0),e$1([o$3("initialViewProperties")],Ae.prototype,"readInitialViewProperties",null),e$1([r$2("initialViewProperties")],Ae.prototype,"writeInitialViewProperties",null),e$1([d$2({json:{read:!1,write:{target:"operationalLayers",ignoreOrigin:!0}}})],Ae.prototype,"layers",void 0),e$1([r$2("layers")],Ae.prototype,"writeLayers",null),e$1([d$2({type:b$3})],Ae.prototype,"portalItem",void 0),e$1([d$2({json:{write:!0}})],Ae.prototype,"presentation",void 0),e$1([d$2()],Ae.prototype,"resourceInfo",void 0),e$1([d$2({readOnly:!0,type:s,json:{read:{source:"version"},write:{allowNull:!0,ignoreOrigin:!0,target:"version",isRequired:!0}}})],Ae.prototype,"sourceVersion",void 0),e$1([o$3("sourceVersion")],Ae.prototype,"readSourceVersion",null),e$1([r$2("sourceVersion")],Ae.prototype,"writeSourceVersion",null),e$1([d$2({json:{read:!1,write:{ignoreOrigin:!0}}})],Ae.prototype,"tables",void 0),e$1([r$2("tables")],Ae.prototype,"writeTables",null),e$1([d$2()],Ae.prototype,"thumbnailUrl",null),e$1([d$2({type:n$1,json:{write:!0}})],Ae.prototype,"widgets",void 0),e$1([d$2({type:se,json:{read:!0,write:!0}})],Ae.prototype,"utilityNetworks",void 0),Ae=e$1([n$7("esri.WebMap")],Ae);const Se=Ae;

export default Se;
