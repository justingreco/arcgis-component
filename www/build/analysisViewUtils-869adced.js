import { b9 as h$3, r as r$2, t, ag as c$3, h as e$2, e as e$a, z as r$7, m as m$4, s as s$4, y as y$3, aQ as D$1, d as d$5, n as n$8, A as v$4, aM as O$7, l as a$4 } from './cast-3d5be210.js';
import { n as n$2, s as s$3, u as u$2, r as r$4, h as h$7 } from './mat4-d5df0e58.js';
import { n, u as u$1, O as O$3, L as L$1, q as q$3, b as r$3, a5 as f$2, p as p$2, a as o$2, e as e$3, M as M$1, z as z$1, _ as _$1, m as m$3, r as r$8, o as o$7 } from './mathUtils-559a53d9.js';
import { n as n$6, r as r$6 } from './vec4f64-011248e0.js';
import { c as c$2, f as f$4 } from './vectorStacks-3fa8ee55.js';
import { aX as K, aW as Z, aY as s$2, l as l$3, aR as O$4, D as i$5, aZ as m$2, T as T$2, w as w$3, ar as f$5 } from './SceneView-ed3703c9.js';
import './geometry-2f332a26.js';
import { n as n$3 } from './compilerUtils-d149ad5f.js';
import { n as n$1, j as j$3 } from './Collection-a38e0489.js';
import { i as i$1, x as x$3, d as d$1, y as y$2, c as c$7 } from './screenUtils-31d073db.js';
import { a as a$2 } from './mat3-eb8de168.js';
import { e as e$4 } from './quatf64-06b7eadd.js';
import { e as e$1 } from './mat4f64-ef2c1a38.js';
import { b as b$4 } from './vec2-4f9a494f.js';
import { A as An, P as Pn, D as Pe, V as Vn, r as rn } from './projection-fbd5d346.js';
import { p as p$3 } from './unitUtils-a0a11e54.js';
import { F as F$1, u as u$4 } from './aaBoundingRect-5e1a4e52.js';
import { b as b$3, l as l$2, B, v as v$3 } from './lineSegment-99193ade.js';
import { _, q as q$2, p as p$4 } from './frustum-95850b85.js';
import { d as d$2 } from './sphere-4710475c.js';
import { k as i$2 } from './viewpointUtils-4c294048.js';
import { o as o$1, O as O$6, W, d as c$5, E as E$1, k as h$4, b as a$3, S as S$1, c as c$6, f as f$3, n as n$7 } from './OrderIndependentTransparency-b8c8f539.js';
import { X as u, a0 as t$1, a1 as o$8, a2 as w$4 } from './DefaultUI-a0db5719.js';
import { j as j$2 } from './Point-edff2a11.js';
import { Q as c$4, p as o$3, n as n$4, a as i$3, V as o$4, G as r$5, U as u$3, q as e$5, P as d$3, J as e$6, e as e$7, ak as n$5, b as e$8, $ as t$2, g as e$9, h as o$5, t as t$3, a2 as i$4, k as e$b, a3 as d$4, aA as x$4, C as E$2, ah as t$4, ai as o$6, az as h$5, ab as p$6, aa as h$6 } from './objectResourceUtils-e575a410.js';
import { p as p$5, Y } from './aaBoundingBox-b312516d.js';
import { i as i$6 } from './BufferView-a9ba6e5d.js';
import { T as T$1 } from './InterleavedLayout-fe763b01.js';
import { e as e$c } from './Util-73f4ac53.js';
import { O as O$5 } from './VertexAttribute-ef09ced9.js';
import { I } from './enums-4770f29d.js';
import { l as l$4 } from './ViewingMode-4a1cffad.js';
import { t as t$5, k as h$8 } from './Polyline-dcdb3782.js';
import { l as l$5, w as w$5, j as j$4 } from './reactiveUtils-bd6fe823.js';

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
class te{constructor(e){this.camera=new K,this._elevation={offset:0,override:null},this.collisionType={type:"point"},this.collisionPriority=0,this._renderObjects=[],this.autoScaleRenderObjects=!0,this._available=!0,this._noDisplayCount=0,this._radius=10,this._worldSized=!1,this.focusMultiplier=2,this.touchMultiplier=2.5,this.worldOriented=!1,this._modelTransform=e$1(),this._worldFrame=null,this._renderLocation=n(),this._renderLocationDirty=!0,this._location=new j$2({x:0,y:0,z:0}),this._elevationAlignedLocation=new j$2,this._elevationAlignedLocationDirty=!0,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.cursor=null,this._grabbing=!1,this.dragging=!1,this._hovering=!1,this._selected=!1,this._state=u.None,this._focused=!1,this.events=new n$1.EventEmitter,this._screenLocation={screenPointArray:i$1(),renderScreenPointArray:x$3(),pixelSize:0},this._screenLocationDirty=!0,this._applyObjectTransform=null,this._engineResourcesAddedToStage=!1,this._engineResources=null,this._attached=!1,this._engineLayer=null,this._materialIdReferences=null,this._location.spatialReference=e.view.spatialReference;for(const t in e)this[t]=e[t];this.view.state&&this.view.state.camera&&this.camera.copyFrom(this.view.state.camera);}destroy(){this._removeResourcesFromStage(),this._engineResources=null,this.view=null,this.camera=null;}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this._elevationAlignedLocationDirty=!0,this._renderLocationDirty=!0,this._updateEngineObject();}get renderObjects(){return this._renderObjects}set renderObjects(e){this._removeResourcesFromStage(),this._engineResources=null,this._renderObjects=e.slice(),this._updateEngineObject();}set available(e){e!==this._available&&(this._available=e,this._updateEngineObject());}get available(){return this._available}disableDisplay(){return this._noDisplayCount++,1===this._noDisplayCount&&this._updateEngineObject(),{remove:h$3((()=>{this._noDisplayCount--,0===this._noDisplayCount&&this._updateEngineObject();}))}}set radius(e){e!==this._radius&&(this._radius=e,this._updateEngineObject());}get radius(){return this._radius}set worldSized(e){e!==this._worldSized&&(this._worldSized=e,this._updateEngineObject());}get worldSized(){return this._worldSized}get modelTransform(){return this._modelTransform}set modelTransform(e){ie(e)&&(this._screenLocationDirty=!0),n$2(this._modelTransform,e),this._updateEngineObject();}get renderLocation(){return this._renderLocationDirty&&(this._renderLocationDirty=!1,this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation,this._renderLocation),this.worldOriented?(this._worldFrame||(this._worldFrame=e$1()),se(this.view,this._renderLocation,this._worldFrame)):this._worldFrame&&(this._worldFrame=null)),this._renderLocation}set renderLocation(e){this.view.renderCoordsHelper.fromRenderCoords(e,this._location),this.elevationAlignedLocation=this._location;}get location(){return this._location}set location(e){Z(e,this._location),this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!0,this._updateEngineObject(),this.events.emit("location-update",{location:this._location});}get elevationAlignedLocation(){return this._elevationAlignedLocationDirty?(this._evaluateElevationAlignment(),this._updateElevationAlignedLocation(),this._elevationAlignedLocation):this._elevationAlignedLocation}set elevationAlignedLocation(e){Z(e,this._location),this._evaluateElevationAlignment(),this._location.z-=this._elevation.offset,this._updateElevationAlignedLocation(),this._updateEngineObject(),this.events.emit("location-update",{location:this._location});}_updateElevationAlignedLocation(){this._elevationAlignedLocation.x=this.location.x,this._elevationAlignedLocation.y=this.location.y;const e=r$2(this._elevation.override)?this._elevation.override:this.location.z||0;this._elevationAlignedLocation.z=e+this._elevation.offset,this._elevationAlignedLocation.spatialReference=this.location.spatialReference,this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!1;}grabbableForEvent(){return !0}get grabbing(){return this._grabbing}set grabbing(e){e!==this._grabbing&&(this._grabbing=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject());}get hovering(){return this._hovering}set hovering(e){e!==this._hovering&&(this._hovering=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject());}get selected(){return this._selected}set selected(e){e!==this._selected&&(this._selected=e,this._updateEngineObject(),this.events.emit("select-changed",{action:e?"select":"deselect"}));}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,this._updateEngineObject());}updateStateEnabled(e,t){t?this.state|=e:this.state&=~e;}_setFocused(e){e!==this._focused&&(this._focused=e,this.events.emit("focus-changed",{action:!0===e?"focus":"unfocus"}));}get focused(){return this._focused}get screenLocation(){return this._ensureScreenLocation(),this._screenLocation}_ensureScreenLocation(){if(!this._screenLocationDirty)return;this._screenLocation.pixelSize=this.camera.computeScreenPixelSizeAt(this.renderLocation),this._screenLocationDirty=!1;let e;if(ie(this._modelTransform)){const t=this._calculateModelTransformOffset(fe);e=u$1(t,t,this.renderLocation);}else e=this.renderLocation;this.camera.projectToRenderScreen(e,this._screenLocation.renderScreenPointArray),this.camera.renderToScreen(this._screenLocation.renderScreenPointArray,this._screenLocation.screenPointArray);}get applyObjectTransform(){return this._applyObjectTransform}set applyObjectTransform(e){this._applyObjectTransform=e,this._screenLocationDirty=!0,this._updateEngineObject();}intersectionDistance(t$1,i){if(!this.available)return null;const s=d$1(t$1,oe),n=this._getCollisionRadius(i),r=-1*this.collisionPriority;switch(this.collisionType.type){case"point":if(b$4(this.screenLocation.screenPointArray,s)<n*n)return this.screenLocation.renderScreenPointArray[2]+r;break;case"line":{const e=this.collisionType.paths,t$1=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t$1,le),a=n*this.screenLocation.pixelSize,c=s$2(this.camera,s,re);if(t(c))return null;for(const s of e){if(0===s.length)continue;const e=L$1(de,s[0],i);for(let t=1;t<s.length;t++){const o=L$1(_e,s[t],i),n=B(l$2(e,o,ne),c);if(null!=n&&n<a*a){const t=u$1(c$2.get(),e,o);q$3(t,t,.5);const i=y$2(c$2.get());return this.camera.projectToRenderScreen(t,i),i[2]+r}r$3(e,o);}}break}case"disc":{const e=this.collisionType.direction,t$1=this.collisionType.offset??f$2,i=this._getWorldToScreenObjectScale(),a=this._calculateObjectTransform(i,le),c=n*this.screenLocation.pixelSize,l=s$2(this.camera,s,re);if(t(l))return null;const h=a$2(ae,a),d=O$3(ge,e,h),u=L$1(me,t$1,a);_(u,d,he);const g=ue;if(q$2(he,l,g)&&p$2(g,u)<c*c)return this.screenLocation.renderScreenPointArray[2]+r;break}case"ribbon":{const{paths:e,direction:t$1}=this.collisionType,i=this._getWorldToScreenObjectScale(),a=this._calculateObjectTransform(i,le),c=n*this.camera.computeScreenPixelSizeAt(this.renderLocation),l=s$2(this.camera,s,re);if(t(l))return null;const d=a$2(ae,a),u=O$3(ge,t$1,d),g=this._calculateModelTransformPosition(me);_(g,u,he);const m=ue;if(!q$2(he,l,m))break;for(const s of e){if(0===s.length)continue;const e=L$1(de,s[0],a);for(let t=1;t<s.length;t++){const i=L$1(_e,s[t],a),o=b$3(l$2(e,i,ne),m);if(null!=o&&o<c*c){const t=u$1(c$2.get(),e,i);q$3(t,t,.5);const s=y$2(c$2.get());return this.camera.projectToRenderScreen(t,s),s[2]+r}r$3(e,i);}}break}default:n$3(this.collisionType);}return null}attach(e={manipulator3D:{}}){if(!this.view._stage)return;const t$1=e.manipulator3D;if(t(t$1.engineLayerId)){const e=new l$3({isPickable:!1,updatePolicy:o$1.SYNC});this.view._stage.add(e),t$1.engineLayerId=e.id,this._engineLayer=e;}else this.view._stage?.getObject&&(this._engineLayer=this.view._stage.getObject(t$1.engineLayerId));t$1.engineLayerReferences=(t$1.engineLayerReferences||0)+1,this._materialIdReferences=t$1.materialIdReferences,t(this._materialIdReferences)&&(this._materialIdReferences=new Map,t$1.materialIdReferences=this._materialIdReferences),this.camera.copyFrom(this.view.state.camera),this._attached=!0,this._updateEngineObject(),An(this._location.spatialReference,this.view.spatialReference)||(this.location=new j$2({x:0,y:0,z:0,spatialReference:this.view.spatialReference}));}detach(e={manipulator3D:{}}){const t=e.manipulator3D;t.engineLayerReferences--;const i=0===t.engineLayerReferences;i&&(t.engineLayerId=null),this._removeResourcesFromStage(i),this._engineResources=null,this._engineLayer=null,this._materialIdReferences=null,this._attached=!1;}onViewChange(){this.camera.copyFrom(this.view.state.camera),this._screenLocationDirty=!0,this._updateEngineObject();}onElevationChange(e){Pn(this.location,pe,e.spatialReference),F$1(e.extent,pe)&&(this.location=this._location);}_evaluateElevationAlignment(e=this.location){if(t(this.elevationInfo))return !1;let t$1=null,i=0;const s=c$3(this.elevationInfo.offset,0);switch(this.elevationInfo.mode){case"on-the-ground":t$1=c$3(i$2(this.view.elevationProvider,e,"ground"),0);break;case"relative-to-ground":i=c$3(i$2(this.view.elevationProvider,e,"ground"),0)+s;break;case"relative-to-scene":i=c$3(i$2(this.view.elevationProvider,e,"scene"),0)+s;break;case"absolute-height":i=s;}return (i!==this._elevation.offset||t$1!==this._elevation.override)&&(this._elevation.offset=i,this._elevation.override=t$1,!0)}_updateEngineObject(){if(!this._attached)return;if(!this.available)return void this._removeResourcesFromStage();const e=this._getWorldToScreenObjectScale(),t=le;if(!0===this.autoScaleRenderObjects){const i=this._getFocusedSize(this._radius,this.focused)*e;this._calculateObjectTransform(i,t);}else this._calculateObjectTransform(e,t);const{objectsByState:i}=this._ensureEngineResources(),s=(this.focused?t$1.Focused:t$1.Unfocused)|(this.selected?t$1.Selected:t$1.Unselected),o=this._noDisplayCount>0;for(const{stateMask:n,objects:r}of i){if(o){for(const e of r)e.setVisible(!1);continue}const e=(n&t$1.All)!==t$1.None,i=(n&u.All)!==u.None,a=!e||(s&n)==(n&t$1.All),c=!i||(this.state&n)==(n&u.All);if(a&&c)for(const s of r)s.setVisible(!0),s.transformation=t;else for(const t of r)t.setVisible(!1);}}_ensureEngineResources(){if(t(this._engineResources)){const e=e$2(this._engineLayer),t=[],i=new Set;this.renderObjects.forEach((({material:e})=>{i.has(e)||(t.push(e),i.add(e));}));const s=(e,t)=>{const{geometry:i,material:s,transform:o}=t;Array.isArray(i)?i.forEach((t=>e.addGeometry(t,s,o))):e.addGeometry(i,s,o);},o=new Map;this._renderObjects.forEach((e=>{const t=new O$4({castShadow:!1});s(t,e);const i=e.stateMask||0,n=o.get(i)||[];n.push(t),o.set(i,n);}));const n=[];o.forEach(((e,t)=>n.push({stateMask:t,objects:e}))),this._engineResources={objectsByState:n,layer:e,materials:t};}return this._addResourcesToStage(),this._engineResources}_addResourcesToStage(){if(this._engineResourcesAddedToStage||t(this._engineResources))return;const{objectsByState:e,layer:t$1,materials:i}=this._engineResources;i.forEach((e=>{const t=e$2(this._materialIdReferences),i=t.get(e.id)||0;0===i&&this.view._stage.add(e),t.set(e.id,i+1);})),e.forEach((({objects:e})=>{t$1.addMany(e),this.view._stage.addMany(e);})),this._engineResourcesAddedToStage=!0;}_removeResourcesFromStage(e=!1){if(!this._engineResourcesAddedToStage||t(this._engineResources)||!this.view._stage)return;const{objectsByState:t$1,layer:i,materials:s}=this._engineResources;t$1.forEach((({objects:e})=>{i.removeMany(e),this.view._stage.removeMany(e);})),s.forEach((e=>{const t=e$2(this._materialIdReferences),i=t.get(e.id);1===i?(this.view._stage.remove(e),t.delete(e.id)):t.set(e.id,i-1);})),e&&this.view._stage.remove(i),this._engineResourcesAddedToStage=!1;}_getCollisionRadius(e){return this._getFocusedSize(this.radius,!0)*("touch"===e?this.touchMultiplier:1)}_getFocusedSize(e,t){return e*(t?this.focusMultiplier:1)}_getWorldToScreenObjectScale(){return this._worldSized?1:this.screenLocation.pixelSize}_calculateModelTransformPosition(e){const t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,ce);return o$2(e,i[12],i[13],i[14])}_calculateModelTransformOffset(e){const t=this._calculateModelTransformPosition(e);return e$3(e,t,this.renderLocation)}_calculateObjectTransform(e,t){return s$3(t,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1),this._worldFrame&&u$2(t,t,this._worldFrame),u$2(t,t,this._modelTransform),t[12]+=this.renderLocation[0],t[13]+=this.renderLocation[1],t[14]+=this.renderLocation[2],t[15]=1,r$2(this._applyObjectTransform)&&this._applyObjectTransform(t),t}get test(){let e=!1;if(r$2(this._engineResources))for(const t in this._engineResources.objectsByState){const i=this._engineResources.objectsByState[t];for(const t of i.objects)if(t.isVisible){e=!0;break}if(e)break}return {areAnyResourcesVisible:e}}}function ie(e){return 0!==e[12]||0!==e[13]||0!==e[14]}function se(e,t,s){switch(e.viewingMode){case"local":return r$4(s),!0;case"global":{const o=p$3(e.renderCoordsHelper.spatialReference);return Pe(t,0,de,0,o.radius),Vn(M$1(de[0]),M$1(de[1]),s),!0}}}const oe=i$1(),ne=v$3(),re=d$2(),ae=e$4(),ce=e$1(),le=e$1(),he=p$4(),de=n(),_e=n(),ue=n(),ge=n(),me=n(),fe=n(),pe=new j$2({x:0,y:0,z:0,spatialReference:null});

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
function o(o,n){if(!n.screenSizeEnabled)return;const c=o.vertex;c$4(c,n),c.uniforms.add(new o$3("perScreenPixelRatio",((e,i)=>i.camera.perScreenPixelRatio))),c.uniforms.add(new o$3("screenSizeScale",(e=>e.screenSizeScale))),c.code.add(n$4`float computeRenderPixelSizeAt( vec3 pWorld ){
vec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);
float viewDirectionDistance = abs(dot(viewForward, pWorld - cameraPosition));
return viewDirectionDistance * perScreenPixelRatio;
}
vec3 screenSizeScaling(vec3 position, vec3 anchor){
return position * screenSizeScale * computeRenderPixelSizeAt(anchor) + anchor;
}`);}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
function f$1(e){const f=new i$3,b=e.hasMultipassTerrain&&(e.output===o$4.Color||e.output===o$4.Alpha);f.include(r$5),f.include(o,e),f.include(u$3,e);const{vertex:h,fragment:C}=f;return C.include(e$5),d$3(f,e),C.uniforms.add(new e$6("uColor",(e=>e.color))),f.attributes.add(O$5.POSITION,"vec3"),f.varyings.add("vWorldPosition","vec3"),b&&f.varyings.add("depth","float"),e.screenSizeEnabled&&f.attributes.add(O$5.OFFSET,"vec3"),e.shadingEnabled&&(h.uniforms.add(new e$7("viewNormal",((e,o)=>o.camera.viewInverseTransposeMatrix))),f.attributes.add(O$5.NORMAL,"vec3"),f.varyings.add("vViewNormal","vec3")),h.code.add(n$4`
    void main(void) {
      vWorldPosition = ${e.screenSizeEnabled?"screenSizeScaling(offset, position)":"position"};
  `),e.shadingEnabled&&h.code.add(n$4`vec3 worldNormal = normal;
vViewNormal = (viewNormal * vec4(worldNormal, 1)).xyz;`),h.code.add(n$4`
    ${b?"depth = (view * vec4(vWorldPosition, 1.0)).z;":""}
    gl_Position = transformPosition(proj, view, vWorldPosition);
  }
  `),b&&f.include(n$5,e),C.code.add(n$4`
    void main() {
      discardBySlice(vWorldPosition);
      ${b?"terrainDepthTest(gl_FragCoord, depth);":""}
    `),e.shadingEnabled?(C.uniforms.add(new e$8("shadingDirection",(e=>e.shadingDirection))),C.uniforms.add(new e$6("shadedColor",(e=>p$1(e.shadingTint,e.color)))),C.code.add(n$4`vec3 viewNormalNorm = normalize(vViewNormal);
float shadingFactor = 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);
vec4 finalColor = mix(uColor, shadedColor, shadingFactor);`)):C.code.add(n$4`vec4 finalColor = uColor;`),C.code.add(n$4`
      if (finalColor.a < ${n$4.float(t$2)}) {
        discard;
      }
      ${e.output===o$4.Alpha?n$4`gl_FragColor = vec4(finalColor.a);`:""}

      ${e.output===o$4.Color?n$4`gl_FragColor = highlightSlice(finalColor, vWorldPosition); ${e.transparencyPassType===O$6.Color?"gl_FragColor = premultiplyAlpha(gl_FragColor);":""}`:""}
    }
    `),f}function p$1(e,o){const r=1-e[3],i=e[3]+o[3]*r;return 0===i?(b$2[3]=i,b$2):(b$2[0]=(e[0]*e[3]+o[0]*o[3]*r)/i,b$2[1]=(e[1]*e[3]+o[1]*o[3]*r)/i,b$2[2]=(e[2]*e[3]+o[2]*o[3]*r)/i,b$2[3]=o[3],b$2)}const b$2=n$6(),h$2=Object.freeze(Object.defineProperty({__proto__:null,build:f$1},Symbol.toStringTag,{value:"Module"}));

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
class T extends e$9{initializeProgram(e){const t=T.shader.get().build(this.configuration);return new o$5(e.rctx,t,O$2)}_setPipelineState(e){const r=this.configuration,o=e===O$6.NONE,i=e===O$6.FrontFace;return W({blending:r.output!==o$4.Color&&r.output!==o$4.Alpha||!r.transparent?null:o?c$5:E$1(e),culling:h$4(r.cullFace),depthTest:{func:i?I.LESS:r.shadingEnabled?I.LEQUAL:I.LESS},depthWrite:o?r.writeDepth&&a$3:S$1(e),colorWrite:c$6,polygonOffset:o||i?null:f$3})}initializePipeline(){return this._setPipelineState(this.configuration.transparencyPassType)}}T.shader=new t$3(h$2,(()=>import('./ShadedColorMaterial.glsl-ebe9b8cb.js')));class j$1 extends i$4{constructor(){super(...arguments),this.output=o$4.Color,this.cullFace=n$7.None,this.transparencyPassType=O$6.NONE,this.hasSlicePlane=!1,this.transparent=!1,this.writeDepth=!0,this.screenSizeEnabled=!0,this.shadingEnabled=!0,this.hasMultipassTerrain=!1,this.cullAboveGround=!1;}}e$a([e$b({count:o$4.COUNT})],j$1.prototype,"output",void 0),e$a([e$b({count:n$7.COUNT})],j$1.prototype,"cullFace",void 0),e$a([e$b({count:O$6.COUNT})],j$1.prototype,"transparencyPassType",void 0),e$a([e$b()],j$1.prototype,"hasSlicePlane",void 0),e$a([e$b()],j$1.prototype,"transparent",void 0),e$a([e$b()],j$1.prototype,"writeDepth",void 0),e$a([e$b()],j$1.prototype,"screenSizeEnabled",void 0),e$a([e$b()],j$1.prototype,"shadingEnabled",void 0),e$a([e$b()],j$1.prototype,"hasMultipassTerrain",void 0),e$a([e$b()],j$1.prototype,"cullAboveGround",void 0);const O$2=new Map([[O$5.POSITION,0],[O$5.NORMAL,1],[O$5.OFFSET,2]]);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
class q$1 extends d$4{constructor(e){super(e,new C$1),this.supportsEdges=!0,this.techniqueConfig=new j$1,this._vertexAttributeLocations=O$2;}getConfiguration(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.cullFace=this.parameters.cullFace,this.techniqueConfig.hasSlicePlane=this.parameters.hasSlicePlane,this.techniqueConfig.transparent=this.parameters.transparent,this.techniqueConfig.writeDepth=this.parameters.writeDepth,this.techniqueConfig.screenSizeEnabled=this.parameters.screenSizeEnabled,this.techniqueConfig.shadingEnabled=this.parameters.shadingEnabled,this.techniqueConfig.transparencyPassType=t.transparencyPassType,this.techniqueConfig.hasMultipassTerrain=t.multipassTerrain.enabled,this.techniqueConfig.cullAboveGround=t.multipassTerrain.cullAboveGround,this.techniqueConfig}intersect(e,s,a,c,h,u,l){if(this.parameters.screenSizeEnabled){const a=e.vertexAttributes.get(O$5.OFFSET),p={applyToVertex:(e,s,n,o)=>{const h=o$2(L,a.data[3*o+0],a.data[3*o+1],a.data[3*o+2]),u=o$2(w$2,e,s,n);return q$3(h,h,this.parameters.screenSizeScale*c.camera.computeRenderPixelSizeAt(h)),u$1(u,u,h),[u[0],u[1],u[2]]},applyToAabb:e=>{const t=p$5(e,L);return Y(e,this.parameters.screenSizeScale*c.camera.computeRenderPixelSizeAt(t))}};x$4(e,s,c,h,u,p,l);}else x$4(e,s,c,h,u,void 0,l);}requiresSlot(e,t){if(i$5(t)===o$4.Highlight)return e===E$2.OPAQUE_MATERIAL;let r=E$2.OPAQUE_MATERIAL;return this.parameters.transparent&&(r=this.parameters.writeDepth?E$2.TRANSPARENT_MATERIAL:E$2.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL),e===r||e===E$2.DRAPED_MATERIAL}createGLMaterial(e){return e.output===o$4.Color||e.output===o$4.Alpha||e.output===o$4.Highlight?new x$2(e):null}createBufferWriter(){return new O$1(this.parameters.screenSizeEnabled)}}class x$2 extends t$4{beginSlot(e){return this.ensureTechnique(T,e)}}class C$1 extends o$6{constructor(){super(...arguments),this.color=r$6(1,1,1,1),this.shadingTint=r$6(0,0,0,.25),this.shadingDirection=z$1(n(),[.5,-.5,-.5]),this.screenSizeScale=14,this.transparent=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=n$7.None,this.screenSizeEnabled=!1,this.shadingEnabled=!0;}}class O$1{constructor(e){this.screenSizeEnabled=e;const t=T$1().vec3f(O$5.POSITION).vec3f(O$5.NORMAL);this.screenSizeEnabled&&t.vec3f(O$5.OFFSET),this.vertexBufferLayout=t;}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return e.indices.get(O$5.POSITION).length}write(e,t,r,i){if(h$5(t,this.vertexBufferLayout,e.transformation,e.invTranspTransformation,r,i),this.screenSizeEnabled){if(!t.vertexAttributes.has(O$5.OFFSET))throw new Error(`${O$5.OFFSET} vertex attribute required for screenSizeEnabled ShadedColorMaterial`);{const s=t.vertexAttributes.get(O$5.OFFSET),a=t.indices.get(O$5.OFFSET);e$c(3===s.size);const n=r.getField(O$5.OFFSET,i$6);if(!n)throw new Error("unable to acquire view for "+O$5.OFFSET);p$6(a,s.data,e.invTranspTransformation,n,i);}}}}const L=n(),w$2=n();

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
function w$1(e,t=h$6.OccludeAndTransparent,r=!0){const n=r$6(e[0],e[1],e[2],e.length>3?e[3]:1),o=e[3]<1;return r?new q$1({color:n,transparent:o,writeDepth:!0,cullFace:n$7.Back,renderOccluded:t}):new m$2({color:n,transparent:o,writeDepth:!0,cullFace:n$7.Back,renderOccluded:t})}function b$1(e,t=h$6.OccludeAndTransparent){const r=r$6(e[0],e[1],e[2],4===e.length?e[3]:1);return new m$2({color:r,transparent:!0,writeDepth:!0,cullFace:n$7.Front,renderOccluded:t})}function y$1(e,t,r){return new te({view:e,renderObjects:[{geometry:T$2.createSphereGeometry(1,32,32),material:w$1(r$6(t[0],t[1],t[2],null!=r?r:1))}]})}function O(e,t,c,i){const m=e$3(c$2.get(),e,c),p=k(m,_$1(c$2.get(),i,m),c,f$4.get());h$7(p,p);const u=L$1(c$2.get(),t,p);return Math.atan2(u[1],u[0])}function k(e,t,r,n){const a=z$1(c$2.get(),e),i=z$1(c$2.get(),t),l=_$1(c$2.get(),a,i);return n[0]=a[0],n[1]=a[1],n[2]=a[2],n[3]=0,n[4]=i[0],n[5]=i[1],n[6]=i[2],n[7]=0,n[8]=l[0],n[9]=l[1],n[10]=l[2],n[11]=0,n[12]=r[0],n[13]=r[1],n[14]=r[2],n[15]=1,n}function F(t,r){const n=t.getViewForGraphic(r);return r$2(n)&&"computeAttachmentOrigin"in n?n.computeAttachmentOrigin(r,t.spatialReference):null}function v$2(t,r,n){const o=F(t,n);r$2(o)?r.elevationAlignedLocation=o:A(r,n.geometry);}function A(e,r){if(t(r))return;const n="mesh"===r.type?r.anchor:w$3(r);t(n)||(e.location=f$5(n));}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
function r$1(t,n,e,r){if(null==r||t.hasZ||(r=void 0),"point"===t.type)return t.x+=n,t.y+=e,t.hasZ&&null!=r&&(t.z+=r),t;if("multipoint"===t.type){const o=t.points;for(let t=0;t<o.length;t++)o[t]=l$1(o[t],n,e,r);return t}if("extent"===t.type)return t.xmin+=n,t.xmax+=n,t.ymin+=e,t.ymax+=e,null!=r&&(t.zmin+=r,t.zmax+=r),t;const s=t$5(t),i="polyline"===t.type?t.paths:t.rings;for(let o=0;o<s.length;o++){const t=s[o];for(let o=0;o<t.length;o++)t[o]=l$1(t[o],n,e,r);}return "paths"in t?t.paths=i:t.rings=i,t}function s$1(t,n,e,s,i){const a=t.clone(),m=s.resolution;if("point"===a.type){if(i)r$1(a,n*m,-e*m);else {const t=s.state.transform,o=s.state.inverseTransform,r=t[0]*a.x+t[2]*a.y+t[4],i=t[1]*a.x+t[3]*a.y+t[5];a.x=o[0]*(r+n)+o[2]*(i+e)+o[4],a.y=o[1]*(r+n)+o[3]*(i+e)+o[5];}return a}if("multipoint"===a.type){if(i)r$1(a,n*m,-e*m);else {const t=a.points,o=s.state.transform,r=s.state.inverseTransform;for(let s=0;s<t.length;s++){const i=t[s],a=o[0]*i[0]+o[2]*i[1]+o[4],m=o[1]*i[0]+o[3]*i[1]+o[5],l=r[0]*(a+n)+r[2]*(m+e)+r[4],p=r[1]*(a+n)+r[3]*(m+e)+r[5];t[s]=x$1(i,l,p,void 0);}}return a}if("extent"===a.type){if(i)r$1(a,n*m,-e*m);else {const t=s.state.transform,o=s.state.inverseTransform,r=t[0]*a.xmin+t[2]*a.ymin+t[4],i=t[1]*a.xmin+t[3]*a.ymin+t[5],m=t[0]*a.xmax+t[2]*a.ymax+t[4],l=t[1]*a.xmax+t[3]*a.ymax+t[5];a.xmin=o[0]*(r+n)+o[2]*(i+e)+o[4],a.ymin=o[1]*(r+n)+o[3]*(i+e)+o[5],a.xmax=o[0]*(m+n)+o[2]*(l+e)+o[4],a.ymax=o[1]*(m+n)+o[3]*(l+e)+o[5];}return a}if(i)r$1(a,n*m,-e*m);else {const t=t$5(a),r="polyline"===a.type?a.paths:a.rings,i=s.state.transform,m=s.state.inverseTransform;for(let o=0;o<t.length;o++){const r=t[o];for(let t=0;t<r.length;t++){const o=r[t],s=i[0]*o[0]+i[2]*o[1]+i[4],a=i[1]*o[0]+i[3]*o[1]+i[5],l=m[0]*(s+n)+m[2]*(a+e)+m[4],p=m[1]*(s+n)+m[3]*(a+e)+m[5];r[t]=x$1(o,l,p,void 0);}}"paths"in a?a.paths=r:a.rings=r;}return a}function i(t,r,s,i){if("point"===t.type){const{x:n,y:e}=t,o=i?i[0]:n,a=i?i[1]:e,m=t.clone(),l=(n-o)*r+o,x=(e-a)*s+a;return m.x=l,m.y=x,m}if("multipoint"===t.type){const a=t$5(t),m=u$4(),[l,p,y,f]=h$8(m,[a]),u=i?i[0]:(l+y)/2,c=i?i[1]:(f+p)/2,h=t.clone(),g=h.points;for(let t=0;t<g.length;t++){const n=g[t],[e,o]=n,i=(e-u)*r+u,a=(o-c)*s+c;g[t]=x$1(n,i,a,void 0);}return h}if("extent"===t.type){const{xmin:n,xmax:e,ymin:o,ymax:a}=t,m=i?i[0]:(n+e)/2,l=i?i[1]:(a+o)/2,x=t.clone();if(x.xmin=(n-m)*r+m,x.ymax=(a-l)*s+l,x.xmax=(e-m)*r+m,x.ymin=(o-l)*s+l,x.xmin>x.xmax){const t=x.xmin,n=x.xmax;x.xmin=n,x.xmax=t;}if(x.ymin>x.ymax){const t=x.ymin,n=x.ymax;x.ymin=n,x.ymax=t;}return x}const a=t$5(t),m=u$4(),[l,p,y,f]=h$8(m,a),u=i?i[0]:(l+y)/2,c=i?i[1]:(f+p)/2,h=t.clone(),g="polyline"===h.type?h.paths:h.rings;for(let n=0;n<a.length;n++){const t=a[n];for(let e=0;e<t.length;e++){const o=t[e],[i,a]=o,m=(i-u)*r+u,l=(a-c)*s+c;g[n][e]=x$1(o,m,l,void 0);}}return "paths"in h?h.paths=g:h.rings=g,h}function a$1(t,n,e,o,r,s){const i=Math.sqrt((e-t)*(e-t)+(o-n)*(o-n));return Math.sqrt((r-t)*(r-t)+(s-n)*(s-n))/i}function m$1(n,e,o){const r=Math.atan2(e.y-o.y,e.x-o.x)-Math.atan2(n.y-o.y,n.x-o.x),s=Math.atan2(Math.sin(r),Math.cos(r));return m$3(s)}function l$1(t,n,e,o){return x$1(t,t[0]+n,t[1]+e,null!=t[2]&&null!=o?t[2]+o:void 0)}function x$1(t,n,e,o){const r=[n,e];return t.length>2&&r.push(null!=o?o:t[2]),t.length>3&&r.push(t[3]),r}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
function f(t$1,n){let e=null,a=null;return c=>{if("cancel"===c.action)return void(r$2(a)&&(a.execute({action:"cancel"}),e=null,a=null));const s={action:c.action,screenStart:c.start,screenEnd:c.screenPoint};"start"===c.action&&t(e)&&(e=new G,a=new G,n(t$1,e,a,c.pointerType,s)),r$2(e)&&e.execute(s),"end"===c.action&&r$2(e)&&(e=null,a=null);}}function p(t,n){return t.events.on("drag",f(t,n))}function y(n,e){const r=[];for(const t of n)r.push(p(t,e));return r$7(r)}function d(t,n){const e=[t.x,t.y,t.z],r=n,o=[Math.cos(r),Math.sin(r)],a=Math.sqrt(o[0]*o[0]+o[1]*o[1]);if(0===a)return null;o[0]/=a,o[1]/=a;const c=t=>{const n=(t.x-e[0])*o[0]+(t.y-e[1])*o[1];t.x=e[0]+n*o[0],t.y=e[1]+n*o[1];};return t=>(c(t.mapStart),c(t.mapEnd),t)}function x(t$1,n){let e=null;return r=>{if("start"===r.action&&(e=h$1(t$1,r.mapStart.spatialReference,n)),t(e))return null;const a=r.mapEnd.x-r.mapStart.x,c=r.mapEnd.y-r.mapStart.y,s=r.mapEnd.z-r.mapStart.z;return e.move(a,c,s),{...r,translationX:a,translationY:c,translationZ:s}}}function g(t$1,n){return t(t$1)?null:t$1.spatialReference.equals(n)?t$1.clone():rn(t$1,n)}function h$1(t$1,n,e){const r=t$1.geometry;if(t(r))return null;if("mesh"===r.type)return E(t$1,r,n,e);const a=g(r,n),c=r.spatialReference;return t(a)?null:{move:(n,e,r)=>{const o=r$1(a.clone(),n,e,r);o.spatialReference.equals(c)?t$1.geometry=o:t$1.geometry=rn(o,c);}}}function E(t,n,e,o){if(r$2(n.transform))return S(t,n,n.transform,e);if(!n.spatialReference.equals(e))return null;let a=0,c=0,s=0;return {move:(e,r,i)=>{const u=e-a,f=r-c,p=i-s;if(u||f||p){const y=new j$2(n.origin.x+u,n.origin.y+f,n.origin.z+p,n.origin.spatialReference);n.centerAt(y,{geographic:o===l$4.Global}),t.notifyGeometryChanged(),a=e,c=r,s=i;}}}}function S(t$1,n,e,a){const c=g(e.getOriginPoint(n.spatialReference),a),l=n.spatialReference;return t(c)?null:{move:(n,o,a)=>{const m=r$1(c.clone(),n,o,a);if(m.spatialReference.equals(l))e.origin=r$8(m.x,m.y,m.z);else {const t=rn(m,l);r$2(t)&&(e.origin=r$8(t.x,t.y,t.z));}t$1.notifyMeshTransformChanged(),t$1.notifyGeometryChanged();}}}function j(t$1,n=null,e){let a=null;const c=r$2(n)&&!t$1.spatialReference.equals(n)?t=>r$2(t)?rn(t,n):t:t=>t,s={exclude:[],...e};return n=>{if("start"===n.action&&(a=c(t$1.toMap(n.screenStart,s))),t(a))return null;const e=c(t$1.toMap(n.screenEnd,s));return r$2(e)?{...n,mapStart:a,mapEnd:e}:null}}function R(t,n){const e=t.map((t=>e$2(x(t,n)))).filter((t=>r$2(t)));return t=>{const n=t.mapEnd.x-t.mapStart.x,r=t.mapEnd.y-t.mapStart.y,o=t.mapEnd.z-t.mapStart.z;return e.forEach((n=>n(t))),{...t,translationX:n,translationY:r,translationZ:o}}}function z(t,e){const r=new Map;for(const o of e)r.set(o,m$4(t[o]));return n=>(r.forEach(((n,e)=>{t[e]=n;})),n)}function w(t){return r$2(t.geometry)&&"mesh"===t.geometry.type?v$1(t,t.geometry):z(t,["geometry"])}function v$1(t,n){const e=r$2(n.transform)?n.transform.clone():null,o=n.vertexAttributes.clonePositional();return r=>(n.transform=e,n.vertexAttributes=o,t.notifyGeometryChanged(),r)}function M(t){const n=t.map((t=>e$2(w(t)))).filter((t=>r$2(t)));return t=>(n.forEach((n=>n(t))),t)}function q(t){return z(t,["symbol"])}function D(){let t=0,n=0,e=0;return r=>{"start"===r.action&&(t=r.mapStart.x,n=r.mapStart.y,e=r.mapStart.z);const o=r.mapEnd.x-t,a=r.mapEnd.y-n,c=r.mapEnd.z-e;return t=r.mapEnd.x,n=r.mapEnd.y,e=r.mapEnd.z,{...r,mapDeltaX:o,mapDeltaY:a,mapDeltaZ:c,mapDeltaSpatialReference:r.mapStart.spatialReference}}}function b(){let t=0,n=0;return e=>{"start"===e.action&&(t=e.screenStart.x,n=e.screenStart.y);const r=e.screenEnd.x-t,o=e.screenEnd.y-n;return t=e.screenEnd.x,n=e.screenEnd.y,{...e,screenDeltaX:r,screenDeltaY:o}}}function C(t,n){let r=null,o=0,a=0;return s=>{if("start"===s.action&&(r=t.toScreen(n),r.x<0||r.x>t.width||r.y<0||r.y>t.height?r=null:(o=s.screenStart.x-r.x,a=s.screenStart.y-r.y)),null==r)return null;const i=o$7(s.screenEnd.x-o,0,t.width),l=o$7(s.screenEnd.y-a,0,t.height),u=c$7(i,l);return s.screenStart=r,s.screenEnd=u,s}}class G{constructor(){this.execute=()=>{};}next(t,n=new G){return r$2(t)&&(this.execute=e=>{const o=t(e);r$2(o)&&n.execute(o);}),n}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
var e;!function(t){t[t.WhenToolEditable=0]="WhenToolEditable",t[t.WhenToolNotEditable=1]="WhenToolNotEditable",t[t.Always=2]="Always";}(e||(e={}));class r{constructor(){this._isToolEditable=!0,this._manipulators=new j$3,this._nextManipulatorId=0,this._resourceContexts={manipulator3D:{}},this._attached=!1;}set isToolEditable(t){this._isToolEditable=t;}get length(){return this._manipulators.length}add(t,a=e.WhenToolEditable){return this.addMany([t],a)[0]}addMany(t,a=e.WhenToolEditable){return t.map((t=>{const i=this._nextManipulatorId++,e={id:i,manipulator:t,visibilityPredicate:a,attached:!1};return this._manipulators.add(e),this._attached&&this._updateManipulatorAttachment(e),i}))}remove(t){if("number"==typeof t){const a=t;for(let t=0;t<this._manipulators.length;t++)if(this._manipulators.getItemAt(t).id===a){const a=this._manipulators.splice(t,1)[0];return this._detachManipulator(a),a.id}return null}const a=t;for(let i=0;i<this._manipulators.length;i++)if(this._manipulators.getItemAt(i).manipulator===a){const t=this._manipulators.splice(i,1)[0];return this._detachManipulator(t),t.id}return null}removeAll(){this._manipulators.forEach((t=>{this._detachManipulator(t);})),this._manipulators.removeAll();}attach(){this._manipulators.forEach((t=>{this._updateManipulatorAttachment(t);})),this._attached=!0;}detach(){this._manipulators.forEach((t=>{this._detachManipulator(t);})),this._attached=!1;}destroy(){this._manipulators.forEach((({manipulator:t})=>{t.destroy&&t.destroy();})),this._manipulators.destroy(),this._resourceContexts=null;}on(t,a){return this._manipulators.on(t,(t=>{a(t);}))}forEach(t){for(const a of this._manipulators.items)t(a);}some(t){return this._manipulators.items.some(t)}toArray(){const t=[];return this.forEach((a=>t.push(a.manipulator))),t}intersect(t,a){let e=null,r=Number.MAX_VALUE;return this._manipulators.forEach((({id:o,manipulator:n,attached:s})=>{if(!s||!n.interactive)return;const l=n.intersectionDistance(t,a);r$2(l)&&l<r&&(r=l,e={id:o,manipulator:n});})),e}findById(t$1){if(t(t$1))return null;for(const a of this._manipulators.items)if(t$1===a.id)return a.manipulator;return null}_updateManipulatorAttachment(t){this._isManipulatorItemVisible(t)?this._attachManipulator(t):this._detachManipulator(t);}_attachManipulator(t){t.attached||(t.manipulator.attach&&t.manipulator.attach(this._resourceContexts),t.attached=!0);}_detachManipulator(t){if(!t.attached)return;const a=t.manipulator;a.grabbing=!1,a.dragging=!1,a.hovering=!1,a.selected=!1,a.detach&&a.detach(this._resourceContexts),t.attached=!1;}_isManipulatorItemVisible(t){return t.visibilityPredicate===e.Always||(this._isToolEditable?t.visibilityPredicate===e.WhenToolEditable:t.visibilityPredicate===e.WhenToolNotEditable)}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
const h=s$4.getLogger("esri.views.interactive.InteractiveToolBase");let c$1=class extends y$3{constructor(t){super(t),this.manipulators=new r,this.preferManipulatorCursor=!1,this.automaticManipulatorSelection=!0,this.hasFocusedManipulators=!1,this.created=!1,this.removeIncompleteOnCancel=!0,this._editableFlags=new Map([[o$8.MANAGER,!0],[o$8.USER,!0]]),this._creationFinishedResolver=D$1();}get active(){return null!=this.view&&this.view.activeTool===this}set visible(t){this._get("visible")!==t&&(this._set("visible",t),this._syncVisible());}get editable(){return this.getEditableFlag(o$8.USER)}set editable(t){this.setEditableFlag(o$8.USER,t);}get updating(){return !1}get cursor(){return null}destroy(){this.manipulators.destroy(),this._set("view",null);}onAdd(){this._syncVisible();}activate(){t(this.view)?h.error("Can't activate tool if view is not defined."):(w$4(this.view)&&this.view.focus(),this.onActivate());}deactivate(){this.onDeactivate();}handleInputEvent(t){this.onInputEvent(t);}handleInputEventAfter(t){this.onInputEventAfter(t);}setEditableFlag(t,e){this._editableFlags.set(t,e),this.manipulators.isToolEditable=this.internallyEditable,this._updateManipulatorAttachment(),t===o$8.USER&&this.notifyChange("editable"),this.onEditableChange();}getEditableFlag(t){return this._editableFlags.get(t)}whenCreated(){return this._creationFinishedResolver.promise}onActivate(){}onDeactivate(){}onShow(){}onHide(){}onEditableChange(){}onInputEvent(t){}onInputEventAfter(t){}get internallyEditable(){return this.getEditableFlag(o$8.USER)&&this.getEditableFlag(o$8.MANAGER)}finishToolCreation(){this.created||this._creationFinishedResolver.resolve(this),this._set("created",!0);}_syncVisible(){if(this.constructed)if(this.visible)this._show();else if(this._hide(),this.active)return void(this.view.activeTool=null)}_show(){this._updateManipulatorAttachment(),this.onShow();}_hide(){this._updateManipulatorAttachment(),this.onHide();}_updateManipulatorAttachment(){this.visible?this.manipulators.attach():this.manipulators.detach();}};e$a([d$5({constructOnly:!0})],c$1.prototype,"view",void 0),e$a([d$5({readOnly:!0})],c$1.prototype,"active",null),e$a([d$5({value:!0})],c$1.prototype,"visible",null),e$a([d$5({value:!0})],c$1.prototype,"editable",null),e$a([d$5({readOnly:!0})],c$1.prototype,"manipulators",void 0),e$a([d$5({readOnly:!0})],c$1.prototype,"updating",null),e$a([d$5()],c$1.prototype,"cursor",null),e$a([d$5({readOnly:!0})],c$1.prototype,"preferManipulatorCursor",void 0),e$a([d$5({readOnly:!0})],c$1.prototype,"automaticManipulatorSelection",void 0),e$a([d$5()],c$1.prototype,"hasFocusedManipulators",void 0),e$a([d$5({readOnly:!0})],c$1.prototype,"created",void 0),e$a([d$5({readOnly:!0})],c$1.prototype,"removeIncompleteOnCancel",void 0),c$1=e$a([n$8("esri.views.interactive.InteractiveToolBase")],c$1);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
let a=class extends c$1{constructor(s){super(s);}initialize(){this.own(l$5((()=>this.analysisViewData.visible),(s=>this.visible=s),w$5));}deactivate(){this.onDeactivate(),this.created||this.analysis.clear();}resetCreated(){this._set("created",!1);}};e$a([d$5({constructOnly:!0})],a.prototype,"analysis",void 0),e$a([d$5()],a.prototype,"analysisViewData",void 0),a=e$a([n$8("esri.views.interactive.AnalysisToolBase")],a);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
function s(t,n,a){const s=v(t,n);t.view.activeTool=s;let c=v$4(a,(()=>l(t,n)));return O$7((async i=>{await j$4((()=>!s.active),i),c=a$4(c),l(t,n);}),a)}function c(o,t){return l$5((()=>o.interactive),(()=>l(o,t)),w$5)}function l(o,t){o.interactive?v(o,t):m(o);}function v(o,t){m(o);const{view:i,analysis:e}=o,n=new t({view:i,analysis:e,analysisViewData:o});return o.tool=n,i.tools.add(n),n}function m(o){const{view:i,tool:e}=o;t(e)||(i.tools.remove(e),o.tool=null);}

export { G, O, a, c, f$1 as f, k, m, p, s, te as t, w$1 as w, y$1 as y, z };
