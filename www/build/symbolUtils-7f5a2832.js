import { c as a, a as s$1, r, t as t$1, h as e$2 } from './cast-3d5be210.js';
import { a as a$1 } from './fieldUtils-240a3b99.js';
import { q, a as j$1, x as x$2, M as M$1, N as N$1, j as j$2, L as L$1 } from './utils-2bda91e5.js';
import { l as l$2 } from './Color-25ce730a.js';
import { U as U$1, a as n$4 } from './request-ac4d8bfb.js';
import { y as y$2, p as p$3 } from './colorUtils-e0bbe79f.js';
import { n as n$1, i as i$1 } from './jsxFactory-4cd653a4.js';
import { i, a as n$2, c as c$2, e as e$1, n as n$3, o as o$1 } from './mat2d-677a80fe.js';

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
var t;!function(a){a[a.size=22]="size",a[a.lineWidth=50]="lineWidth",a[a.maxSize=120]="maxSize",a[a.maxOutlineSize=80]="maxOutlineSize",a[a.tallSymbolWidth=20]="tallSymbolWidth";}(t||(t={}));const e={fill:[{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"}],squareFill:[{type:"path",path:"M -10,-10 L 10,-10 L 10,10 L -10,10 L -10,-10 Z"}],pathSymbol3DLayer:[{type:"path",path:"M 3,12 L 12,0 L 11,-2 L -4,5 L -1,5 L 1,7 L 3,10 L 3,12 Z"},{type:"circle",cx:-2,cy:10,r:5}],extrudeSymbol3DLayer:[{type:"path",path:"M -7,-5 L -2,0 L -2,7 L -7,3 L -7,-5 Z"},{type:"path",path:"M -2,0 L -2,7 L 10,-3 L 10,-10 L -2,0 Z"},{type:"path",path:"M -7,-5 L -2,0 L 10,-10 L -2,-10 L -7,-5 Z"}],cone:[{type:"path",path:"M 0,-10 L -8,5 L -4,6.5 L 0,7 L 4,6.5 L 8,5 Z"}],tallCone:[{type:"path",path:"M 0,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 0,-9 Z"}],invertedCone:[{type:"path",path:"M 0,7 L -8,-8 L 8,-8 Z"},{type:"path",path:"M -8,-8 L -4,-9.5 L 0,-10 L 4,-9.5 L 8,-8 L 4,-6.5 L 0,-6 L -4,-6.5 Z"}],cube:[{type:"path",path:"M -10,-7 L 0,-12 L 10,-7 L 0,-2 L -10,-7 Z"},{type:"path",path:"M -10,-7 L 0,-2 L 0,12 L -10,7 L -10,-7 Z"},{type:"path",path:"M 0,-2 L 10,-7 L 10,7 L 0,12 L 0,-2 Z"}],tallCube:[{type:"path",path:"M -3.5,-8.5 L 0,-9.5 L 3.5,-8.5 L 0,-7.5 L -3.5,-8.5 Z"},{type:"path",path:"M -3.5,-8.5 L 0,-7.5 L 0,9 L -3.5,8 L -3.5,-8.5 Z"},{type:"path",path:"M 0,-7.5 L 3.5,-8.5 L 3.5,8 L 0,9 L 0,-7.5 Z"}],cylinder:[{type:"path",path:"M -8,-9 L -8,7 L -4,8.5 L 0,9 L 4,8.5 L 8,7 L 8,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:8,ry:2}],tallCylinder:[{type:"path",path:"M -3.5,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 3.5,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:3.5,ry:1}],diamond:[{type:"path",path:"M 0,-10 L 10,-1 L -1,1 L 0,-10 Z"},{type:"path",path:"M 0,-10 L -1,1 L -8,-1 L 0,-10 Z"},{type:"path",path:"M -1,1 L 0,10 L -8,-1 L -1,1 Z"},{type:"path",path:"M -1,0 L 0,10 L 10,-1 L -1,1 Z"}],tetrahedron:[{type:"path",path:"M 0,-10 L 10,7 L 0,0 L 0,-10 Z"},{type:"path",path:"M 0,-10 L 0,0 L -8,7 L 0,-10 Z"},{type:"path",path:"M 10,7 L 0,0 L -8,7 L 10,7 Z"}]};function m$3(a,e,m){const c=t.size;let p=c,n=c;a<1?p*=.75:a>1&&(n*=1.25);const L=0,l=0;let o=c,s=c;e&&m&&(p=n=o=s=0);return [{type:"path",path:[{command:"M",values:[o,L]},{command:"L",values:[m?o:.875*o,L]},{command:"L",values:[m?p-.5*o:l,n-.5*s]},{command:"L",values:[p-.5*o,n-.5*s]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[o,L]},{command:"L",values:[o,e?L:.125*s]},{command:"L",values:[p-.5*o,e?n-.5*s:s]},{command:"L",values:[p-.5*o,n-.5*s]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[p-.5*o,n-.5*s]},{command:"L",values:[m?p-.5*o:l,n-.5*s]},{command:"L",values:[m?p-.5*o:l,e?n-.5*s:s]},{command:"L",values:[p-.5*o,e?n-.5*s:s]},{command:"Z",values:[]}]}]}function c$1(a){const e=t.size,m=.5*a,c=0,p=0;return [{type:"path",path:[{command:"M",values:[p,.7*e*.5]},{command:"L",values:[.3*e,.7*e]},{command:"L",values:[.3*e,.7*e+m]},{command:"L",values:[p,.7*e+m-.7*e*.5]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*e,.7*e]},{command:"L",values:[.3*e,.7*e+m]},{command:"L",values:[e,m]},{command:"L",values:[e,c]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*e,c]},{command:"L",values:[e,c]},{command:"L",values:[.3*e,.7*e]},{command:"L",values:[p,.7*e*.5]},{command:"Z",values:[]}]}]}function p$2(){return [{type:"path",path:"M80,80.2v-27c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4C8.3,59.3,5.7,58,3.9,56c-1.1-1.2-2.4-2.1-3.9-2.8v27"},{type:"path",path:"M11,59.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8v-24c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-1.1-1.2-2.4-2.1-3.9-2.8v24c1.5,0.7,2.8,1.6,3.9,2.8C5.7,58,8.3,59.3,11,59.4z"},{type:"path",path:"M11,35.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8V3.6c-1.5,0.7-2.8,1.6-3.9,2.8c-2.2,2.1-4.6,3.4-7.1,3.4s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6S42.5,9.9,40,9.9s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.5,0-5-1.3-7.1-3.4C2.8,5.3,1.4,4.3,0,3.6v25.6c1.5,0.7,2.8,1.6,3.9,2.8C5.7,34.1,8.3,35.3,11,35.4z"}]}function n(a,e){let m=e?t.tallSymbolWidth:a;const c=a,p=e?4:6;m<=t.size?m-=.5*p:m-=p;const n=0,L=0,l=e?.35*m:.5*m;return [{type:"path",path:[{command:"M",values:[.5*m,n]},{command:"L",values:[m,.5*l]},{command:"L",values:[.5*m,l]},{command:"L",values:[L,.5*l]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[n,.5*l]},{command:"L",values:[.5*m,l]},{command:"L",values:[.5*m,c]},{command:"L",values:[L,c-.5*l]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.5*m,l]},{command:"L",values:[.5*m,c]},{command:"L",values:[m,c-.5*l]},{command:"L",values:[m,.5*l]},{command:"Z",values:[]}]}]}function L(a,e){let m=e?t.tallSymbolWidth:a;const c=a,p=e?4:6;m<=t.size?m-=.5*p:m-=p;const n=.5*m,L=.15*m,l=0,o=c-L;return [{type:"ellipse",cx:.5*m,cy:o,rx:n,ry:L},{type:"path",path:[{command:"M",values:[l,L]},{command:"L",values:[l,o]},{command:"L",values:[m,o]},{command:"L",values:[m,L]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*m,cy:L,rx:n,ry:L}]}function l$1(a,e){let m=e?t.tallSymbolWidth:a;const c=a,p=e?4:6;m<=t.size?m-=.5*p:m-=p;const n=.15*m,L=c-n;return [{type:"ellipse",cx:.5*m,cy:L,rx:.5*m,ry:n},{type:"path",path:[{command:"M",values:[.5*m,0]},{command:"L",values:[m,L]},{command:"L",values:[0,L]},{command:"Z",values:[]}]}]}function o(a){let e=a;const m=a,c=6;e<t.size?e-=.5*c:e-=c;const p=.15*e,n=0;return [{type:"path",path:[{command:"M",values:[0,n]},{command:"L",values:[e,n]},{command:"L",values:[.5*e,m-p]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*e,cy:n,rx:.5*e,ry:p}]}function s(a){let e=a;const m=a,c=4;e<t.size?e-=.5*c:e-=c;const p=0,n=0,L=e,l=m,o=Math.floor(a/10)-1||1;return [{type:"path",path:[{command:"M",values:[.45*L,p]},{command:"L",values:[L,.5*l-o]},{command:"L",values:[.45*L-o,.5*l+o]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*L,p]},{command:"L",values:[.45*L-o,.5*l+o]},{command:"L",values:[n,.5*l-o]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[n,.5*l-o]},{command:"L",values:[.45*L-o,.5*l+o]},{command:"L",values:[.45*L,m]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*L,m]},{command:"L",values:[L,.5*l-o]},{command:"L",values:[.45*L-o,.5*l+o]},{command:"Z",values:[]}]}]}function u$2(a){const e=a,m=2;let c=a;c<t.size?c-=.5*m:c-=m;const p=0,n=0;return [{type:"path",path:[{command:"M",values:[.45*e,p]},{command:"L",values:[e,c]},{command:"L",values:[.45*e,.6*c]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*e,p]},{command:"L",values:[.45*e,.6*c]},{command:"L",values:[n,c]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[n,c]},{command:"L",values:[.45*e,.6*c]},{command:"L",values:[e,c]},{command:"Z",values:[]}]}]}function h$2(a,t){const e=.75;return Math.round(Math.min(Math.max(a+255*t*e,0),255))}function d$3(t,e){if("type"in t&&("linear"===t.type||"pattern"===t.type))return t;const m=new l$2(t);return new l$2([h$2(m.r,e),h$2(m.g,e),h$2(m.b,e),m.a])}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
const h$1="http://www.w3.org/2000/svg";let f$1=0,c=0;const d$2=a("android"),u$1=a("chrome")||d$2&&d$2>=4?"auto":"optimizeLegibility",y$1={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},p$1=/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g;let g$2={},x$1={};const m$2={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]},w$1=Math.PI;let k=1;function b$1(t,e){const i=t*(w$1/180);return Math.abs(e*Math.sin(i))+Math.abs(e*Math.cos(i))}function j(t){return t.map((t=>`${t.command} ${t.values.join(" ")}`)).join(" ").trim()}function v$1(t,e,i,r){if(t){if("circle"===t.type)return n$1("circle",{fill:e,"fill-rule":"evenodd",stroke:i.color,"stroke-width":i.width,"stroke-linecap":i.cap,"stroke-linejoin":i.join,"stroke-dasharray":i.dashArray,"stroke-dashoffset":i.dashOffset,"stroke-miterlimit":"4",cx:t.cx,cy:t.cy,r:t.r});if("ellipse"===t.type)return n$1("ellipse",{fill:e,"fill-rule":"evenodd",stroke:i.color,"stroke-width":i.width,"stroke-linecap":i.cap,"stroke-linejoin":i.join,"stroke-dasharray":i.dashArray,"stroke-miterlimit":"4",cx:t.cx,cy:t.cy,rx:t.rx,ry:t.ry});if("rect"===t.type)return n$1("rect",{fill:e,"fill-rule":"evenodd",stroke:i.color,"stroke-width":i.width,"stroke-linecap":i.cap,"stroke-linejoin":i.join,"stroke-dasharray":i.dashArray,"stroke-miterlimit":"4",x:t.x,y:t.y,width:t.width,height:t.height});if("image"===t.type)return n$1("image",{href:t.src,x:t.x,y:t.y,width:t.width,height:t.height,preserveAspectRatio:"none"});if("path"===t.type){const r="string"!=typeof t.path?j(t.path):t.path;return n$1("path",{fill:e,"fill-rule":"evenodd",stroke:i.color,"stroke-width":i.width,"stroke-linecap":i.cap,"stroke-linejoin":i.join,"stroke-dasharray":i.dashArray,"stroke-miterlimit":"4",d:r})}if("text"===t.type)return n$1("text",{"alignment-baseline":r.alignBaseline,fill:e,"fill-rule":"evenodd",stroke:i.color,"stroke-width":i.width,"stroke-linecap":i.cap,"stroke-linejoin":i.join,"stroke-dasharray":i.dashArray,"stroke-miterlimit":"4","text-anchor":r.align,"text-decoration":r.decoration,kerning:r.kerning,rotate:r.rotate,"text-rendering":u$1,"font-style":r.font.style,"font-variant":r.font.variant,"font-weight":r.font.weight,"font-size":r.font.size,"font-family":r.font.family,x:t.x,y:t.y},t.text)}return null}function M(e){const i={fill:"none",pattern:null,linearGradient:null};if(e)if("type"in e&&"pattern"===e.type){const t="patternId-"+ ++f$1;i.fill=`url(#${t})`,i.pattern={id:t,x:e.x,y:e.y,width:e.width,height:e.height,image:{x:0,y:0,width:e.width,height:e.height,href:e.src}};}else if("type"in e&&"linear"===e.type){const r="linearGradientId-"+ ++c;i.fill=`url(#${r})`,i.linearGradient={id:r,x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stops:e.colors.map((e=>({offset:e.offset,color:e.color&&new l$2(e.color).toString()})))};}else if(e){const r=new l$2(e);i.fill=r.toString();}return i}function A(e){const i={color:"none",width:1,cap:"butt",join:"4",dashArray:"none",dashOffset:"0"};if(e&&(null!=e.width&&(i.width=e.width),e.cap&&(i.cap=e.cap),e.join&&(i.join=e.join.toString()),e.color&&(i.color=new l$2(e.color).toString()),e.dashArray&&(i.dashArray=e.dashArray),e.dashArray&&(i.dashOffset=e.dashoffset),e.style)){let t=null;if(e.style in m$2&&(t=m$2[e.style]),Array.isArray(t)){t=t.slice(0);for(let i=0;i<t.length;++i)t[i]*=e.width;if("butt"!==e.cap){for(let i=0;i<t.length;i+=2)t[i]-=e.width,t[i]<1&&(t[i]=1);for(let i=1;i<t.length;i+=2)t[i]+=e.width;}t=t.join(",");}i.dashArray=t;}return i}function S$1(t,e){const i={align:null,decoration:null,kerning:null,rotate:null,font:{style:null,variant:null,weight:null,size:null,family:null}};return t&&(i.align=t.align,i.alignBaseline=t.alignBaseline,i.decoration=t.decoration,i.kerning=t.kerning?"auto":"0",i.rotate=t.rotated?"90":"0",i.font.style=e.style||"normal",i.font.variant=e.variant||"normal",i.font.weight=e.weight||"normal",i.font.size=e.size&&e.size.toString()||"10pt",i.font.family=e.family||"serif"),i}function $(t){const{pattern:e,linearGradient:i}=t;if(e)return n$1("pattern",{id:e.id,patternUnits:"userSpaceOnUse",x:e.x,y:e.y,width:e.width,height:e.height},n$1("image",{x:e.image.x,y:e.image.y,width:e.image.width,height:e.image.height,href:e.image.href}));if(i){const t=i.stops.map(((t,e)=>n$1("stop",{key:`${e}-stop`,offset:t.offset,"stop-color":t.color})));return n$1("linearGradient",{id:i.id,gradientUnits:"userSpaceOnUse",x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},t)}return null}function N(t,e){if(!t)return null;const i=[];for(const r of t){const{shape:t,fill:e,stroke:n,font:o}=r,s=M(e),a=A(n),l="text"===t.type?S$1(t,o):null;i.push(v$1(t,s.fill,a,l));}return n$1("mask",{id:e,maskUnits:"userSpaceOnUse"},n$1("g",null,i))}function G(t,e,i$1){return i(t,n$2(t),[e,i$1])}function I(t,e,i,r,n){return c$2(t,n$2(t),[e,i]),t[4]=t[4]*e-r*e+r,t[5]=t[5]*i-n*i+n,t}function z(t,e,i,r){const n=e%360*Math.PI/180;e$1(t,n$2(t),n);const s=Math.cos(n),l=Math.sin(n),h=t[4],f=t[5];return t[4]=h*s-f*l+r*l-i*s+i,t[5]=f*s+h*l-i*l-r*s+r,t}function B(t,e){g$2&&"left"in g$2?(g$2.left>t&&(g$2.left=t),g$2.right<t&&(g$2.right=t),g$2.top>e&&(g$2.top=e),g$2.bottom<e&&(g$2.bottom=e)):g$2={left:t,bottom:e,right:t,top:e};}function U(t){const e=t.args,i=e.length;let r;switch(t.action){case"M":case"L":case"C":case"S":case"Q":case"T":for(r=0;r<i;r+=2)B(e[r],e[r+1]);x$1.x=e[i-2],x$1.y=e[i-1];break;case"H":for(r=0;r<i;++r)B(e[r],x$1.y);x$1.x=e[i-1];break;case"V":for(r=0;r<i;++r)B(x$1.x,e[r]);x$1.y=e[i-1];break;case"m":{let t=0;"x"in x$1||(B(x$1.x=e[0],x$1.y=e[1]),t=2);for(r=t;r<i;r+=2)B(x$1.x+=e[r],x$1.y+=e[r+1]);break}case"l":case"t":for(r=0;r<i;r+=2)B(x$1.x+=e[r],x$1.y+=e[r+1]);break;case"h":for(r=0;r<i;++r)B(x$1.x+=e[r],x$1.y);break;case"v":for(r=0;r<i;++r)B(x$1.x,x$1.y+=e[r]);break;case"c":for(r=0;r<i;r+=6)B(x$1.x+e[r],x$1.y+e[r+1]),B(x$1.x+e[r+2],x$1.y+e[r+3]),B(x$1.x+=e[r+4],x$1.y+=e[r+5]);break;case"s":case"q":for(r=0;r<i;r+=4)B(x$1.x+e[r],x$1.y+e[r+1]),B(x$1.x+=e[r+2],x$1.y+=e[r+3]);break;case"A":for(r=0;r<i;r+=7)B(e[r+5],e[r+6]);x$1.x=e[i-2],x$1.y=e[i-1];break;case"a":for(r=0;r<i;r+=7)B(x$1.x+=e[r+5],x$1.y+=e[r+6]);}}function F(t,e,i){const r=y$1[t.toLowerCase()];let n;"number"==typeof r&&(r?e.length>=r&&(n={action:t,args:e.slice(0,e.length-e.length%r)},i.push(n),U(n)):(n={action:t,args:[]},i.push(n),U(n)));}function O(t){const e=("string"!=typeof t.path?j(t.path):t.path).match(p$1),i=[];if(g$2={},x$1={},!e)return null;let r="",n=[];const o=e.length;for(let a=0;a<o;++a){const t=e[a],o=parseFloat(t);isNaN(o)?(r&&F(r,n,i),n=[],r=t):n.push(o);}F(r,n,i);const s={x:0,y:0,width:0,height:0};return g$2&&"left"in g$2&&(s.x=g$2.left,s.y=g$2.top,s.width=g$2.right-g$2.left,s.height=g$2.bottom-g$2.top),s}function T(t){const e={x:0,y:0,width:0,height:0};if("circle"===t.type)e.x=t.cx-t.r,e.y=t.cy-t.r,e.width=2*t.r,e.height=2*t.r;else if("ellipse"===t.type)e.x=t.cx-t.rx,e.y=t.cy-t.ry,e.width=2*t.rx,e.height=2*t.ry;else if("image"===t.type||"rect"===t.type)e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height;else if("path"===t.type){const i=O(t);e.x=i.x,e.y=i.y,e.width=i.width,e.height=i.height;}return e}function E(t){const e={x:0,y:0,width:0,height:0};let i=null,r=Number.NEGATIVE_INFINITY,n=Number.NEGATIVE_INFINITY;for(const o of t)i?(i.x=Math.min(i.x,o.x),i.y=Math.min(i.y,o.y),r=Math.max(r,o.x+o.width),n=Math.max(n,o.y+o.height)):(i=e,i.x=o.x,i.y=o.y,r=o.x+o.width,n=o.y+o.height);return i&&(i.width=r-i.x,i.height=n-i.y),i}function V$1(t,e,n,o,s,a,l,h,f){let c=(l&&a?b$1(a,e):e)/2,d=(l&&a?b$1(a,n):n)/2;if(f){const t=f[0],e=f[1];c=(l&&a?b$1(a,t):t)/2,d=(l&&a?b$1(a,e):e)/2;}const u=t.width+o,y=t.height+o,p=n$3(),g=n$3();let x=!1;if(s&&0!==u&&0!==y){const t=e!==n?e/n:u/y,i=e>n?e:n;let o=1,s=1;isNaN(i)||(t>1?(o=i/u,s=i/t/y):(s=i/y,o=i*t/u)),o$1(g,g,I(p,o,s,c,d)),x=!0;}const m=t.x+(u-o)/2,w=t.y+(y-o)/2;if(o$1(g,g,G(p,c-m,d-w)),!x&&(u>e||y>n)){const t=u/e>y/n,i=(t?e:n)/(t?u:y);o$1(g,g,I(p,i,i,m,w));}return a&&o$1(g,g,z(p,a,m,w)),h&&o$1(g,g,G(p,h[0],h[1])),`matrix(${g[0]},${g[1]},${g[2]},${g[3]},${g[4]},${g[5]})`}function C(t,e,i){const r=t?.effects.find((t=>"bloom"===t.type));if(!r)return null;const{strength:n,radius:o}=r,s=n>0?o:0,a=(n+s)*e,h=4*n+1;return n$1("filter",{id:`bloom${i}`,x:"-100%",y:"-100%",width:"300%",height:"300%",filterUnits:"userSpaceOnUse"},n$1("feMorphology",{operator:"dilate",radius:(n+.5*s)*(5**(e/100)*(.4+e/100)),in:"SourceGraphic",result:"dilate"}),n$1("feGaussianBlur",{in:"dilate",stdDeviation:a/25,result:"blur"}),n$1("feGaussianBlur",{in:"blur",stdDeviation:a/50,result:"intensityBlur"}),n$1("feComponentTransfer",{in:"SourceGraphic",result:"intensityBrightness"},n$1("feFuncR",{type:"linear",slope:h}),n$1("feFuncG",{type:"linear",slope:h}),n$1("feFuncB",{type:"linear",slope:h})),n$1("feMerge",null,n$1("feMergeNode",{in:"intensityBlur"}),n$1("feMergeNode",{in:"intensityBrightness"}),n$1("feGaussianBlur",{stdDeviation:n/10})))}function D(t,e,i,r={}){const n=[],o=[],s=++k,a=C(r.effectView,e,s);let f=null;if(a){const t=r.effectView?.effects.find((t=>"bloom"===t.type)),n=(t.strength?t.strength+t.radius/2:0)/3,o=e+e*n,s=i+i*n;f=[Math.max(o,10),Math.max(s,10)];}for(let h=0;h<t.length;h++){const s=t[h],a=[],c=[];let d=0,u=0,y=0;for(const t of s){const{shape:e,fill:i,stroke:o,font:s,offset:l}=t;r.ignoreStrokeWidth||(d+=o&&o.width||0);const h=M(i),f=A(o),p="text"===e.type?S$1(e,s):null;n.push($(h)),a.push(v$1(e,h.fill,f,p)),c.push(T(e)),l&&(u+=l[0],y+=l[1]);}const p=V$1(E(c),e,i,d,r.scale,r.rotation,r.useRotationSize,[u,y],f);let g=null;if(r.masking){const t=`mask-${h}`,e=r.masking[h];n.push(N(e,t)),g=`url(#${t})`;}o.push(g?n$1("g",{mask:g},n$1("g",{transform:p},a)):n$1("g",{transform:p},a));}r.useRotationSize&&r.rotation&&(e=b$1(r.rotation,e),i=b$1(r.rotation,i)),a&&(e=f[0],i=f[1]);return n$1("svg",{xmlns:h$1,width:e,height:i,style:"display: block;"},a,n$1("defs",null,n),a?n$1("g",{filter:`url(#bloom${s})`},o):o)}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
const h=i$1();function l(t,e,i){const r=Math.ceil(e[0]),n=Math.ceil(e[1]);if(!t.some((t=>!!t.length)))return null;const o=i&&i.node||document.createElement("div");return null!=i.opacity&&(o.style.opacity=i.opacity.toString()),null!=i.effectView&&(o.style.filter=q(i.effectView)),h.append(o,D.bind(null,t,r,n,i)),o}function m$1(t,e){t=Math.ceil(t),e=Math.ceil(e);const i=document.createElement("canvas");i.width=t,i.height=e,i.style.width=t+"px",i.style.height=e+"px";const r=i.getContext("2d");return r.clearRect(0,0,t,e),r}function g$1(t,i,r){return t?U$1(t,{responseType:"image"}).then((t=>{const e=t.data,n=e.width,o=e.height,a=n/o;let c=i;if(r){const t=Math.max(n,o);c=Math.min(c,t);}return {image:e,width:a<=1?Math.ceil(c*a):c,height:a<=1?c:Math.ceil(c/a)}})):Promise.reject(new s$1("renderUtils: imageDataSize","href not provided."))}function u(t,e){return !(!t||"ignore"===e)&&("multiply"!==e||255!==t.r||255!==t.g||255!==t.b||1!==t.a)}function d$1(t,e,n,o,a){switch(a){case"multiply":t[e+0]*=n[0],t[e+1]*=n[1],t[e+2]*=n[2],t[e+3]*=n[3];break;default:{const a=y$2({r:t[e+0],g:t[e+1],b:t[e+2]});a.h=o.h,a.s=o.s,a.v=a.v/100*o.v;const c=p$3(a);t[e+0]=c.r,t[e+1]=c.g,t[e+2]=c.b,t[e+3]*=n[3];break}}}function f(e,r,n,a$1,c){return g$1(e,r,c).then((c=>{const s=c.width?c.width:r,h=c.height?c.height:r;if(c.image&&u(n,a$1)){let t=c.image.width,r=c.image.height;a("edge")&&/\.svg$/i.test(e)&&(t-=1,r-=1);const l=m$1(s,h);l.drawImage(c.image,0,0,t,r,0,0,s,h);const g=l.getImageData(0,0,s,h),u=[n.r/255,n.g/255,n.b/255,n.a],f=y$2(n);for(let e=0;e<g.data.length;e+=4)d$1(g.data,e,u,f,a$1);l.putImageData(g,0,0),e=l.canvas.toDataURL("image/png");}else {const i=n$4&&n$4.findCredential(e);if(i&&i.token){const t=e.includes("?")?"&":"?";e=`${e}${t}token=${i.token}`;}}return {url:e,width:s,height:h}})).catch((()=>({url:e,width:r,height:r})))}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
let y=null;const p=[255,255,255];function d(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function m(e,t$1,l){const{backgroundColor:r,outline:i,dotSize:o}=e,a=l&&l.swatchSize||t.size,n=.8,c=Math.round(a*a/o**2*n),u=window.devicePixelRatio,f=document.createElement("canvas"),h=a*u;f.width=h,f.height=h,f.style.width=f.width/u+"px",f.style.height=f.height/u+"px";const p=f.getContext("2d");if(r&&(p.fillStyle=r.toCss(!0),p.fillRect(0,0,h,h),p.fill()),p.fillStyle=t$1.toCss(!0),y&&y.length/2===c)for(let s=0;s<2*c;s+=2){const e=y[s],t=y[s+1];p.fillRect(e,t,o*u,o*u),p.fill();}else {y=[];for(let e=0;e<2*c;e+=2){const e=d(0,h),t=d(0,h);y.push(e,t),p.fillRect(e,t,o*u,o*u),p.fill();}}i&&(i.color&&(p.strokeStyle=i.color.toCss(!0)),p.lineWidth=i.width,p.strokeRect(0,0,h,h));const m=new Image(a,a);return m.src=f.toDataURL(),m}function b(e,t={}){const l$1=t.radius||40,r=2*Math.PI*l$1,s=e.length,a=r/s,n=[],c=j$1(t.outline);c&&(c.width*=2),(c||t.backgroundColor)&&n.push({shape:{type:"circle",cx:l$1,cy:l$1,r:l$1},fill:t.backgroundColor,stroke:c,offset:[0,0]});const u=t.values,f=u&&u.length===s&&100===u.reduce(((e,t)=>e+t),0),h=[0];for(let i=0;i<s;i++){const t=f?u[i]*r/100:null;f&&h.push(t+h[i]),n.push({shape:{type:"circle",cx:l$1,cy:l$1,r:l$1/2},fill:[0,0,0,0],stroke:{width:l$1,dashArray:`${t||a} ${r}`,dashoffset:"-"+(f?h[i]/2:i*(a/2)),color:e[i]},offset:[0,0]});}let y=null;const d=2*l$1+(c?.width||0),m=t.holePercentage;if(m){c&&n.push({shape:{type:"circle",cx:l$1,cy:l$1,r:l$1*m},fill:null,stroke:c,offset:[0,0]});const e=d/2;y=[[{shape:{type:"circle",cx:e,cy:e,r:e},fill:p,stroke:c?{...c,color:p}:null,offset:[0,0]},{shape:{type:"circle",cx:e,cy:e,r:l$1*m},fill:[0,0,0],stroke:null,offset:[0,0]}]];}return l([n],[d,d],{effectView:t.effectList,ignoreStrokeWidth:!0,masking:y,rotation:-90})}function g(e,t={}){const l=24,r=75,i="horizontal"===t.align,s=i?r:l,o=i?l:r,{width:a=s,height:n=o,gradient:c=!0}=t,u=window.devicePixelRatio,f=a*u,h=n*u,y=document.createElement("canvas");y.width=f,y.height=h,y.style.width=`${a}px`,y.style.height=`${n}px`;const p=y.getContext("2d"),d=i?f:0,m=i?0:h;if(c){const t=p.createLinearGradient(0,0,d,m),l=e.length,r=1===l?0:1/(l-1);e.forEach(((e,l)=>t.addColorStop(l*r,e.toString()))),p.fillStyle=t,p.fillRect(0,0,f,h);}else {const t=i?f/e.length:f,l=i?h:h/e.length;let r=0,s=0;for(const o of e)p.fillStyle=o.toString(),p.fillRect(r,s,t,l),r=i?r+t:0,s=i?0:s+l;}const b=document.createElement("div");return b.style.width=`${a}px`,b.style.height=`${n}px`,w(b,t?.effectList),b.appendChild(y),b}function w(e,t){if(!t)return;e.style.filter=q(t);const l=t.effects;if(l)for(const r of l)if("drop-shadow"===r?.type){r.offsetX<0?e.style.marginLeft=`${Math.abs(r.offsetX)}px`:e.style.marginRight=`${r.offsetX}px`;break}}async function S(e,t){switch(e.type){case"web-style":{const{previewWebStyleSymbol:l}=await import('./previewWebStyleSymbol-c0507105.js');return l(e,S,t)}case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":{const{previewSymbol3D:l}=await import('./previewSymbol3D-7ddea904.js');return l(e,t)}case"simple-marker":case"simple-line":case"simple-fill":case"picture-marker":case"picture-fill":case"text":{const{previewSymbol2D:l}=await import('./previewSymbol2D-075ca640.js');return l(e,t)}case"cim":{const{previewCIMSymbol:l}=await import('./previewCIMSymbol-791fb8a7.js');return l(e,t)}default:return}}function v(e){return e&&"opacity"in e?e.opacity*v(e.parent):1}async function x(i,s){if(!i)return;const o=i.sourceLayer,a=(r(s)&&s.useSourceLayer?o:i.layer)??o,f=v(a);if(r(i.symbol)&&(!r(s)||!0!==s.ignoreGraphicSymbol)){const t="web-style"===i.symbol.type?await i.symbol.fetchSymbol({...s,cache:r(s)?s.webStyleCache:null}):i.symbol.clone();return x$2(t,null,f),t}const h=r(s)&&s.renderer||a&&"renderer"in a&&a.renderer;let y=h&&"getSymbolAsync"in h?await h.getSymbolAsync(i,s):null;if(!y)return;if(y="web-style"===y.type?await y.fetchSymbol({...s,cache:r(s)?s.webStyleCache:null}):y.clone(),!("visualVariables"in h)||!h.visualVariables||!h.visualVariables.length)return x$2(y,null,f),y;if("arcadeRequiredForVisualVariables"in h&&h.arcadeRequiredForVisualVariables&&(t$1(s)||t$1(s.arcade))){const e={...e$2(s)};e.arcade=await a$1(),s=e;}const p=await import('./UniqueValueRenderer-bb66af10.js').then(function (n) { return n.i; }),d=[],m=[],b=[],g=[];for(const e of h.visualVariables)switch(e.type){case"color":d.push(e);break;case"opacity":m.push(e);break;case"rotation":g.push(e);break;case"size":e.target||b.push(e);}const w=!!d.length&&d[d.length-1],S=w?p.getColor(w,i,s):null,x=!!m.length&&m[m.length-1];let V=x?p.getOpacity(x,i,s):null;if(null!=f&&(V=null!=V?V*f:f),x$2(y,S,V),b.length){const e=p.getAllSizes(b,i,s);await M$1(y,e);}for(const e of g)N$1(y,p.getRotationAngle(e,i,s),e.axis);return y}async function V(i,s){if(!i)return;const o=v(i.layer||i.sourceLayer);if(r(i.symbol)&&(!r(s)||!0!==s.ignoreGraphicSymbol)){const e="web-style"===i.symbol.type?await i.symbol.fetchSymbol(s):i.symbol.clone();return j$2(e,o)}const a=r(s)&&s.renderer||i.get("layer.renderer")||i.get("sourceLayer.renderer");let n=await a.getSymbolAsync(i,s);if(!n)return;n="web-style"===n.type?await n.fetchSymbol(s):n.clone();const c=j$2(n,o);if(!("visualVariables"in a)||"visualVariables"in a&&!a.visualVariables||"visualVariables"in a&&!a.visualVariables?.length)return c;if(a.arcadeRequiredForVisualVariables&&(t$1(s)||t$1(s.arcade))){const e={...e$2(s)};e.arcade=await a$1(),s=e;}const u=await import('./UniqueValueRenderer-bb66af10.js').then(function (n) { return n.i; }),y=[],p=[];for(const e of a.visualVariables)switch(e.type){case"color":y.push(e);break;case"opacity":p.push(e);}const d=y.length>0?y[y.length-1]:null,m=d?u.getColor(d,i,s):c,b=p.length>0?p[p.length-1]:null;let g=b?u.getOpacity(b,i,s):null;return null!=o&&(g=null!=g?g*o:o),m?L$1(m,g):null}

export { $, A, D, E, L, M, S, T, V$1 as V, l$1 as a, b, m$3 as c, c$1 as d, e, f, g, h$2 as h, d$3 as i, l, m, n, o, p$2 as p, s, t, u$2 as u, v$1 as v, x };
