import { y as y$1, a2 as e, r, t } from './cast-3d5be210.js';
import { j } from './Collection-a38e0489.js';

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.24/esri/copyright.txt for details.
*/
const f=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function i(t){return t instanceof y$1}function c(e$1){return e$1 instanceof j?Object.keys(e$1.items):i(e$1)?e(e$1).keys():e$1?Object.keys(e$1):[]}function l(e,n){return e instanceof j?e.items[n]:e[n]}function u(e,t){return !(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}function s(e){return e?e.declaredClass:null}function p(e,t){const n=e.diff;if(n&&"function"==typeof n)return n(e,t);const r$1=c(e),a=c(t);if(0===r$1.length&&0===a.length)return;if(!r$1.length||!a.length||u(e,t))return {type:"complete",oldValue:e,newValue:t};const y=a.filter((e=>!r$1.includes(e))),m=r$1.filter((e=>!a.includes(e))),d=r$1.filter((n=>a.includes(n)&&l(e,n)!==l(t,n))).concat(y,m).sort(),b=s(e);if(b&&f.includes(b)&&d.length)return {type:"complete",oldValue:e,newValue:t};let h;const g=i(e)&&i(t);for(const f of d){const r$1=l(e,f),i=l(t,f);let c;if((g||"function"!=typeof r$1&&"function"!=typeof i)&&(r$1!==i&&(null!=r$1||null!=i))){if(n&&n[f]&&"function"==typeof n[f])c=n[f](r$1,i);else if(r$1 instanceof Date&&i instanceof Date){if(r$1.getTime()===i.getTime())continue;c={type:"complete",oldValue:r$1,newValue:i};}else c="object"==typeof r$1&&"object"==typeof i&&s(r$1)===s(i)?p(r$1,i):{type:"complete",oldValue:r$1,newValue:i};r(c)&&(r(h)?h.diff[f]=c:h={type:"partial",diff:{[f]:c}});}}return h}function a(e,t$1){if(t(e))return !1;const o=t$1.split(".");let r=e;for(const n of o){if("complete"===r.type)return !0;if("partial"!==r.type)return !1;{const e=r.diff[n];if(!e)return !1;r=e;}}return !0}function y(e,t){for(const n of t)if(a(e,n))return !0;return !1}function m(e,t$1){if(!("function"==typeof e||"function"==typeof t$1||t(e)&&t(t$1)))return t(e)||t(t$1)||"object"==typeof e&&"object"==typeof t$1&&s(e)!==s(t$1)?{type:"complete",oldValue:e,newValue:t$1}:p(e,t$1)}function d(e){if(t(e))return !0;switch(e.type){case"complete":return !1;case"collection":{const t=e;for(const e of t.added)if(!d(e))return !1;for(const e of t.removed)if(!d(e))return !1;for(const e of t.changed)if(!d(e))return !1;return !0}case"partial":for(const t in e.diff){if(!d(e.diff[t]))return !1}return !0}}

export { a, d, m, y };
